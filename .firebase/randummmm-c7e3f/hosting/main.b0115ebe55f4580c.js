(self.webpackChunkRandummmm=self.webpackChunkRandummmm||[]).push([[179],{1629:(N,T,w)=>{"use strict";function u(e){return"function"==typeof e}function b(e){const n=e(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const D=b(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function y(e,t){if(e){const n=e.indexOf(t);0<=n&&e.splice(n,1)}}class g{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const o of n)o.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(u(r))try{r()}catch(o){t=o instanceof D?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{d(o)}catch(s){t=t??[],s instanceof D?t=[...t,...s.errors]:t.push(s)}}if(t)throw new D(t)}}add(t){var n;if(t&&t!==this)if(this.closed)d(t);else{if(t instanceof g){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(t)}}_hasParent(t){const{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){const{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&y(n,t)}remove(t){const{_finalizers:n}=this;n&&y(n,t),t instanceof g&&t._removeParent(this)}}g.EMPTY=(()=>{const e=new g;return e.closed=!0,e})();const C=g.EMPTY;function v(e){return e instanceof g||e&&"closed"in e&&u(e.remove)&&u(e.add)&&u(e.unsubscribe)}function d(e){u(e)?e():e.unsubscribe()}const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},h={setTimeout(e,t,...n){const{delegate:r}=h;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){const{delegate:t}=h;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function _(e){h.setTimeout(()=>{const{onUnhandledError:t}=f;if(!t)throw e;t(e)})}function S(){}const I=L("C",void 0,void 0);function L(e,t,n){return{kind:e,value:t,error:n}}let j=null;function m(e){if(f.useDeprecatedSynchronousErrorHandling){const t=!j;if(t&&(j={errorThrown:!1,error:null}),e(),t){const{errorThrown:n,error:r}=j;if(j=null,n)throw r}}else e()}class R extends g{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,v(t)&&t.add(this)):this.destination=W}static create(t,n,r){return new U(t,n,r)}next(t){this.isStopped?$(function O(e){return L("N",e,void 0)}(t),this):this._next(t)}error(t){this.isStopped?$(function A(e){return L("E",void 0,e)}(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?$(I,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const k=Function.prototype.bind;function V(e,t){return k.call(e,t)}class q{constructor(t){this.partialObserver=t}next(t){const{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){G(r)}}error(t){const{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){G(r)}else G(t)}complete(){const{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){G(n)}}}class U extends R{constructor(t,n,r){let i;if(super(),u(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&f.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&V(t.next,o),error:t.error&&V(t.error,o),complete:t.complete&&V(t.complete,o)}):i=t}this.destination=new q(i)}}function G(e){f.useDeprecatedSynchronousErrorHandling?function M(e){f.useDeprecatedSynchronousErrorHandling&&j&&(j.errorThrown=!0,j.error=e)}(e):_(e)}function $(e,t){const{onStoppedNotification:n}=f;n&&h.setTimeout(()=>n(e,t))}const W={closed:!0,next:S,error:function fe(e){throw e},complete:S},ne="function"==typeof Symbol&&Symbol.observable||"@@observable";function te(e){return e}function ve(e){return 0===e.length?te:1===e.length?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}let he=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){const o=function Ce(e){return e&&e instanceof R||function oe(e){return e&&u(e.next)&&u(e.error)&&u(e.complete)}(e)&&v(e)}(n)?n:new U(n,r,i);return m(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=ue(r))((i,o)=>{const s=new U({next:a=>{try{n(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[ne](){return this}pipe(...n){return ve(n)(this)}toPromise(n){return new(n=ue(n))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=t=>new e(t),e})();function ue(e){var t;return null!==(t=e??f.Promise)&&void 0!==t?t:Promise}const we=b(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let F=(()=>{class e extends he{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new H(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new we}next(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){m(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:o}=this;return r||i?C:(this.currentObservers=null,o.push(n),new g(()=>{this.currentObservers=null,y(o,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){const n=new he;return n.source=this,n}}return e.create=(t,n)=>new H(t,n),e})();class H extends F{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,t)}error(t){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,t)}complete(){var t,n;null===(n=null===(t=this.destination)||void 0===t?void 0:t.complete)||void 0===n||n.call(t)}_subscribe(t){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(t))&&void 0!==r?r:C}}function Y(e){return u(e?.lift)}function ce(e){return t=>{if(Y(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function _e(e,t,n,r,i){return new He(e,t,n,r,i)}class He extends R{constructor(t,n,r,i,o,s){super(t),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(c){t.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){t.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(t=this.onFinalize)||void 0===t||t.call(this))}}}function le(e,t){return ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>{r.next(e.call(t,o,i++))}))})}function Ir(e){return this instanceof Ir?(this.v=e,this):new Ir(e)}function lh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,t=e[Symbol.asyncIterator];return t?t.call(e):(e=function Qc(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(l){o({value:l,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const uh=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function dh(e){return u(e?.then)}function fh(e){return u(e[ne])}function hh(e){return Symbol.asyncIterator&&u(e?.[Symbol.asyncIterator])}function ph(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const gh=function Jb(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mh(e){return u(e?.[gh])}function vh(e){return function ch(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(e,t||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(P){r[P]&&(i[P]=function(x){return new Promise(function(B,z){o.push([P,x,B,z])>1||a(P,x)})})}function a(P,x){try{!function c(P){P.value instanceof Ir?Promise.resolve(P.value.v).then(l,p):E(o[0][2],P)}(r[P](x))}catch(B){E(o[0][3],B)}}function l(P){a("next",P)}function p(P){a("throw",P)}function E(P,x){P(x),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const n=e.getReader();try{for(;;){const{value:r,done:i}=yield Ir(n.read());if(i)return yield Ir(void 0);yield yield Ir(r)}}finally{n.releaseLock()}})}function yh(e){return u(e?.getReader)}function Cn(e){if(e instanceof he)return e;if(null!=e){if(fh(e))return function Zb(e){return new he(t=>{const n=e[ne]();if(u(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(uh(e))return function Kb(e){return new he(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}(e);if(dh(e))return function Yb(e){return new he(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,_)})}(e);if(hh(e))return Ch(e);if(mh(e))return function Qb(e){return new he(t=>{for(const n of e)if(t.next(n),t.closed)return;t.complete()})}(e);if(yh(e))return function Xb(e){return Ch(vh(e))}(e)}throw ph(e)}function Ch(e){return new he(t=>{(function eD(e,t){var n,r,i,o;return function Ns(e,t,n,r){return new(n||(n=Promise))(function(o,s){function a(p){try{l(r.next(p))}catch(E){s(E)}}function c(p){try{l(r.throw(p))}catch(E){s(E)}}function l(p){p.done?o(p.value):function i(o){return o instanceof n?o:new n(function(s){s(o)})}(p.value).then(a,c)}l((r=r.apply(e,t||[])).next())})}(this,void 0,void 0,function*(){try{for(n=lh(e);!(r=yield n.next()).done;)if(t.next(r.value),t.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})})(e,t).catch(n=>t.error(n))})}function cr(e,t,n,r=0,i=!1){const o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function kt(e,t,n=1/0){return u(t)?kt((r,i)=>le((o,s)=>t(r,o,i,s))(Cn(e(r,i))),n):("number"==typeof t&&(n=t),ce((r,i)=>function tD(e,t,n,r,i,o,s,a){const c=[];let l=0,p=0,E=!1;const P=()=>{E&&!c.length&&!l&&t.complete()},x=z=>l<r?B(z):c.push(z),B=z=>{o&&t.next(z),l++;let K=!1;Cn(n(z,p++)).subscribe(_e(t,re=>{i?.(re),o?x(re):t.next(re)},()=>{K=!0},void 0,()=>{if(K)try{for(l--;c.length&&l<r;){const re=c.shift();s?cr(t,s,()=>B(re)):B(re)}P()}catch(re){t.error(re)}}))};return e.subscribe(_e(t,x,()=>{E=!0,P()})),()=>{a?.()}}(r,i,e,n)))}function hi(e=1/0){return kt(te,e)}const zn=new he(e=>e.complete());function Xc(e){return e[e.length-1]}function _h(e){return u(Xc(e))?e.pop():void 0}function vo(e){return function rD(e){return e&&u(e.schedule)}(Xc(e))?e.pop():void 0}function wh(e,t=0){return ce((n,r)=>{n.subscribe(_e(r,i=>cr(r,e,()=>r.next(i),t),()=>cr(r,e,()=>r.complete(),t),i=>cr(r,e,()=>r.error(i),t)))})}function bh(e,t=0){return ce((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Dh(e,t){if(!e)throw new Error("Iterable cannot be null");return new he(n=>{cr(n,t,()=>{const r=e[Symbol.asyncIterator]();cr(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function St(e,t){return t?function uD(e,t){if(null!=e){if(fh(e))return function oD(e,t){return Cn(e).pipe(bh(t),wh(t))}(e,t);if(uh(e))return function aD(e,t){return new he(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}(e,t);if(dh(e))return function sD(e,t){return Cn(e).pipe(bh(t),wh(t))}(e,t);if(hh(e))return Dh(e,t);if(mh(e))return function cD(e,t){return new he(n=>{let r;return cr(n,t,()=>{r=e[gh](),cr(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void n.error(s)}o?n.complete():n.next(i)},0,!0)}),()=>u(r?.return)&&r.return()})}(e,t);if(yh(e))return function lD(e,t){return Dh(vh(e),t)}(e,t)}throw ph(e)}(e,t):Cn(e)}function el(e,t,...n){if(!0===t)return void e();if(!1===t)return;const r=new U({next:()=>{r.unsubscribe(),e()}});return Cn(t(...n)).subscribe(r)}function rt(e){for(let t in e)if(e[t]===rt)return t;throw Error("Could not find renamed property on target object.")}function tl(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ot(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ot).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function nl(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const hD=rt({__forward_ref__:rt});function st(e){return e.__forward_ref__=st,e.toString=function(){return ot(this())},e}function Ie(e){return rl(e)?e():e}function rl(e){return"function"==typeof e&&e.hasOwnProperty(hD)&&e.__forward_ref__===st}function il(e){return e&&!!e.\u0275providers}const Sh="https://g.co/ng/security#xss";class ie extends Error{constructor(t,n){super(Fs(t,n)),this.code=t}}function Fs(e,t){return`NG0${Math.abs(e)}${t?": "+t.trim():""}`}function xe(e){return"string"==typeof e?e:null==e?"":String(e)}function Ls(e,t){throw new ie(-201,!1)}function _n(e,t){null==e&&function Ye(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${n} ${r} ${t} <=Actual]`))}(t,e,null,"!=")}function Se(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pn(e){return{providers:e.providers||[],imports:e.imports||[]}}function Vs(e){return Eh(e,js)||Eh(e,Th)}function Eh(e,t){return e.hasOwnProperty(t)?e[t]:null}function Mh(e){return e&&(e.hasOwnProperty(ol)||e.hasOwnProperty(wD))?e[ol]:null}const js=rt({\u0275prov:rt}),ol=rt({\u0275inj:rt}),Th=rt({ngInjectableDef:rt}),wD=rt({ngInjectorDef:rt});var Ae=(()=>((Ae=Ae||{})[Ae.Default=0]="Default",Ae[Ae.Host=1]="Host",Ae[Ae.Self=2]="Self",Ae[Ae.SkipSelf=4]="SkipSelf",Ae[Ae.Optional=8]="Optional",Ae))();let sl;function wn(e){const t=sl;return sl=e,t}function Ih(e,t,n){const r=Vs(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ae.Optional?null:void 0!==t?t:void Ls(ot(e))}const ut=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),yo={},al="__NG_DI_FLAG__",Bs="ngTempTokenPath",DD="ngTokenPath",SD=/\n/gm,ED="\u0275",Ah="__source";let Co;function pi(e){const t=Co;return Co=e,t}function MD(e,t=Ae.Default){if(void 0===Co)throw new ie(-203,!1);return null===Co?Ih(e,void 0,t):Co.get(e,t&Ae.Optional?null:void 0,t)}function Ee(e,t=Ae.Default){return(function bD(){return sl}()||MD)(Ie(e),t)}function ze(e,t=Ae.Default){return Ee(e,Us(t))}function Us(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function cl(e){const t=[];for(let n=0;n<e.length;n++){const r=Ie(e[n]);if(Array.isArray(r)){if(0===r.length)throw new ie(900,!1);let i,o=Ae.Default;for(let s=0;s<r.length;s++){const a=r[s],c=TD(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}t.push(Ee(i,o))}else t.push(Ee(r))}return t}function _o(e,t){return e[al]=t,e.prototype[al]=t,e}function TD(e){return e[al]}function lr(e){return{toString:e}.toString()}var Wn=(()=>((Wn=Wn||{})[Wn.OnPush=0]="OnPush",Wn[Wn.Default=1]="Default",Wn))(),qn=(()=>{return(e=qn||(qn={}))[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",qn;var e})();const ur={},qe=[],$s=rt({\u0275cmp:rt}),ll=rt({\u0275dir:rt}),ul=rt({\u0275pipe:rt}),Rh=rt({\u0275mod:rt}),dr=rt({\u0275fac:rt}),wo=rt({__NG_ELEMENT_ID__:rt});let PD=0;function gi(e){return lr(()=>{const t=xh(e),n={...t,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Wn.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:null,data:e.data||{},encapsulation:e.encapsulation||qn.Emulated,id:"c"+PD++,styles:e.styles||qe,_:null,schemas:e.schemas||null,tView:null};kh(n);const r=e.dependencies;return n.directiveDefs=Hs(r,!1),n.pipeDefs=Hs(r,!0),n})}function OD(e){return Qe(e)||Ut(e)}function xD(e){return null!==e}function Jn(e){return lr(()=>({type:e.type,bootstrap:e.bootstrap||qe,declarations:e.declarations||qe,imports:e.imports||qe,exports:e.exports||qe,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function Oh(e,t){if(null==e)return ur;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}function Oe(e){return lr(()=>{const t=xh(e);return kh(t),t})}function Qe(e){return e[$s]||null}function Ut(e){return e[ll]||null}function rn(e){return e[ul]||null}function dn(e,t){const n=e[Rh]||null;if(!n&&!0===t)throw new Error(`Type ${ot(e)} does not have '\u0275mod' property.`);return n}function xh(e){const t={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,exportAs:e.exportAs||null,standalone:!0===e.standalone,selectors:e.selectors||qe,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Oh(e.inputs,t),outputs:Oh(e.outputs)}}function kh(e){e.features?.forEach(t=>t(e))}function Hs(e,t){if(!e)return null;const n=t?rn:OD;return()=>("function"==typeof e?e():e).map(r=>n(r)).filter(xD)}const fr=0,me=1,je=2,mt=3,Rn=4,Wr=5,$t=6,vi=7,_t=8,Gs=9,zs=10,Ue=11,dl=12,bo=13,Nh=14,yi=15,Ht=16,Do=17,Ci=18,Zn=19,So=20,Fh=21,dt=22,fl=1,Lh=2,Ws=7,qs=8,_i=9,Jt=10;function fn(e){return Array.isArray(e)&&"object"==typeof e[fl]}function On(e){return Array.isArray(e)&&!0===e[fl]}function hl(e){return 0!=(4&e.flags)}function Eo(e){return e.componentOffset>-1}function Js(e){return 1==(1&e.flags)}function xn(e){return!!e.template}function ND(e){return 0!=(256&e[je])}function qr(e,t){return e.hasOwnProperty(dr)?e[dr]:null}class VD{constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function bn(){return Bh}function Bh(e){return e.type.prototype.ngOnChanges&&(e.setInput=BD),jD}function jD(){const e=$h(this),t=e?.current;if(t){const n=e.previous;if(n===ur)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function BD(e,t,n,r){const i=this.declaredInputs[n],o=$h(e)||function UD(e,t){return e[Uh]=t}(e,{previous:ur,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new VD(c&&c.currentValue,t,a===ur),e[r]=t}bn.ngInherit=!0;const Uh="__ngSimpleChanges__";function $h(e){return e[Uh]||null}const Dn=function(e,t,n){};function Nt(e){for(;Array.isArray(e);)e=e[fr];return e}function Zs(e,t){return Nt(t[e])}function hn(e,t){return Nt(t[e.index])}function zh(e,t){return e.data[t]}function on(e,t){const n=t[e];return fn(n)?n:n[fr]}function Ks(e){return 64==(64&e[je])}function Pr(e,t){return null==t?null:e[t]}function Wh(e){e[Ci]=0}function gl(e,t){e[Wr]+=t;let n=e,r=e[mt];for(;null!==r&&(1===t&&1===n[Wr]||-1===t&&0===n[Wr]);)r[Wr]+=t,n=r,r=r[mt]}const ke={lFrame:np(null),bindingsEnabled:!0};function Jh(){return ke.bindingsEnabled}function Q(){return ke.lFrame.lView}function We(){return ke.lFrame.tView}function Rr(e){return ke.lFrame.contextLView=e,e[_t]}function Or(e){return ke.lFrame.contextLView=null,e}function Ft(){let e=Zh();for(;null!==e&&64===e.type;)e=e.parent;return e}function Zh(){return ke.lFrame.currentTNode}function Kn(e,t){const n=ke.lFrame;n.currentTNode=e,n.isParent=t}function ml(){return ke.lFrame.isParent}function vl(){ke.lFrame.isParent=!1}function Zt(){const e=ke.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function bi(){return ke.lFrame.bindingIndex++}function eS(e,t){const n=ke.lFrame;n.bindingIndex=n.bindingRootIndex=e,yl(t)}function yl(e){ke.lFrame.currentDirectiveIndex=e}function _l(e){ke.lFrame.currentQueryIndex=e}function nS(e){const t=e[me];return 2===t.type?t.declTNode:1===t.type?e[$t]:null}function ep(e,t,n){if(n&Ae.SkipSelf){let i=t,o=e;for(;!(i=i.parent,null!==i||n&Ae.Host||(i=nS(o),null===i||(o=o[yi],10&i.type))););if(null===i)return!1;t=i,e=o}const r=ke.lFrame=tp();return r.currentTNode=t,r.lView=e,!0}function wl(e){const t=tp(),n=e[me];ke.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function tp(){const e=ke.lFrame,t=null===e?null:e.child;return null===t?np(e):t}function np(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function rp(){const e=ke.lFrame;return ke.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ip=rp;function bl(){const e=rp();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Kt(){return ke.lFrame.selectedIndex}function Jr(e){ke.lFrame.selectedIndex=e}function ht(){const e=ke.lFrame;return zh(e.tView,e.selectedIndex)}function Ys(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const o=e.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:p}=o;s&&(e.contentHooks??(e.contentHooks=[])).push(-n,s),a&&((e.contentHooks??(e.contentHooks=[])).push(n,a),(e.contentCheckHooks??(e.contentCheckHooks=[])).push(n,a)),c&&(e.viewHooks??(e.viewHooks=[])).push(-n,c),l&&((e.viewHooks??(e.viewHooks=[])).push(n,l),(e.viewCheckHooks??(e.viewCheckHooks=[])).push(n,l)),null!=p&&(e.destroyHooks??(e.destroyHooks=[])).push(n,p)}}function Qs(e,t,n){op(e,t,3,n)}function Xs(e,t,n,r){(3&e[je])===n&&op(e,t,n,r)}function Dl(e,t){let n=e[je];(3&n)===t&&(n&=2047,n+=1,e[je]=n)}function op(e,t,n,r){const o=r??-1,s=t.length-1;let a=0;for(let c=void 0!==r?65535&e[Ci]:0;c<s;c++)if("number"==typeof t[c+1]){if(a=t[c],null!=r&&a>=r)break}else t[c]<0&&(e[Ci]+=65536),(a<o||-1==o)&&(dS(e,n,t,c),e[Ci]=(4294901760&e[Ci])+c+2),c++}function dS(e,t,n,r){const i=n[r]<0,o=n[r+1],a=e[i?-n[r]:n[r]];if(i){if(e[je]>>11<e[Ci]>>16&&(3&e[je])===t){e[je]+=2048,Dn(4,a,o);try{o.call(a)}finally{Dn(5,a,o)}}}else{Dn(4,a,o);try{o.call(a)}finally{Dn(5,a,o)}}}const Di=-1;class To{constructor(t,n,r){this.factory=t,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function El(e,t,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const o=n[r++],s=n[r++],a=n[r++];e.setAttribute(t,s,a,o)}else{const o=i,s=n[++r];ap(o)?e.setProperty(t,o,s):e.setAttribute(t,o,s),r++}}return r}function sp(e){return 3===e||4===e||6===e}function ap(e){return 64===e.charCodeAt(0)}function Io(e,t){if(null!==t&&0!==t.length)if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||cp(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function cp(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===t){s=-1;break}if(a>t){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function lp(e){return e!==Di}function ea(e){return 32767&e}function ta(e,t){let n=function gS(e){return e>>16}(e),r=t;for(;n>0;)r=r[yi],n--;return r}let Ml=!0;function na(e){const t=Ml;return Ml=e,t}const up=255,dp=5;let mS=0;const Yn={};function ra(e,t){const n=fp(e,t);if(-1!==n)return n;const r=t[me];r.firstCreatePass&&(e.injectorIndex=t.length,Tl(r.data,e),Tl(t,null),Tl(r.blueprint,null));const i=Il(e,t),o=e.injectorIndex;if(lp(i)){const s=ea(i),a=ta(i,t),c=a[me].data;for(let l=0;l<8;l++)t[o+l]=a[s+l]|c[s+l]}return t[o+8]=i,o}function Tl(e,t){e.push(0,0,0,0,0,0,0,0,t)}function fp(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function Il(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){if(r=Cp(i),null===r)return Di;if(n++,i=i[yi],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Di}function Al(e,t,n){!function vS(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(wo)&&(r=n[wo]),null==r&&(r=n[wo]=mS++);const i=r&up;t.data[e+(i>>dp)]|=1<<i}(e,t,n)}function hp(e,t,n){if(n&Ae.Optional||void 0!==e)return e;Ls()}function pp(e,t,n,r){if(n&Ae.Optional&&void 0===r&&(r=null),!(n&(Ae.Self|Ae.Host))){const i=e[Gs],o=wn(void 0);try{return i?i.get(t,r,n&Ae.Optional):Ih(t,r,n&Ae.Optional)}finally{wn(o)}}return hp(r,0,n)}function gp(e,t,n,r=Ae.Default,i){if(null!==e){if(1024&t[je]){const s=function bS(e,t,n,r,i){let o=e,s=t;for(;null!==o&&null!==s&&1024&s[je]&&!(256&s[je]);){const a=mp(o,s,n,r|Ae.Self,Yn);if(a!==Yn)return a;let c=o.parent;if(!c){const l=s[Fh];if(l){const p=l.get(n,Yn,r);if(p!==Yn)return p}c=Cp(s),s=s[yi]}o=c}return i}(e,t,n,r,Yn);if(s!==Yn)return s}const o=mp(e,t,n,r,Yn);if(o!==Yn)return o}return pp(t,n,r,i)}function mp(e,t,n,r,i){const o=function _S(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(wo)?e[wo]:void 0;return"number"==typeof t?t>=0?t&up:wS:t}(n);if("function"==typeof o){if(!ep(t,e,r))return r&Ae.Host?hp(i,0,r):pp(t,n,r,i);try{const s=o(r);if(null!=s||r&Ae.Optional)return s;Ls()}finally{ip()}}else if("number"==typeof o){let s=null,a=fp(e,t),c=Di,l=r&Ae.Host?t[Ht][$t]:null;for((-1===a||r&Ae.SkipSelf)&&(c=-1===a?Il(e,t):t[a+8],c!==Di&&yp(r,!1)?(s=t[me],a=ea(c),t=ta(c,t)):a=-1);-1!==a;){const p=t[me];if(vp(o,a,p.data)){const E=CS(a,t,n,s,r,l);if(E!==Yn)return E}c=t[a+8],c!==Di&&yp(r,t[me].data[a+8]===l)&&vp(o,a,t)?(s=p,a=ea(c),t=ta(c,t)):a=-1}}return i}function CS(e,t,n,r,i,o){const s=t[me],a=s.data[e+8],p=function ia(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,p=o>>20,P=i?a+p:e.directiveEnd;for(let x=r?a:a+p;x<P;x++){const B=s[x];if(x<c&&n===B||x>=c&&B.type===n)return x}if(i){const x=s[c];if(x&&xn(x)&&x.type===n)return c}return null}(a,s,n,null==r?Eo(a)&&Ml:r!=s&&0!=(3&a.type),i&Ae.Host&&o===a);return null!==p?Zr(t,s,p,a):Yn}function Zr(e,t,n,r){let i=e[n];const o=t.data;if(function fS(e){return e instanceof To}(i)){const s=i;s.resolving&&function pD(e,t){const n=t?`. Dependency path: ${t.join(" > ")} > ${e}`:"";throw new ie(-200,`Circular dependency in DI detected for ${e}${n}`)}(function Ke(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():xe(e)}(o[n]));const a=na(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?wn(s.injectImpl):null;ep(e,r,Ae.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function uS(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const s=Bh(t);(n.preOrderHooks??(n.preOrderHooks=[])).push(e,s),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,s)}i&&(n.preOrderHooks??(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks??(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks??(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==c&&wn(c),na(a),s.resolving=!1,ip()}}return i}function vp(e,t,n){return!!(n[t+(e>>dp)]&1<<e)}function yp(e,t){return!(e&Ae.Self||e&Ae.Host&&t)}class Si{constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return gp(this._tNode,this._lView,t,Us(r),n)}}function wS(){return new Si(Ft(),Q())}function Lt(e){return lr(()=>{const t=e.prototype.constructor,n=t[dr]||Pl(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[dr]||Pl(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Pl(e){return rl(e)?()=>{const t=Pl(Ie(e));return t&&t()}:qr(e)}function Cp(e){const t=e[me],n=t.type;return 2===n?t.declTNode:1===n?e[$t]:null}const Mi="__parameters__";function Ii(e,t,n){return lr(()=>{const r=function Rl(e){return function(...n){if(e){const r=e(...n);for(const i in r)this[i]=r[i]}}}(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,l,p){const E=c.hasOwnProperty(Mi)?c[Mi]:Object.defineProperty(c,Mi,{value:[]})[Mi];for(;E.length<=p;)E.push(null);return(E[p]=E[p]||[]).push(s),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class be{constructor(t,n){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=Se({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Kr(e,t){e.forEach(n=>Array.isArray(n)?Kr(n,t):t(n))}function wp(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function sa(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pn(e,t,n){let r=Ai(e,t);return r>=0?e[1|r]=n:(r=~r,function MS(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function xl(e,t){const n=Ai(e,t);if(n>=0)return e[1|n]}function Ai(e,t){return function bp(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<n];if(t===s)return o<<n;s>t?i=o:r=o+1}return~(i<<n)}(e,t,1)}const Oo=_o(Ii("Optional"),8),xo=_o(Ii("SkipSelf"),4);var sn=(()=>((sn=sn||{})[sn.Important=1]="Important",sn[sn.DashCase=2]="DashCase",sn))();const jl=new Map;let JS=0;const Ul="__ngContext__";function Gt(e,t){fn(t)?(e[Ul]=t[So],function KS(e){jl.set(e[So],e)}(t)):e[Ul]=t}let $l;function Hl(e,t){return $l(e,t)}function Lo(e){const t=e[mt];return On(t)?t[mt]:t}function Gl(e){return $p(e[bo])}function zl(e){return $p(e[Rn])}function $p(e){for(;null!==e&&!On(e);)e=e[Rn];return e}function Ri(e,t,n,r,i){if(null!=r){let o,s=!1;On(r)?o=r:fn(r)&&(s=!0,r=r[fr]);const a=Nt(r);0===e&&null!==n?null==i?Jp(t,n,a):Yr(t,n,a,i||null,!0):1===e&&null!==n?Yr(t,n,a,i||null,!0):2===e?function Ql(e,t,n){const r=ua(e,t);r&&function mE(e,t,n,r){e.removeChild(t,n,r)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function CE(e,t,n,r,i){const o=n[Ws];o!==Nt(n)&&Ri(t,e,r,o,i);for(let a=Jt;a<n.length;a++){const c=n[a];Vo(c[me],c,e,t,r,o)}}(t,e,o,n,i)}}function ql(e,t,n){return e.createElement(t,n)}function Gp(e,t){const n=e[_i],r=n.indexOf(t),i=t[mt];512&t[je]&&(t[je]&=-513,gl(i,-1)),n.splice(r,1)}function Jl(e,t){if(e.length<=Jt)return;const n=Jt+t,r=e[n];if(r){const i=r[Do];null!==i&&i!==e&&Gp(i,r),t>0&&(e[n-1][Rn]=r[Rn]);const o=sa(e,Jt+t);!function cE(e,t){Vo(e,t,t[Ue],2,null,null),t[fr]=null,t[$t]=null}(r[me],r);const s=o[Zn];null!==s&&s.detachView(o[me]),r[mt]=null,r[Rn]=null,r[je]&=-65}return r}function zp(e,t){if(!(128&t[je])){const n=t[Ue];n.destroyNode&&Vo(e,t,n,3,null,null),function dE(e){let t=e[bo];if(!t)return Zl(e[me],e);for(;t;){let n=null;if(fn(t))n=t[bo];else{const r=t[Jt];r&&(n=r)}if(!n){for(;t&&!t[Rn]&&t!==e;)fn(t)&&Zl(t[me],t),t=t[mt];null===t&&(t=e),fn(t)&&Zl(t[me],t),n=t&&t[Rn]}t=n}}(t)}}function Zl(e,t){if(!(128&t[je])){t[je]&=-65,t[je]|=128,function gE(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const i=t[n[r]];if(!(i instanceof To)){const o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];Dn(4,a,c);try{c.call(a)}finally{Dn(5,a,c)}}else{Dn(4,i,o);try{o.call(i)}finally{Dn(5,i,o)}}}}}(e,t),function pE(e,t){const n=e.cleanup,r=t[vi];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const s=n[o+3];s>=0?r[i=s]():r[i=-s].unsubscribe(),o+=2}else{const s=r[i=n[o+1]];n[o].call(s)}if(null!==r){for(let o=i+1;o<r.length;o++)(0,r[o])();t[vi]=null}}(e,t),1===t[me].type&&t[Ue].destroy();const n=t[Do];if(null!==n&&On(t[mt])){n!==t[mt]&&Gp(n,t);const r=t[Zn];null!==r&&r.detachView(e)}!function YS(e){jl.delete(e[So])}(t)}}function Wp(e,t,n){return function qp(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[fr];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===qn.None||o===qn.Emulated)return null}return hn(r,n)}}(e,t.parent,n)}function Yr(e,t,n,r,i){e.insertBefore(t,n,r,i)}function Jp(e,t,n){e.appendChild(t,n)}function Zp(e,t,n,r,i){null!==r?Yr(e,t,n,r,i):Jp(e,t,n)}function ua(e,t){return e.parentNode(t)}let Kl,tu,pa,Qp=function Yp(e,t,n){return 40&e.type?hn(e,n):null};function da(e,t,n,r){const i=Wp(e,r,t),o=t[Ue],a=function Kp(e,t,n){return Qp(e,t,n)}(r.parent||t[$t],r,t);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)Zp(o,i,n[c],a,!1);else Zp(o,i,n,a,!1);void 0!==Kl&&Kl(o,r,t,n,i)}function fa(e,t){if(null!==t){const n=t.type;if(3&n)return hn(t,e);if(4&n)return Yl(-1,e[t.index]);if(8&n){const r=t.child;if(null!==r)return fa(e,r);{const i=e[t.index];return On(i)?Yl(-1,i):Nt(i)}}if(32&n)return Hl(t,e)()||Nt(e[t.index]);{const r=eg(e,t);return null!==r?Array.isArray(r)?r[0]:fa(Lo(e[Ht]),r):fa(e,t.next)}}return null}function eg(e,t){return null!==t?e[Ht][$t].projection[t.projection]:null}function Yl(e,t){const n=Jt+e+1;if(n<t.length){const r=t[n],i=r[me].firstChild;if(null!==i)return fa(r,i)}return t[Ws]}function Xl(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Gt(Nt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)Xl(e,t,n.child,r,i,o,!1),Ri(t,e,i,a,o);else if(32&c){const l=Hl(n,r);let p;for(;p=l();)Ri(t,e,i,p,o);Ri(t,e,i,a,o)}else 16&c?tg(e,t,r,n,i,o):Ri(t,e,i,a,o);n=s?n.projectionNext:n.next}}function Vo(e,t,n,r,i,o){Xl(n,r,e.firstChild,t,i,o,!1)}function tg(e,t,n,r,i,o){const s=n[Ht],c=s[$t].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)Ri(t,e,i,c[l],o);else Xl(e,t,c,s[mt],i,o,!0)}function ng(e,t,n){""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rg(e,t,n){const{mergedAttrs:r,classes:i,styles:o}=n;null!==r&&El(e,t,r),null!==i&&ng(e,t,i),null!==o&&function wE(e,t,n){e.setAttribute(t,"style",n)}(e,t,o)}function ag(e){return function nu(){if(void 0===pa&&(pa=null,ut.trustedTypes))try{pa=ut.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return pa}()?.createScriptURL(e)||e}class cg{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Sh})`}}function xr(e){return e instanceof cg?e.changingThisBreaksApplicationSecurity:e}function jo(e,t){const n=function RE(e){return e instanceof cg&&e.getTypeName()||null}(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Sh})`)}return n===t}const NE=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Et=(()=>((Et=Et||{})[Et.NONE=0]="NONE",Et[Et.HTML=1]="HTML",Et[Et.STYLE=2]="STYLE",Et[Et.SCRIPT=3]="SCRIPT",Et[Et.URL=4]="URL",Et[Et.RESOURCE_URL=5]="RESOURCE_URL",Et))();function gg(e){const t=Uo();return t?t.sanitize(Et.URL,e)||"":jo(e,"URL")?xr(e):function ru(e){return(e=String(e)).match(NE)?e:"unsafe:"+e}(xe(e))}function mg(e){const t=Uo();if(t)return ag(t.sanitize(Et.RESOURCE_URL,e)||"");if(jo(e,"ResourceURL"))return ag(xr(e));throw new ie(904,!1)}function Uo(){const e=Q();return e&&e[dl]}const ma=new be("ENVIRONMENT_INITIALIZER"),yg=new be("INJECTOR",-1),Cg=new be("INJECTOR_DEF_TYPES");class _g{get(t,n=yo){if(n===yo){const r=new Error(`NullInjectorError: No provider for ${ot(t)}!`);throw r.name="NullInjectorError",r}return n}}function JE(...e){return{\u0275providers:wg(0,e),\u0275fromNgModule:!0}}function wg(e,...t){const n=[],r=new Set;let i;return Kr(t,o=>{const s=o;au(s,n,[],r)&&(i||(i=[]),i.push(s))}),void 0!==i&&bg(i,n),n}function bg(e,t){for(let n=0;n<e.length;n++){const{providers:i}=e[n];cu(i,o=>{t.push(o)})}}function au(e,t,n,r){if(!(e=Ie(e)))return!1;let i=null,o=Mh(e);const s=!o&&Qe(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Mh(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const l of c)au(l,t,n,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let l;r.add(i);try{Kr(o.imports,p=>{au(p,t,n,r)&&(l||(l=[]),l.push(p))})}finally{}void 0!==l&&bg(l,t)}if(!a){const l=qr(i)||(()=>new i);t.push({provide:i,useFactory:l,deps:qe},{provide:Cg,useValue:i,multi:!0},{provide:ma,useValue:()=>Ee(i),multi:!0})}const c=o.providers;null==c||a||cu(c,p=>{t.push(p)})}}return i!==e&&void 0!==e.providers}function cu(e,t){for(let n of e)il(n)&&(n=n.\u0275providers),Array.isArray(n)?cu(n,t):t(n)}const ZE=rt({provide:String,useValue:rt});function lu(e){return null!==e&&"object"==typeof e&&ZE in e}function Qr(e){return"function"==typeof e}const uu=new be("Set Injector scope."),va={},YE={};let du;function ya(){return void 0===du&&(du=new _g),du}class mr{}class Eg extends mr{get destroyed(){return this._destroyed}constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,hu(t,s=>this.processProvider(s)),this.records.set(yg,xi(void 0,this)),i.has("environment")&&this.records.set(mr,xi(void 0,this));const o=this.records.get(uu);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Cg.multi,qe,Ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();for(const t of this._onDestroyHooks)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(t){this._onDestroyHooks.push(t)}runInContext(t){this.assertNotDestroyed();const n=pi(this),r=wn(void 0);try{return t()}finally{pi(n),wn(r)}}get(t,n=yo,r=Ae.Default){this.assertNotDestroyed(),r=Us(r);const i=pi(this),o=wn(void 0);try{if(!(r&Ae.SkipSelf)){let a=this.records.get(t);if(void 0===a){const c=function n0(e){return"function"==typeof e||"object"==typeof e&&e instanceof be}(t)&&Vs(t);a=c&&this.injectableDefInScope(c)?xi(fu(t),va):null,this.records.set(t,a)}if(null!=a)return this.hydrate(t,a)}return(r&Ae.Self?ya():this.parent).get(t,n=r&Ae.Optional&&n===yo?null:n)}catch(s){if("NullInjectorError"===s.name){if((s[Bs]=s[Bs]||[]).unshift(ot(t)),i)throw s;return function ID(e,t,n,r){const i=e[Bs];throw t[Ah]&&i.unshift(t[Ah]),e.message=function AD(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&e.charAt(1)==ED?e.slice(2):e;let i=ot(t);if(Array.isArray(t))i=t.map(ot).join(" -> ");else if("object"==typeof t){let o=[];for(let s in t)if(t.hasOwnProperty(s)){let a=t[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ot(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(SD,"\n  ")}`}("\n"+e.message,i,n,r),e[DD]=i,e[Bs]=null,e}(s,t,"R3InjectorError",this.source)}throw s}finally{wn(o),pi(i)}}resolveInjectorInitializers(){const t=pi(this),n=wn(void 0);try{const r=this.get(ma.multi,qe,Ae.Self);for(const i of r)i()}finally{pi(t),wn(n)}}toString(){const t=[],n=this.records;for(const r of n.keys())t.push(ot(r));return`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new ie(205,!1)}processProvider(t){let n=Qr(t=Ie(t))?t:Ie(t&&t.provide);const r=function XE(e){return lu(e)?xi(void 0,e.useValue):xi(Mg(e),va)}(t);if(Qr(t)||!0!==t.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=xi(void 0,va,!0),i.factory=()=>cl(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n){return n.value===va&&(n.value=YE,n.value=n.factory()),"object"==typeof n.value&&n.value&&function t0(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(t){if(!t.providedIn)return!1;const n=Ie(t.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}}function fu(e){const t=Vs(e),n=null!==t?t.factory:qr(e);if(null!==n)return n;if(e instanceof be)throw new ie(204,!1);if(e instanceof Function)return function QE(e){const t=e.length;if(t>0)throw function Ro(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}(t,"?"),new ie(204,!1);const n=function _D(e){return e&&(e[js]||e[Th])||null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new ie(204,!1)}function Mg(e,t,n){let r;if(Qr(e)){const i=Ie(e);return qr(i)||fu(i)}if(lu(e))r=()=>Ie(e.useValue);else if(function Sg(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...cl(e.deps||[]));else if(function Dg(e){return!(!e||!e.useExisting)}(e))r=()=>Ee(Ie(e.useExisting));else{const i=Ie(e&&(e.useClass||e.provide));if(!function e0(e){return!!e.deps}(e))return qr(i)||fu(i);r=()=>new i(...cl(e.deps))}return r}function xi(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function hu(e,t){for(const n of e)Array.isArray(n)?hu(n,t):n&&il(n)?hu(n.\u0275providers,t):t(n)}class r0{}class Tg{}class s0{resolveComponentFactory(t){throw function o0(e){const t=Error(`No component factory found for ${ot(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(t)}}let $o=(()=>{class e{}return e.NULL=new s0,e})();function a0(){return ki(Ft(),Q())}function ki(e,t){return new gn(hn(e,t))}let gn=(()=>{class e{constructor(n){this.nativeElement=n}}return e.__NG_ELEMENT_ID__=a0,e})();class Ag{}let vr=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>function l0(){const e=Q(),n=on(Ft().index,e);return(fn(n)?n:e)[Ue]}(),e})(),u0=(()=>{class e{}return e.\u0275prov=Se({token:e,providedIn:"root",factory:()=>null}),e})();class Ho{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const d0=new Ho("15.2.10"),pu={},gu="ngOriginalError";function mu(e){return e[gu]}class Ni{constructor(){this._console=console}handleError(t){const n=this._findOriginalError(t);this._console.error("ERROR",t),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(t){let n=t&&mu(t);for(;n&&mu(n);)n=mu(n);return n||null}}function yr(e){return e instanceof Function?e():e}function Rg(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}const Og="ng-template";function b0(e,t,n){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(n&&"class"===o&&-1!==Rg(s.toLowerCase(),t,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===t)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function xg(e){return 4===e.type&&e.value!==Og}function D0(e,t,n){return t===(4!==e.type||n?e.value:Og)}function S0(e,t,n){let r=4;const i=e.attrs||[],o=function T0(e){for(let t=0;t<e.length;t++)if(sp(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!D0(e,c,n)||""===c&&1===t.length){if(kn(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!b0(e.attrs,l,n)){if(kn(r))return!1;s=!0}continue}const E=E0(8&r?"class":c,i,xg(e),n);if(-1===E){if(kn(r))return!1;s=!0;continue}if(""!==l){let P;P=E>o?"":i[E+1].toLowerCase();const x=8&r?P:null;if(x&&-1!==Rg(x,l,0)||2&r&&l!==P){if(kn(r))return!1;s=!0}}}}else{if(!s&&!kn(r)&&!kn(c))return!1;if(s&&kn(c))continue;s=!1,r=c|1&r}}return kn(r)||s}function kn(e){return 0==(1&e)}function E0(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){const s=t[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=t[++i];for(;"string"==typeof a;)a=t[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function I0(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function kg(e,t,n=!1){for(let r=0;r<t.length;r++)if(S0(e,t[r],n))return!0;return!1}function Ng(e,t){return e?":not("+t.trim()+")":t}function P0(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const a=e[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!kn(s)&&(t+=Ng(o,i),i=""),r=s,o=o||!kn(r);n++}return""!==i&&(t+=Ng(o,i)),t}const Ne={};function Je(e){Fg(We(),Q(),Kt()+e,!1)}function Fg(e,t,n,r){if(!r)if(3==(3&t[je])){const o=e.preOrderCheckHooks;null!==o&&Qs(t,o,n)}else{const o=e.preOrderHooks;null!==o&&Xs(t,o,0,n)}Jr(n)}function Bg(e,t=null,n=null,r){const i=Ug(e,t,n,r);return i.resolveInjectorInitializers(),i}function Ug(e,t=null,n=null,r,i=new Set){const o=[n||qe,JE(e)];return r=r||("object"==typeof e?void 0:ot(e)),new Eg(o,t||ya(),r||null,i)}let Qn=(()=>{class e{static create(n,r){if(Array.isArray(n))return Bg({name:""},r,n,"");{const i=n.name??"";return Bg({name:i},n.parent,n.providers,i)}}}return e.THROW_IF_NOT_FOUND=yo,e.NULL=new _g,e.\u0275prov=Se({token:e,providedIn:"any",factory:()=>Ee(yg)}),e.__NG_ELEMENT_ID__=-1,e})();function ee(e,t=Ae.Default){const n=Q();return null===n?Ee(e,t):gp(Ft(),n,Ie(e),t)}function Zg(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const o=n[r+1];if(-1!==o){const s=e.data[o];_l(n[r]),s.contentQueries(2,t[o],o)}}}function _a(e,t,n,r,i,o,s,a,c,l,p){const E=t.blueprint.slice();return E[fr]=i,E[je]=76|r,(null!==p||e&&1024&e[je])&&(E[je]|=1024),Wh(E),E[mt]=E[yi]=e,E[_t]=n,E[zs]=s||e&&e[zs],E[Ue]=a||e&&e[Ue],E[dl]=c||e&&e[dl]||null,E[Gs]=l||e&&e[Gs]||null,E[$t]=o,E[So]=function ZS(){return JS++}(),E[Fh]=p,E[Ht]=2==t.type?e[Ht]:E,E}function Vi(e,t,n,r,i){let o=e.data[t];if(null===o)o=function wu(e,t,n,r,i){const o=Zh(),s=ml(),c=e.data[t]=function nM(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,t,n,r,i),function XD(){return ke.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const s=function Mo(){const e=ke.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return Kn(o,!0),o}function Go(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function bu(e,t,n){wl(t);try{const r=e.viewQuery;null!==r&&Ru(1,r,n);const i=e.template;null!==i&&Kg(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Zg(e,t),e.staticViewQueries&&Ru(2,e.viewQuery,n);const o=e.components;null!==o&&function X0(e,t){for(let n=0;n<t.length;n++)bM(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[je]&=-5,bl()}}function wa(e,t,n,r){const i=t[je];if(128!=(128&i)){wl(t);try{Wh(t),function Yh(e){return ke.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==n&&Kg(e,t,n,2,r);const s=3==(3&i);if(s){const l=e.preOrderCheckHooks;null!==l&&Qs(t,l,null)}else{const l=e.preOrderHooks;null!==l&&Xs(t,l,0,null),Dl(t,0)}if(function _M(e){for(let t=Gl(e);null!==t;t=zl(t)){if(!t[Lh])continue;const n=t[_i];for(let r=0;r<n.length;r++){const i=n[r];512&i[je]||gl(i[mt],1),i[je]|=512}}}(t),function CM(e){for(let t=Gl(e);null!==t;t=zl(t))for(let n=Jt;n<t.length;n++){const r=t[n],i=r[me];Ks(r)&&wa(i,r,i.template,r[_t])}}(t),null!==e.contentQueries&&Zg(e,t),s){const l=e.contentCheckHooks;null!==l&&Qs(t,l)}else{const l=e.contentHooks;null!==l&&Xs(t,l,1),Dl(t,1)}!function Y0(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let r=0;r<n.length;r++){const i=n[r];if(i<0)Jr(~i);else{const o=i,s=n[++r],a=n[++r];eS(s,o),a(2,t[o])}}}finally{Jr(-1)}}(e,t);const a=e.components;null!==a&&function Q0(e,t){for(let n=0;n<t.length;n++)wM(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&Ru(2,c,r),s){const l=e.viewCheckHooks;null!==l&&Qs(t,l)}else{const l=e.viewHooks;null!==l&&Xs(t,l,2),Dl(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),t[je]&=-41,512&t[je]&&(t[je]&=-513,gl(t[mt],-1))}finally{bl()}}}function Kg(e,t,n,r,i){const o=Kt(),s=2&r;try{Jr(-1),s&&t.length>dt&&Fg(e,t,dt,!1),Dn(s?2:0,i),n(r,i)}finally{Jr(o),Dn(s?3:1,i)}}function Du(e,t,n){if(hl(t)){const i=t.directiveEnd;for(let o=t.directiveStart;o<i;o++){const s=e.data[o];s.contentQueries&&s.contentQueries(1,n[o],o)}}}function Su(e,t,n){Jh()&&(function lM(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;Eo(n)&&function mM(e,t,n){const r=hn(t,e),i=Yg(n),o=e[zs],s=ba(e,_a(e,i,null,n.onPush?32:16,r,t,o,o.createRenderer(r,n),null,null,null));e[t.index]=s}(t,n,e.data[i+n.componentOffset]),e.firstCreatePass||ra(n,t),Gt(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],l=Zr(t,e,a,n);Gt(l,t),null!==s&&vM(0,a-i,l,c,0,s),xn(c)&&(on(n.index,t)[_t]=Zr(t,e,a,n))}}(e,t,n,hn(n,t)),64==(64&n.flags)&&nm(e,t,n))}function Eu(e,t,n=hn){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Yg(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Mu(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Mu(e,t,n,r,i,o,s,a,c,l){const p=dt+r,E=p+i,P=function eM(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:Ne);return n}(p,E),x="function"==typeof l?l():l;return P[me]={type:e,blueprint:P,template:n,queries:null,viewQuery:a,declTNode:t,data:P.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:E,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:x,incompleteFirstPass:!1}}function Xg(e,t,n,r){for(let i in e)if(e.hasOwnProperty(i)){n=null===n?{}:n;const o=e[i];null===r?em(n,t,i,o):r.hasOwnProperty(i)&&em(n,t,r[i],o)}return n}function em(e,t,n,r){e.hasOwnProperty(n)?e[n].push(t,r):e[n]=[t,r]}function Tu(e,t,n,r){if(Jh()){const i=null===r?null:{"":-1},o=function dM(e,t){const n=e.directiveRegistry;let r=null,i=null;if(n)for(let o=0;o<n.length;o++){const s=n[o];if(kg(t,s.selectors,!1))if(r||(r=[]),xn(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Iu(e,t,a.length)}else r.unshift(s),Iu(e,t,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,n);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&tm(e,t,n,s,i,a),i&&function fM(e,t,n){if(t){const r=e.localNames=[];for(let i=0;i<t.length;i+=2){const o=n[t[i+1]];if(null==o)throw new ie(-301,!1);r.push(t[i],o)}}}(n,r,i)}n.mergedAttrs=Io(n.mergedAttrs,n.attrs)}function tm(e,t,n,r,i,o){for(let l=0;l<r.length;l++)Al(ra(n,t),e,r[l].type);!function pM(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}(n,e.data.length,r.length);for(let l=0;l<r.length;l++){const p=r[l];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,c=Go(e,t,r.length,null);for(let l=0;l<r.length;l++){const p=r[l];n.mergedAttrs=Io(n.mergedAttrs,p.hostAttrs),gM(e,n,t,c,p),hM(c,p,i),null!==p.contentQueries&&(n.flags|=4),(null!==p.hostBindings||null!==p.hostAttrs||0!==p.hostVars)&&(n.flags|=64);const E=p.type.prototype;!s&&(E.ngOnChanges||E.ngOnInit||E.ngDoCheck)&&((e.preOrderHooks??(e.preOrderHooks=[])).push(n.index),s=!0),!a&&(E.ngOnChanges||E.ngDoCheck)&&((e.preOrderCheckHooks??(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function rM(e,t,n){const i=t.directiveEnd,o=e.data,s=t.attrs,a=[];let c=null,l=null;for(let p=t.directiveStart;p<i;p++){const E=o[p],P=n?n.get(E):null,B=P?P.outputs:null;c=Xg(E.inputs,p,c,P?P.inputs:null),l=Xg(E.outputs,p,l,B);const z=null===c||null===s||xg(t)?null:yM(c,p,s);a.push(z)}null!==c&&(c.hasOwnProperty("class")&&(t.flags|=8),c.hasOwnProperty("style")&&(t.flags|=16)),t.initialInputs=a,t.inputs=c,t.outputs=l}(e,n,o)}function nm(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=function tS(){return ke.lFrame.currentDirectiveIndex}();try{Jr(o);for(let a=r;a<i;a++){const c=e.data[a],l=t[a];yl(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&uM(c,l)}}finally{Jr(-1),yl(s)}}function uM(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Iu(e,t,n){t.componentOffset=n,(e.components??(e.components=[])).push(t.index)}function hM(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;xn(t)&&(n[""]=e)}}function gM(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=qr(i.type)),s=new To(o,xn(i),ee);e.blueprint[r]=s,n[r]=s,function aM(e,t,n,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~t.index;(function cM(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(s)!=a&&s.push(a),s.push(n,r,o)}}(e,t,r,Go(e,n,i.hostVars,Ne),i)}function Xn(e,t,n,r,i,o){const s=hn(e,t);!function Au(e,t,n,r,i,o,s){if(null==o)e.removeAttribute(t,i,n);else{const a=null==s?xe(o):s(o,r||"",i);e.setAttribute(t,i,a,n)}}(t[Ue],s,o,e.value,n,r,i)}function vM(e,t,n,r,i,o){const s=o[t];if(null!==s){const a=r.setInput;for(let c=0;c<s.length;){const l=s[c++],p=s[c++],E=s[c++];null!==a?r.setInput(n,E,l,p):n[p]=E}}}function yM(e,t,n){let r=null,i=0;for(;i<n.length;){const o=n[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===t){r.push(o,s[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function rm(e,t,n,r){return[e,!0,!1,t,null,0,r,n,null,null]}function wM(e,t){const n=on(t,e);if(Ks(n)){const r=n[me];48&n[je]?wa(r,n,r.template,n[_t]):n[Wr]>0&&Pu(n)}}function Pu(e){for(let r=Gl(e);null!==r;r=zl(r))for(let i=Jt;i<r.length;i++){const o=r[i];if(Ks(o))if(512&o[je]){const s=o[me];wa(s,o,s.template,o[_t])}else o[Wr]>0&&Pu(o)}const n=e[me].components;if(null!==n)for(let r=0;r<n.length;r++){const i=on(n[r],e);Ks(i)&&i[Wr]>0&&Pu(i)}}function bM(e,t){const n=on(t,e),r=n[me];(function DM(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])})(r,n),bu(r,n,n[_t])}function ba(e,t){return e[bo]?e[Nh][Rn]=t:e[bo]=t,e[Nh]=t,t}function Da(e){for(;e;){e[je]|=32;const t=Lo(e);if(ND(e)&&!t)return e;e=t}return null}function Sa(e,t,n,r=!0){const i=t[zs];i.begin&&i.begin();try{wa(e,t,e.template,n)}catch(s){throw r&&am(t,s),s}finally{i.end&&i.end()}}function Ru(e,t,n){_l(0),t(e,n)}function im(e){return e[vi]||(e[vi]=[])}function om(e){return e.cleanup||(e.cleanup=[])}function am(e,t){const n=e[Gs],r=n?n.get(Ni,null):null;r&&r.handleError(t)}function Ou(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=t[s],l=e.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function Ea(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const a=t[s];"number"==typeof a?o=a:1==o?i=nl(i,a):2==o&&(r=nl(r,a+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function Ma(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(Nt(o)),On(o))for(let a=Jt;a<o.length;a++){const c=o[a],l=c[me].firstChild;null!==l&&Ma(c[me],c,l,r)}const s=n.type;if(8&s)Ma(e,t,n.child,r);else if(32&s){const a=Hl(n,t);let c;for(;c=a();)r.push(c)}else if(16&s){const a=eg(t,n);if(Array.isArray(a))r.push(...a);else{const c=Lo(t[Ht]);Ma(c[me],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}class zo{get rootNodes(){const t=this._lView,n=t[me];return Ma(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_t]}set context(t){this._lView[_t]=t}get destroyed(){return 128==(128&this._lView[je])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[mt];if(On(t)){const n=t[qs],r=n?n.indexOf(this):-1;r>-1&&(Jl(t,r),sa(n,r))}this._attachedToViewContainer=!1}zp(this._lView[me],this._lView)}onDestroy(t){!function Qg(e,t,n,r){const i=im(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&om(e).push(r,i.length-1))}(this._lView[me],this._lView,null,t)}markForCheck(){Da(this._cdRefInjectingView||this._lView)}detach(){this._lView[je]&=-65}reattach(){this._lView[je]|=64}detectChanges(){Sa(this._lView[me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new ie(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uE(e,t){Vo(e,t,t[Ue],2,null,null)}(this._lView[me],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new ie(902,!1);this._appRef=t}}class SM extends zo{constructor(t){super(t),this._view=t}detectChanges(){const t=this._view;Sa(t[me],t,t[_t],!1)}checkNoChanges(){}get context(){return null}}class cm extends $o{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const n=Qe(t);return new Wo(n,this.ngModule)}}function lm(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}class MM{constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){r=Us(r);const i=this.injector.get(t,pu,r);return i!==pu||n===pu?i:this.parentInjector.get(t,n,r)}}class Wo extends Tg{get inputs(){return lm(this.componentDef.inputs)}get outputs(){return lm(this.componentDef.outputs)}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=function R0(e){return e.map(P0).join(",")}(t.selectors),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!n}create(t,n,r,i){let o=(i=i||this.ngModule)instanceof mr?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new MM(t,o):t,a=s.get(Ag,null);if(null===a)throw new ie(407,!1);const c=s.get(u0,null),l=a.createRenderer(null,this.componentDef),p=this.componentDef.selectors[0][0]||"div",E=r?function tM(e,t,n){return e.selectRootElement(t,n===qn.ShadowDom)}(l,r,this.componentDef.encapsulation):ql(l,p,function EM(e){const t=e.toLowerCase();return"svg"===t?"svg":"math"===t?"math":null}(p)),P=this.componentDef.onPush?288:272,x=Mu(0,null,null,1,0,null,null,null,null,null),B=_a(null,x,null,P,null,null,a,l,c,s,null);let z,K;wl(B);try{const re=this.componentDef;let ge,Z=null;re.findHostDirectiveDefs?(ge=[],Z=new Map,re.findHostDirectiveDefs(re,ge,Z),ge.push(re)):ge=[re];const De=function IM(e,t){const n=e[me],r=dt;return e[r]=t,Vi(n,r,2,"#host",null)}(B,E),Ze=function AM(e,t,n,r,i,o,s,a){const c=i[me];!function PM(e,t,n,r){for(const i of e)t.mergedAttrs=Io(t.mergedAttrs,i.hostAttrs);null!==t.mergedAttrs&&(Ea(t,t.mergedAttrs,!0),null!==n&&rg(r,n,t))}(r,e,t,s);const l=o.createRenderer(t,n),p=_a(i,Yg(n),null,n.onPush?32:16,i[e.index],e,o,l,a||null,null,null);return c.firstCreatePass&&Iu(c,e,r.length-1),ba(i,p),i[e.index]=p}(De,E,re,ge,B,a,l);K=zh(x,dt),E&&function OM(e,t,n,r){if(r)El(e,n,["ng-version",d0.full]);else{const{attrs:i,classes:o}=function O0(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!kn(i))break;i=o}r++}return{attrs:t,classes:n}}(t.selectors[0]);i&&El(e,n,i),o&&o.length>0&&ng(e,n,o.join(" "))}}(l,re,E,r),void 0!==n&&function xM(e,t,n){const r=e.projection=[];for(let i=0;i<t.length;i++){const o=n[i];r.push(null!=o?Array.from(o):null)}}(K,this.ngContentSelectors,n),z=function RM(e,t,n,r,i,o){const s=Ft(),a=i[me],c=hn(s,i);tm(a,i,s,n,null,r);for(let p=0;p<n.length;p++)Gt(Zr(i,a,s.directiveStart+p,s),i);nm(a,i,s),c&&Gt(c,i);const l=Zr(i,a,s.directiveStart+s.componentOffset,s);if(e[_t]=i[_t]=l,null!==o)for(const p of o)p(l,t);return Du(a,s,e),l}(Ze,re,ge,Z,B,[kM]),bu(x,B,null)}finally{bl()}return new TM(this.componentType,z,ki(K,B),B,K)}}class TM extends r0{constructor(t,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.instance=n,this.hostView=this.changeDetectorRef=new SM(i),this.componentType=t}setInput(t,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[t])){const o=this._rootLView;Ou(o[me],o,i,t,n),Da(on(this._tNode.index,o))}}get injector(){return new Si(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}function kM(){const e=Ft();Ys(Q()[me],e)}function et(e){let t=function um(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),n=!0;const r=[e];for(;t;){let i;if(xn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new ie(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);const s=e;s.inputs=xu(e.inputs),s.declaredInputs=xu(e.declaredInputs),s.outputs=xu(e.outputs);const a=i.hostBindings;a&&VM(e,a);const c=i.viewQuery,l=i.contentQueries;if(c&&FM(e,c),l&&LM(e,l),tl(e.inputs,i.inputs),tl(e.declaredInputs,i.declaredInputs),tl(e.outputs,i.outputs),xn(i)&&i.data.animation){const p=e.data;p.animation=(p.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===et&&(n=!1)}}t=Object.getPrototypeOf(t)}!function NM(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Io(i.hostAttrs,n=Io(n,i.hostAttrs))}}(r)}function xu(e){return e===ur?{}:e===qe?[]:e}function FM(e,t){const n=e.viewQuery;e.viewQuery=n?(r,i)=>{t(r,i),n(r,i)}:t}function LM(e,t){const n=e.contentQueries;e.contentQueries=n?(r,i,o)=>{t(r,i,o),n(r,i,o)}:t}function VM(e,t){const n=e.hostBindings;e.hostBindings=n?(r,i)=>{t(r,i),n(r,i)}:t}function Ta(e){return!!ku(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function ku(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function er(e,t,n){return e[t]=n}function zt(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function tr(e,t,n,r){const i=Q();return zt(i,bi(),t)&&(We(),Xn(ht(),i,e,t,n,r)),tr}function Mt(e,t,n,r,i,o,s,a){const c=Q(),l=We(),p=e+dt,E=l.firstCreatePass?function JM(e,t,n,r,i,o,s,a,c){const l=t.consts,p=Vi(t,e,4,s||null,Pr(l,a));Tu(t,n,p,Pr(l,c)),Ys(t,p);const E=p.tView=Mu(2,p,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,p),E.queries=t.queries.embeddedTView(p)),p}(p,l,c,t,n,r,i,o,s):l.data[p];Kn(E,!1);const P=c[Ue].createComment("");da(l,c,P,E),Gt(P,c),ba(c,c[p]=rm(P,c,P,E)),Js(E)&&Su(l,c,E),null!=s&&Eu(c,E,a)}function Xe(e,t,n){const r=Q();return zt(r,bi(),t)&&function mn(e,t,n,r,i,o,s,a){const c=hn(t,n);let p,l=t.inputs;!a&&null!=l&&(p=l[r])?(Ou(e,n,p,r,i),Eo(t)&&function oM(e,t){const n=on(t,e);16&n[je]||(n[je]|=32)}(n,t.index)):3&t.type&&(r=function iM(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,t.value||"",r):i,o.setProperty(c,r,i))}(We(),ht(),r,e,t,r[Ue],n,!1),Xe}function Nu(e,t,n,r,i){const s=i?"class":"style";Ou(e,n,t.inputs[s],s,r)}function se(e,t,n,r){const i=Q(),o=We(),s=dt+e,a=i[Ue],c=o.firstCreatePass?function KM(e,t,n,r,i,o){const s=t.consts,c=Vi(t,e,2,r,Pr(s,i));return Tu(t,n,c,Pr(s,o)),null!==c.attrs&&Ea(c,c.attrs,!1),null!==c.mergedAttrs&&Ea(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,t,n,r):o.data[s],l=i[s]=ql(a,t,function lS(){return ke.lFrame.currentNamespace}()),p=Js(c);return Kn(c,!0),rg(a,l,c),32!=(32&c.flags)&&da(o,i,l,c),0===function qD(){return ke.lFrame.elementDepthCount}()&&Gt(l,i),function JD(){ke.lFrame.elementDepthCount++}(),p&&(Su(o,i,c),Du(o,c,i)),null!==r&&Eu(i,c),se}function ae(){let e=Ft();ml()?vl():(e=e.parent,Kn(e,!1));const t=e;!function ZD(){ke.lFrame.elementDepthCount--}();const n=We();return n.firstCreatePass&&(Ys(n,e),hl(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function hS(e){return 0!=(8&e.flags)}(t)&&Nu(n,t,Q(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function pS(e){return 0!=(16&e.flags)}(t)&&Nu(n,t,Q(),t.stylesWithoutHost,!1),ae}function at(e,t,n,r){return se(e,t,n,r),ae(),at}function Nn(e,t,n){const r=Q(),i=We(),o=e+dt,s=i.firstCreatePass?function YM(e,t,n,r,i){const o=t.consts,s=Pr(o,r),a=Vi(t,e,8,"ng-container",s);return null!==s&&Ea(a,s,!0),Tu(t,n,a,Pr(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];Kn(s,!0);const a=r[o]=r[Ue].createComment("");return da(i,r,a,s),Gt(a,r),Js(s)&&(Su(i,r,s),Du(i,s,r)),null!=n&&Eu(r,s),Nn}function Fn(){let e=Ft();const t=We();return ml()?vl():(e=e.parent,Kn(e,!1)),t.firstCreatePass&&(Ys(t,e),hl(e)&&t.queries.elementEnd(e)),Fn}function ei(){return Q()}function Jo(e){return!!e&&"function"==typeof e.then}const Fu=function Em(e){return!!e&&"function"==typeof e.subscribe};function it(e,t,n,r){const i=Q(),o=We(),s=Ft();return function Tm(e,t,n,r,i,o,s){const a=Js(r),l=e.firstCreatePass&&om(e),p=t[_t],E=im(t);let P=!0;if(3&r.type||s){const z=hn(r,t),K=s?s(z):z,re=E.length,ge=s?De=>s(Nt(De[r.index])):r.index;let Z=null;if(!s&&a&&(Z=function QM(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===n&&i[o+1]===r){const a=t[vi],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,t,i,r.index)),null!==Z)(Z.__ngLastListenerFn__||Z).__ngNextListenerFn__=o,Z.__ngLastListenerFn__=o,P=!1;else{o=Am(r,t,p,o,!1);const De=n.listen(K,i,o);E.push(o,De),l&&l.push(i,ge,re,re+1)}}else o=Am(r,t,p,o,!1);const x=r.outputs;let B;if(P&&null!==x&&(B=x[i])){const z=B.length;if(z)for(let K=0;K<z;K+=2){const Ze=t[B[K]][B[K+1]].subscribe(o),Dt=E.length;E.push(o,Ze),l&&l.push(i,r.index,Dt,-(Dt+1))}}}(o,i,i[Ue],s,e,t,r),it}function Im(e,t,n,r){try{return Dn(6,t,n),!1!==n(r)}catch(i){return am(e,i),!1}finally{Dn(7,t,n)}}function Am(e,t,n,r,i){return function o(s){if(s===Function)return r;Da(e.componentOffset>-1?on(e.index,t):t);let c=Im(t,n,r,s),l=o.__ngNextListenerFn__;for(;l;)c=Im(t,n,l,s)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&(s.preventDefault(),s.returnValue=!1),c}}function Vt(e=1){return function rS(e){return(ke.lFrame.contextLView=function iS(e,t){for(;e>0;)t=t[yi],e--;return t}(e,ke.lFrame.contextLView))[_t]}(e)}function Aa(e,t){return e<<17|t<<2}function kr(e){return e>>17&32767}function Vu(e){return 2|e}function ti(e){return(131068&e)>>2}function ju(e,t){return-131069&e|t<<2}function Bu(e){return 1|e}function jm(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?kr(o):ti(o),c=!1;for(;0!==a&&(!1===c||s);){const p=e[a+1];aT(e[a],t)&&(c=!0,e[a+1]=r?Bu(p):Vu(p)),a=r?kr(p):ti(p)}c&&(e[n+1]=r?Vu(o):Bu(o))}function aT(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&Ai(e,t)>=0}function Pa(e,t){return function Ln(e,t,n,r){const i=Q(),o=We(),s=function pr(e){const t=ke.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}(2);o.firstUpdatePass&&function Jm(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[Kt()],s=function qm(e,t){return t>=e.expandoStartIndex}(e,n);(function Qm(e,t){return 0!=(e.flags&(t?8:16))})(o,r)&&null===t&&!s&&(t=!1),t=function mT(e,t,n,r){const i=function Cl(e){const t=ke.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Zo(n=Uu(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=Uu(i,e,t,n,r),null===o){let c=function vT(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==ti(r))return e[kr(r)]}(e,t,r);void 0!==c&&Array.isArray(c)&&(c=Uu(null,e,t,c[1],r),c=Zo(c,t.attrs,r),function yT(e,t,n,r){e[kr(n?t.classBindings:t.styleBindings)]=r}(e,t,r,c))}else o=function CT(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Zo(r,e[o].hostAttrs,n);return Zo(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function oT(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=kr(s),c=ti(s);e[r]=n;let p,l=!1;if(Array.isArray(n)?(p=n[1],(null===p||Ai(n,p)>0)&&(l=!0)):p=n,i)if(0!==c){const P=kr(e[a+1]);e[r+1]=Aa(P,a),0!==P&&(e[P+1]=ju(e[P+1],r)),e[a+1]=function rT(e,t){return 131071&e|t<<17}(e[a+1],r)}else e[r+1]=Aa(a,0),0!==a&&(e[a+1]=ju(e[a+1],r)),a=r;else e[r+1]=Aa(c,0),0===a?a=r:e[c+1]=ju(e[c+1],r),c=r;l&&(e[r+1]=Vu(e[r+1])),jm(e,p,r,!0),jm(e,p,r,!1),function sT(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&Ai(o,t)>=0&&(n[r+1]=Bu(n[r+1]))}(t,p,e,r,o),s=Aa(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}(o,e,s,r),t!==Ne&&zt(i,s,t)&&function Km(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1],p=function iT(e){return 1==(1&e)}(l)?Ym(c,t,n,i,ti(l),s):void 0;Ra(p)||(Ra(o)||function nT(e){return 2==(2&e)}(l)&&(o=Ym(c,null,n,i,a,s)),function _E(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=-1===r.indexOf("-")?void 0:sn.DashCase;null==i?e.removeStyle(n,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=sn.Important),e.setStyle(n,r,i,o))}}(r,s,Zs(Kt(),n),i,o))}(o,o.data[Kt()],i,i[Ue],e,i[s+1]=function DT(e,t){return null==e||""===e||("string"==typeof t?e+=t:"object"==typeof e&&(e=ot(xr(e)))),e}(t,n),r,s)}(e,t,null,!0),Pa}function Uu(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Zo(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Zo(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),pn(e,s,!!n||t[++o]))}return void 0===e?null:e}function Ym(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const c=e[i],l=Array.isArray(c),p=l?c[1]:c,E=null===p;let P=n[i+1];P===Ne&&(P=E?qe:void 0);let x=E?xl(P,r):p===r?P:void 0;if(l&&!Ra(x)&&(x=xl(c,r)),Ra(x)&&(a=x,s))return a;const B=e[i+1];i=s?kr(B):ti(B)}if(null!==t){let c=o?t.residualClasses:t.residualStyles;null!=c&&(a=xl(c,r))}return a}function Ra(e){return void 0!==e}function ye(e,t=""){const n=Q(),r=We(),i=e+dt,o=r.firstCreatePass?Vi(r,i,1,t,null):r.data[i],s=n[i]=function Wl(e,t){return e.createText(t)}(n[Ue],t);da(r,n,s,o),Kn(o,!1)}function Oa(e){return xa("",e,""),Oa}function xa(e,t,n){const r=Q(),i=function Bi(e,t,n,r){return zt(e,bi(),n)?t+xe(n)+r:Ne}(r,e,t,n);return i!==Ne&&function Cr(e,t,n){const r=Zs(t,e);!function Hp(e,t,n){e.setValue(t,n)}(e[Ue],r,n)}(r,Kt(),i),xa}const Ki="en-US";let _v=Ki;function Gu(e,t,n,r,i){if(e=Ie(e),Array.isArray(e))for(let o=0;o<e.length;o++)Gu(e[o],t,n,r,i);else{const o=We(),s=Q();let a=Qr(e)?e:Ie(e.provide),c=Mg(e);const l=Ft(),p=1048575&l.providerIndexes,E=l.directiveStart,P=l.providerIndexes>>20;if(Qr(e)||!e.multi){const x=new To(c,i,ee),B=Wu(a,t,i?p:p+P,E);-1===B?(Al(ra(l,s),o,a),zu(o,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(x),s.push(x)):(n[B]=x,s[B]=x)}else{const x=Wu(a,t,p+P,E),B=Wu(a,t,p,p+P),K=B>=0&&n[B];if(i&&!K||!i&&!(x>=0&&n[x])){Al(ra(l,s),o,a);const re=function UI(e,t,n,r,i){const o=new To(e,n,ee);return o.multi=[],o.index=t,o.componentProviders=0,zv(o,i,r&&!n),o}(i?BI:jI,n.length,i,r,c);!i&&K&&(n[B].providerFactory=re),zu(o,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(re),s.push(re)}else zu(o,e,x>-1?x:B,zv(n[i?B:x],c,!i&&r));!i&&r&&K&&n[B].componentProviders++}}}function zu(e,t,n,r){const i=Qr(t),o=function KE(e){return!!e.useClass}(t);if(i||o){const c=(o?Ie(t.useClass):t).prototype.ngOnDestroy;if(c){const l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const p=l.indexOf(n);-1===p?l.push(n,[r,c]):l[p+1].push(r,c)}else l.push(n,c)}}}function zv(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Wu(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function jI(e,t,n,r){return qu(this.multi,[])}function BI(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const s=this.providerFactory.componentProviders,a=Zr(n,n[me],this.providerFactory.index,r);o=a.slice(0,s),qu(i,o);for(let c=s;c<a.length;c++)o.push(a[c])}else o=[],qu(i,o);return o}function qu(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ft(e,t=[]){return n=>{n.providersResolver=(r,i)=>function VI(e,t,n){const r=We();if(r.firstCreatePass){const i=xn(e);Gu(n,r.data,r.blueprint,i,!0),Gu(t,r.data,r.blueprint,i,!1)}}(r,i?i(e):e,t)}}class Yi{}class Wv{}class qv extends Yi{constructor(t,n){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new cm(this);const r=dn(t);this._bootstrapComponents=yr(r.bootstrap),this._r3Injector=Ug(t,n,[{provide:Yi,useValue:this},{provide:$o,useValue:this.componentFactoryResolver}],ot(t),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(t)}get injector(){return this._r3Injector}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class Ju extends Wv{constructor(t){super(),this.moduleType=t}create(t){return new qv(this.moduleType,t)}}class HI extends Yi{constructor(t,n,r){super(),this.componentFactoryResolver=new cm(this),this.instance=null;const i=new Eg([...t,{provide:Yi,useValue:this},{provide:$o,useValue:this.componentFactoryResolver}],n||ya(),r,new Set(["environment"]));this.injector=i,i.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}}function Va(e,t,n=null){return new HI(e,t,n).injector}let GI=(()=>{class e{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n.id)){const r=wg(0,n.type),i=r.length>0?Va([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n.id,i)}return this.cachedInjectors.get(n.id)}ngOnDestroy(){try{for(const n of this.cachedInjectors.values())null!==n&&n.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Se({token:e,providedIn:"environment",factory:()=>new e(Ee(mr))}),e})();function Jv(e){e.getStandaloneInjector=t=>t.get(GI).getOrCreateStandaloneInjector(e)}function ja(e,t,n,r){return function ny(e,t,n,r,i,o){const s=t+n;return zt(e,s,i)?er(e,s+1,o?r.call(o,i):r(i)):ts(e,s+1)}(Q(),Zt(),e,t,n,r)}function ty(e,t,n,r,i){return function ry(e,t,n,r,i,o,s){const a=t+n;return function Xr(e,t,n,r){const i=zt(e,t,n);return zt(e,t+1,r)||i}(e,a,i,o)?er(e,a+2,s?r.call(s,i,o):r(i,o)):ts(e,a+2)}(Q(),Zt(),e,t,n,r,i)}function ts(e,t){const n=e[t];return n===Ne?void 0:n}function Ku(e){return t=>{setTimeout(e,void 0,t)}}const yt=class pA extends F{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,n,r){let i=t,o=n||(()=>null),s=r;if(t&&"object"==typeof t){const c=t;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ku(o),i&&(i=Ku(i)),s&&(s=Ku(s)));const a=super.subscribe({next:i,error:o,complete:s});return t instanceof g&&t.add(a),a}};let _r=(()=>{class e{}return e.__NG_ELEMENT_ID__=yA,e})();const mA=_r,vA=class extends mA{constructor(t,n,r){super(),this._declarationLView=t,this._declarationTContainer=n,this.elementRef=r}createEmbeddedView(t,n){const r=this._declarationTContainer.tView,i=_a(this._declarationLView,r,t,16,null,r.declTNode,null,null,null,null,n||null);i[Do]=this._declarationLView[this._declarationTContainer.index];const s=this._declarationLView[Zn];return null!==s&&(i[Zn]=s.createEmbeddedView(r)),bu(r,i,t),new zo(i)}};function yA(){return function Ba(e,t){return 4&e.type?new vA(t,e,ki(e,t)):null}(Ft(),Q())}let jn=(()=>{class e{}return e.__NG_ELEMENT_ID__=CA,e})();function CA(){return function ly(e,t){let n;const r=t[e.index];if(On(r))n=r;else{let i;if(8&e.type)i=Nt(r);else{const o=t[Ue];i=o.createComment("");const s=hn(e,t);Yr(o,ua(o,s),i,function vE(e,t){return e.nextSibling(t)}(o,s),!1)}t[e.index]=n=rm(r,t,i,e),ba(t,n)}return new ay(n,e,t)}(Ft(),Q())}const _A=jn,ay=class extends _A{constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return ki(this._hostTNode,this._hostLView)}get injector(){return new Si(this._hostTNode,this._hostLView)}get parentInjector(){const t=Il(this._hostTNode,this._hostLView);if(lp(t)){const n=ta(t,this._hostLView),r=ea(t);return new Si(n[me].data[r+8],n)}return new Si(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const n=cy(this._lContainer);return null!==n&&n[t]||null}get length(){return this._lContainer.length-Jt}createEmbeddedView(t,n,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const s=t.createEmbeddedView(n||{},o);return this.insert(s,i),s}createComponent(t,n,r,i,o){const s=t&&!function Po(e){return"function"==typeof e}(t);let a;if(s)a=n;else{const E=n||{};a=E.index,r=E.injector,i=E.projectableNodes,o=E.environmentInjector||E.ngModuleRef}const c=s?t:new Wo(Qe(t)),l=r||this.parentInjector;if(!o&&null==c.ngModule){const P=(s?l:this.parentInjector).get(mr,null);P&&(o=P)}const p=c.create(l,i,void 0,o);return this.insert(p.hostView,a),p}insert(t,n){const r=t._lView,i=r[me];if(function WD(e){return On(e[mt])}(r)){const p=this.indexOf(t);if(-1!==p)this.detach(p);else{const E=r[mt],P=new ay(E,E[$t],E[mt]);P.detach(P.indexOf(t))}}const o=this._adjustIndex(n),s=this._lContainer;!function fE(e,t,n,r){const i=Jt+r,o=n.length;r>0&&(n[i-1][Rn]=t),r<o-Jt?(t[Rn]=n[i],wp(n,Jt+r,t)):(n.push(t),t[Rn]=null),t[mt]=n;const s=t[Do];null!==s&&n!==s&&function hE(e,t){const n=e[_i];t[Ht]!==t[mt][mt][Ht]&&(e[Lh]=!0),null===n?e[_i]=[t]:n.push(t)}(s,t);const a=t[Zn];null!==a&&a.insertView(e),t[je]|=64}(i,r,s,o);const a=Yl(o,s),c=r[Ue],l=ua(c,s[Ws]);return null!==l&&function lE(e,t,n,r,i,o){r[fr]=i,r[$t]=t,Vo(e,r,n,1,i,o)}(i,s[$t],c,r,l,a),t.attachToViewContainerRef(),wp(Qu(s),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){const n=cy(this._lContainer);return null!==n?n.indexOf(t):-1}remove(t){const n=this._adjustIndex(t,-1),r=Jl(this._lContainer,n);r&&(sa(Qu(this._lContainer),n),zp(r[me],r))}detach(t){const n=this._adjustIndex(t,-1),r=Jl(this._lContainer,n);return r&&null!=sa(Qu(this._lContainer),n)?new zo(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function cy(e){return e[qs]}function Qu(e){return e[qs]||(e[qs]=[])}function $a(...e){}const Ha=new be("Application Initializer");let Ga=(()=>{class e{constructor(n){this.appInits=n,this.resolve=$a,this.reject=$a,this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i})}runInitializers(){if(this.initialized)return;const n=[],r=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let i=0;i<this.appInits.length;i++){const o=this.appInits[i]();if(Jo(o))n.push(o);else if(Fu(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});n.push(s)}}Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),0===n.length&&r(),this.initialized=!0}}return e.\u0275fac=function(n){return new(n||e)(Ee(Ha,8))},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const is=new be("AppId",{providedIn:"root",factory:function Ny(){return`${ld()}${ld()}${ld()}`}});function ld(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Fy=new be("Platform Initializer"),Ly=new be("Platform ID",{providedIn:"platform",factory:()=>"unknown"});let JA=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const wr=new be("LocaleId",{providedIn:"root",factory:()=>ze(wr,Ae.Optional|Ae.SkipSelf)||function ZA(){return typeof $localize<"u"&&$localize.locale||Ki}()});class YA{constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}}let Vy=(()=>{class e{compileModuleSync(n){return new Ju(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){const r=this.compileModuleSync(n),o=yr(dn(n).declarations).reduce((s,a)=>{const c=Qe(a);return c&&s.push(new Wo(c)),s},[]);return new YA(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const eP=(()=>Promise.resolve(0))();function ud(e){typeof Zone>"u"?eP.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class Ct{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new yt(!1),this.onMicrotaskEmpty=new yt(!1),this.onStable=new yt(!1),this.onError=new yt(!1),typeof Zone>"u")throw new ie(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function tP(){let e=ut.requestAnimationFrame,t=ut.cancelAnimationFrame;if(typeof Zone<"u"&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function iP(e){const t=()=>{!function rP(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(ut,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,fd(e),e.isCheckStableRunning=!0,dd(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),fd(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return Uy(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),$y(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return Uy(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),$y(e)}},onHasTask:(n,r,i,o)=>{n.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,fd(e),dd(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(n,r,i,o)=>(n.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ct.isInAngularZone())throw new ie(909,!1)}static assertNotInAngularZone(){if(Ct.isInAngularZone())throw new ie(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,t,nP,$a,$a);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}}const nP={};function dd(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function fd(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function Uy(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function $y(e){e._nesting--,dd(e)}class oP{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new yt,this.onMicrotaskEmpty=new yt,this.onStable=new yt,this.onError=new yt}run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}}const Hy=new be(""),za=new be("");let gd,hd=(()=>{class e{constructor(n,r,i){this._ngZone=n,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,gd||(function sP(e){gd=e}(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ct.assertNotInAngularZone(),ud(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())ud(()=>{for(;0!==this._callbacks.length;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb(this._didWork)}this._didWork=!1});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(n)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}}return e.\u0275fac=function(n){return new(n||e)(Ee(Ct),Ee(pd),Ee(za))},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})(),pd=(()=>{class e{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return gd?.findTestabilityInTree(this,n,r)??null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const br=!1;let Nr=null;const Gy=new be("AllowMultipleToken"),md=new be("PlatformDestroyListeners"),zy=new be("appBootstrapListener");class Wy{constructor(t,n){this.name=t,this.token=n}}function Jy(e,t,n=[]){const r=`Platform: ${t}`,i=new be(r);return(o=[])=>{let s=vd();if(!s||s.injector.get(Gy,!1)){const a=[...n,...o,{provide:i,useValue:!0}];e?e(a):function lP(e){if(Nr&&!Nr.get(Gy,!1))throw new ie(400,!1);Nr=e;const t=e.get(Ky);(function qy(e){const t=e.get(Fy,null);t&&t.forEach(n=>n())})(e)}(function Zy(e=[],t){return Qn.create({name:t,providers:[{provide:uu,useValue:"platform"},{provide:md,useValue:new Set([()=>Nr=null])},...e]})}(a,r))}return function dP(e){const t=vd();if(!t)throw new ie(401,!1);return t}()}}function vd(){return Nr?.get(Ky)??null}let Ky=(()=>{class e{constructor(n){this._injector=n,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(n,r){const i=function Qy(e,t){let n;return n="noop"===e?new oP:("zone.js"===e?void 0:e)||new Ct(t),n}(r?.ngZone,function Yy(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!e||!e.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!e||!e.ngZoneRunCoalescing)||!1}}(r)),o=[{provide:Ct,useValue:i}];return i.run(()=>{const s=Qn.create({providers:o,parent:this.injector,name:n.moduleType.name}),a=n.create(s),c=a.injector.get(Ni,null);if(!c)throw new ie(402,!1);return i.runOutsideAngular(()=>{const l=i.onError.subscribe({next:p=>{c.handleError(p)}});a.onDestroy(()=>{qa(this._modules,a),l.unsubscribe()})}),function Xy(e,t,n){try{const r=n();return Jo(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(c,i,()=>{const l=a.injector.get(Ga);return l.runInitializers(),l.donePromise.then(()=>(function wv(e){_n(e,"Expected localeId to be defined"),"string"==typeof e&&(_v=e.toLowerCase().replace(/_/g,"-"))}(a.injector.get(wr,Ki)||Ki),this._moduleDoBootstrap(a),a))})})}bootstrapModule(n,r=[]){const i=eC({},r);return function aP(e,t,n){const r=new Ju(n);return Promise.resolve(r)}(0,0,n).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(n){const r=n.injector.get(Wa);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!n.instance.ngDoBootstrap)throw new ie(-403,!1);n.instance.ngDoBootstrap(r)}this._modules.push(n)}onDestroy(n){this._destroyListeners.push(n)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new ie(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const n=this._injector.get(md,null);n&&(n.forEach(r=>r()),n.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(n){return new(n||e)(Ee(Qn))},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function eC(e,t){return Array.isArray(t)?t.reduce(eC,e):{...e,...t}}let Wa=(()=>{class e{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(n,r,i){this._zone=n,this._injector=r,this._exceptionHandler=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const o=new he(a=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{a.next(this._stable),a.complete()})}),s=new he(a=>{let c;this._zone.runOutsideAngular(()=>{c=this._zone.onStable.subscribe(()=>{Ct.assertNotInAngularZone(),ud(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,a.next(!0))})})});const l=this._zone.onUnstable.subscribe(()=>{Ct.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{a.next(!1)}))});return()=>{c.unsubscribe(),l.unsubscribe()}});this.isStable=function dD(...e){const t=vo(e),n=function iD(e,t){return"number"==typeof Xc(e)?e.pop():t}(e,1/0),r=e;return r.length?1===r.length?Cn(r[0]):hi(n)(St(r,t)):zn}(o,s.pipe(function fD(e={}){const{connector:t=(()=>new F),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,l=0,p=!1,E=!1;const P=()=>{a?.unsubscribe(),a=void 0},x=()=>{P(),s=c=void 0,p=E=!1},B=()=>{const z=s;x(),z?.unsubscribe()};return ce((z,K)=>{l++,!E&&!p&&P();const re=c=c??t();K.add(()=>{l--,0===l&&!E&&!p&&(a=el(B,i))}),re.subscribe(K),!s&&l>0&&(s=new U({next:ge=>re.next(ge),error:ge=>{E=!0,P(),a=el(x,n,ge),re.error(ge)},complete:()=>{p=!0,P(),a=el(x,r),re.complete()}}),Cn(z).subscribe(s))})(o)}}()))}bootstrap(n,r){const i=n instanceof Tg;if(!this._injector.get(Ga).done){!i&&function mi(e){const t=Qe(e)||Ut(e)||rn(e);return null!==t&&t.standalone}(n);throw new ie(405,br)}let s;s=i?n:this._injector.get($o).resolveComponentFactory(n),this.componentTypes.push(s.componentType);const a=function cP(e){return e.isBoundToModule}(s)?void 0:this._injector.get(Yi),l=s.create(Qn.NULL,[],r||s.selector,a),p=l.location.nativeElement,E=l.injector.get(Hy,null);return E?.registerApplication(p),l.onDestroy(()=>{this.detachView(l.hostView),qa(this.components,l),E?.unregisterApplication(p)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new ie(101,!1);try{this._runningTick=!0;for(let n of this._views)n.detectChanges()}catch(n){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(n))}finally{this._runningTick=!1}}attachView(n){const r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){const r=n;qa(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);const r=this._injector.get(zy,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qa(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new ie(406,!1);const n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(n){return new(n||e)(Ee(Ct),Ee(mr),Ee(Ni))},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function qa(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}let Ja=(()=>{class e{}return e.__NG_ELEMENT_ID__=hP,e})();function hP(e){return function pP(e,t,n){if(Eo(e)&&!n){const r=on(e.index,t);return new zo(r,r)}return 47&e.type?new zo(t[Ht],t):null}(Ft(),Q(),16==(16&e))}class oC{constructor(){}supports(t){return Ta(t)}create(t){return new _P(t)}}const CP=(e,t)=>t;class _P{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||CP}forEachItem(t){let n;for(n=this._itHead;null!==n;n=n._next)t(n)}forEachOperation(t){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){const s=!r||n&&n.currentIndex<aC(r,i,o)?n:r,a=aC(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,null==s.previousIndex)i++;else{o||(o=[]);const l=a-i,p=c-i;if(l!=p){for(let P=0;P<l;P++){const x=P<o.length?o[P]:o[P]=0,B=x+P;p<=B&&B<l&&(o[P]=x+1)}o[s.previousIndex]=p-l}}a!==c&&t(s,a,c)}}forEachPreviousItem(t){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachMovedItem(t){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}forEachIdentityChange(t){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)t(n)}diff(t){if(null==t&&(t=[]),!Ta(t))throw new ie(900,!1);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let i,o,s,n=this._itHead,r=!1;if(Array.isArray(t)){this.length=t.length;for(let a=0;a<this.length;a++)o=t[a],s=this._trackByFn(a,o),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)):(n=this._mismatch(n,o,s,a),r=!0),n=n._next}else i=0,function zM(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Symbol.iterator]();let r;for(;!(r=n.next()).done;)t(r.value)}}(t,a=>{s=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,s)?(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,s,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,n,r,i){let o;return null===t?o=this._itTail:(o=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._reinsertAfter(t,o,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(t.item,n)||this._addIdentityChange(t,n),this._moveAfter(t,o,i)):t=this._addAfter(new wP(n,r),o,i),t}_verifyReinsertion(t,n,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?t=this._reinsertAfter(o,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}_truncate(t){for(;null!==t;){const n=t._next;this._addToRemovals(this._unlink(t)),t=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const i=t._prevRemoved,o=t._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(t,n,r),this._addToMoves(t,r),t}_moveAfter(t,n,r){return this._unlink(t),this._insertAfter(t,n,r),this._addToMoves(t,r),t}_addAfter(t,n,r){return this._insertAfter(t,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,n,r){const i=null===n?this._itHead:n._next;return t._next=i,t._prev=n,null===i?this._itTail=t:i._prev=t,null===n?this._itHead=t:n._next=t,null===this._linkedRecords&&(this._linkedRecords=new sC),this._linkedRecords.put(t),t.currentIndex=r,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const n=t._prev,r=t._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,t}_addToMoves(t,n){return t.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new sC),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,n){return t.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class wP{constructor(t,n){this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class bP{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,t))return r;return null}remove(t){const n=t._prevDup,r=t._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class sC{constructor(){this.map=new Map}put(t){const n=t.trackById;let r=this.map.get(n);r||(r=new bP,this.map.set(n,r)),r.add(t)}get(t,n){const i=this.map.get(t);return i?i.get(t,n):null}remove(t){const n=t.trackById;return this.map.get(n).remove(t)&&this.map.delete(n),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function aC(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class cC{constructor(){}supports(t){return t instanceof Map||ku(t)}create(){return new DP}}class DP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let n;for(n=this._mapHead;null!==n;n=n._next)t(n)}forEachPreviousItem(t){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)t(n)}forEachChangedItem(t){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)t(n)}forEachAddedItem(t){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)t(n)}forEachRemovedItem(t){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)t(n)}diff(t){if(t){if(!(t instanceof Map||ku(t)))throw new ie(900,!1)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const o=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,o)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,n){if(t){const r=t._prev;return n._next=t,n._prev=r,t._prev=n,r&&(r._next=n),t===this._mapHead&&(this._mapHead=n),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(t,n){if(this._records.has(t)){const i=this._records.get(t);this._maybeAddToChanges(i,n);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new SP(t);return this._records.set(t,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,n){Object.is(n,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=n,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,n){t instanceof Map?t.forEach(n):Object.keys(t).forEach(r=>n(t[r],r))}}class SP{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function lC(){return new Ya([new oC])}let Ya=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(null!=r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||lC()),deps:[[e,new xo,new Oo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(null!=r)return r;throw new ie(901,!1)}}return e.\u0275prov=Se({token:e,providedIn:"root",factory:lC}),e})();function uC(){return new os([new cC])}let os=(()=>{class e{constructor(n){this.factories=n}static create(n,r){if(r){const i=r.factories.slice();n=n.concat(i)}return new e(n)}static extend(n){return{provide:e,useFactory:r=>e.create(n,r||uC()),deps:[[e,new xo,new Oo]]}}find(n){const r=this.factories.find(i=>i.supports(n));if(r)return r;throw new ie(901,!1)}}return e.\u0275prov=Se({token:e,providedIn:"root",factory:uC}),e})();const TP=Jy(null,"core",[]);let IP=(()=>{class e{constructor(n){}}return e.\u0275fac=function(n){return new(n||e)(Ee(Wa))},e.\u0275mod=Jn({type:e}),e.\u0275inj=Pn({}),e})();function eo(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let bd=null;function Dr(){return bd}class RP{}const cn=new be("DocumentToken");let Dd=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:function(){return function OP(){return Ee(dC)}()},providedIn:"platform"}),e})();const xP=new be("Location Initialized");let dC=(()=>{class e extends Dd{constructor(n){super(),this._doc=n,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Dr().getBaseHref(this._doc)}onPopState(n){const r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){const r=Dr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){fC()?this._history.pushState(n,r,i):this._location.hash=i}replaceState(n,r,i){fC()?this._history.replaceState(n,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}}return e.\u0275fac=function(n){return new(n||e)(Ee(cn))},e.\u0275prov=Se({token:e,factory:function(){return function kP(){return new dC(Ee(cn))}()},providedIn:"platform"}),e})();function fC(){return!!window.history.pushState}function Sd(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function hC(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function Sr(e){return e&&"?"!==e[0]?"?"+e:e}let ii=(()=>{class e{historyGo(n){throw new Error("Not implemented")}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:function(){return ze(gC)},providedIn:"root"}),e})();const pC=new be("appBaseHref");let gC=(()=>{class e extends ii{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??ze(cn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Sd(this._baseHref,n)}path(n=!1){const r=this._platformLocation.pathname+Sr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){const s=this.prepareExternalUrl(i+Sr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){const s=this.prepareExternalUrl(i+Sr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ee(Dd),Ee(pC,8))},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),NP=(()=>{class e extends ii{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(n){const r=Sd(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Sr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Sr(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}}return e.\u0275fac=function(n){return new(n||e)(Ee(Dd),Ee(pC,8))},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})(),Ed=(()=>{class e{constructor(n){this._subject=new yt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;const r=this._locationStrategy.getBaseHref();this._basePath=function VP(e){if(new RegExp("^(https?:)?//").test(e)){const[,n]=e.split(/\/\/[^\/]+/);return n}return e}(hC(mC(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Sr(r))}normalize(n){return e.stripTrailingSlash(function LP(e,t){if(!e||!t.startsWith(e))return t;const n=t.substring(e.length);return""===n||["/",";","?","#"].includes(n[0])?n:t}(this._basePath,mC(n)))}prepareExternalUrl(n){return n&&"/"!==n[0]&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Sr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}}return e.normalizeQueryParams=Sr,e.joinWithSlash=Sd,e.stripTrailingSlash=hC,e.\u0275fac=function(n){return new(n||e)(Ee(ii))},e.\u0275prov=Se({token:e,factory:function(){return function FP(){return new Ed(Ee(ii))}()},providedIn:"root"}),e})();function mC(e){return e.replace(/\/index.html$/,"")}const Nd=/\s+/,EC=[];let Fd=(()=>{class e{constructor(n,r,i,o){this._iterableDiffers=n,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=EC,this.stateMap=new Map}set klass(n){this.initialClasses=null!=n?n.trim().split(Nd):EC}set ngClass(n){this.rawClass="string"==typeof n?n.trim().split(Nd):n}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(const r of n)this._updateState(r,!0);else if(null!=n)for(const r of Object.keys(n))this._updateState(r,Boolean(n[r]));this._applyStateDiff()}_updateState(n,r){const i=this.stateMap.get(n);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const n of this.stateMap){const r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){(n=n.trim()).length>0&&n.split(Nd).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(n){return new(n||e)(ee(Ya),ee(os),ee(gn),ee(vr))},e.\u0275dir=Oe({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class DR{constructor(t,n,r,i){this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let IC=(()=>{class e{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){const n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){const r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new DR(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),AC(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{AC(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(ee(jn),ee(_r),ee(Ya))},e.\u0275dir=Oe({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function AC(e,t){e.context.$implicit=t.item}let PC=(()=>{class e{constructor(n,r){this._viewContainer=n,this._context=new ER,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){RC("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){RC("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}}return e.\u0275fac=function(n){return new(n||e)(ee(jn),ee(_r))},e.\u0275dir=Oe({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class ER{constructor(){this.$implicit=null,this.ngIf=null}}function RC(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ot(t)}'.`)}let KR=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jn({type:e}),e.\u0275inj=Pn({}),e})();let eO=(()=>{class e{}return e.\u0275prov=Se({token:e,providedIn:"root",factory:()=>new tO(Ee(cn),window)}),e})();class tO{constructor(t,n){this.document=t,this.window=n,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const n=function nO(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(t)||o.querySelector(`[name="${t}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,t);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const n=this.window.history;n&&n.scrollRestoration&&(n.scrollRestoration=t)}}scrollToElement(t){const n=t.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=NC(this.window.history)||NC(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function NC(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class PO extends RP{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Hd extends PO{static makeCurrent(){!function PP(e){bd||(bd=e)}(new Hd)}onAndCancel(t,n,r){return t.addEventListener(n,r,!1),()=>{t.removeEventListener(n,r,!1)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,n){return(n=n||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return"window"===n?window:"document"===n?t:"body"===n?t.body:null}getBaseHref(t){const n=function RO(){return ls=ls||document.querySelector("base"),ls?ls.getAttribute("href"):null}();return null==n?null:function OO(e){lc=lc||document.createElement("a"),lc.setAttribute("href",e);const t=lc.pathname;return"/"===t.charAt(0)?t:`/${t}`}(n)}resetBaseElement(){ls=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function wR(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const r=n.indexOf("="),[i,o]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}(document.cookie,t)}}let lc,ls=null;const BC=new be("TRANSITION_ID"),kO=[{provide:Ha,useFactory:function xO(e,t,n){return()=>{n.get(Ga).donePromise.then(()=>{const r=Dr(),i=t.querySelectorAll(`style[ng-transition="${e}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[BC,cn,Qn],multi:!0}];let FO=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})();const uc=new be("EventManagerPlugins");let dc=(()=>{class e{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}addGlobalEventListener(n,r,i){return this._findPluginFor(r).addGlobalEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){const r=this._eventNameToPlugin.get(n);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const s=i[o];if(s.supports(n))return this._eventNameToPlugin.set(n,s),s}throw new Error(`No event manager plugin found for event ${n}`)}}return e.\u0275fac=function(n){return new(n||e)(Ee(uc),Ee(Ct))},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})();class UC{constructor(t){this._doc=t}addGlobalEventListener(t,n,r){const i=Dr().getGlobalEventTarget(this._doc,t);if(!i)throw new Error(`Unsupported event target ${i} for event ${n}`);return this.addEventListener(i,n,r)}}let $C=(()=>{class e{constructor(){this.usageCount=new Map}addStyles(n){for(const r of n)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(n){for(const r of n)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(n){}onStyleAdded(n){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(n,r){const i=this.usageCount;let o=i.get(n)??0;return o+=r,o>0?i.set(n,o):i.delete(n),o}ngOnDestroy(){for(const n of this.getAllStyles())this.onStyleRemoved(n);this.usageCount.clear()}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})(),us=(()=>{class e extends $C{constructor(n){super(),this.doc=n,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(n){for(const r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){const r=this.styleRef;r.get(n)?.forEach(o=>o.remove()),r.delete(n)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(const r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}addStyleToHost(n,r){const i=this.doc.createElement("style");i.textContent=r,n.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const n=this.hostNodes;n.clear(),n.add(this.doc.head)}}return e.\u0275fac=function(n){return new(n||e)(Ee(cn))},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})();const Gd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},zd=/%COMP%/g,zC=new be("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function WC(e,t){return t.flat(100).map(n=>n.replace(zd,e))}function qC(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Wd=(()=>{class e{constructor(n,r,i,o){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new qd(n)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(n,r);return i instanceof KC?i.applyToHost(n):i instanceof Jd&&i.applyStyles(),i}getOrCreateRenderer(n,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.eventManager,a=this.sharedStylesHost,c=this.removeStylesOnCompDestory;switch(r.encapsulation){case qn.Emulated:o=new KC(s,a,r,this.appId,c);break;case qn.ShadowDom:return new HO(s,a,n,r);default:o=new Jd(s,a,r,c)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return e.\u0275fac=function(n){return new(n||e)(Ee(dc),Ee(us),Ee(is),Ee(zC))},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})();class qd{constructor(t){this.eventManager=t,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(t,n){return n?document.createElementNS(Gd[n]||n,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,n){(ZC(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(ZC(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){t&&t.removeChild(n)}selectRootElement(t,n){let r="string"==typeof t?document.querySelector(t):t;if(!r)throw new Error(`The selector "${t}" did not match any elements`);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;const o=Gd[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){const i=Gd[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(sn.DashCase|sn.Important)?t.style.setProperty(n,r,i&sn.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&sn.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t[n]=r}setValue(t,n){t.nodeValue=n}listen(t,n,r){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,n,qC(r)):this.eventManager.addEventListener(t,n,qC(r))}}function ZC(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class HO extends qd{constructor(t,n,r,i){super(t),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=WC(i.id,i.styles);for(const s of o){const a=document.createElement("style");a.textContent=s,this.shadowRoot.appendChild(a)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(this.nodeOrShadowRoot(t),n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Jd extends qd{constructor(t,n,r,i,o=r.id){super(t),this.sharedStylesHost=n,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=WC(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class KC extends Jd{constructor(t,n,r,i,o){const s=i+"-"+r.id;super(t,n,r,o,s),this.contentAttr=function BO(e){return"_ngcontent-%COMP%".replace(zd,e)}(s),this.hostAttr=function UO(e){return"_nghost-%COMP%".replace(zd,e)}(s)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){const r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}}let GO=(()=>{class e extends UC{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}}return e.\u0275fac=function(n){return new(n||e)(Ee(cn))},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})();const YC=["alt","control","meta","shift"],zO={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WO={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let qO=(()=>{class e extends UC{constructor(n){super(n)}supports(n){return null!=e.parseEventName(n)}addEventListener(n,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Dr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){const r=n.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),YC.forEach(l=>{const p=r.indexOf(l);p>-1&&(r.splice(p,1),s+=l+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(n,r){let i=zO[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),YC.forEach(s=>{s!==i&&(0,WO[s])(n)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return"esc"===n?"escape":n}}return e.\u0275fac=function(n){return new(n||e)(Ee(cn))},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})();const YO=Jy(TP,"browser",[{provide:Ly,useValue:"browser"},{provide:Fy,useValue:function JO(){Hd.makeCurrent()},multi:!0},{provide:cn,useFactory:function KO(){return function EE(e){tu=e}(document),document},deps:[]}]),e_=new be(""),t_=[{provide:za,useClass:class NO{addToWindow(t){ut.getAngularTestability=(r,i=!0)=>{const o=t.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},ut.getAllAngularTestabilities=()=>t.getAllTestabilities(),ut.getAllAngularRootElements=()=>t.getAllRootElements(),ut.frameworkStabilizers||(ut.frameworkStabilizers=[]),ut.frameworkStabilizers.push(r=>{const i=ut.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(function(c){c.whenStable(a)})})}findTestabilityInTree(t,n,r){return null==n?null:t.getTestability(n)??(r?Dr().isShadowRoot(n)?this.findTestabilityInTree(t,n.host,!0):this.findTestabilityInTree(t,n.parentElement,!0):null)}},deps:[]},{provide:Hy,useClass:hd,deps:[Ct,pd,za]},{provide:hd,useClass:hd,deps:[Ct,pd,za]}],n_=[{provide:uu,useValue:"root"},{provide:Ni,useFactory:function ZO(){return new Ni},deps:[]},{provide:uc,useClass:GO,multi:!0,deps:[cn,Ct,Ly]},{provide:uc,useClass:qO,multi:!0,deps:[cn]},{provide:Wd,useClass:Wd,deps:[dc,us,is,zC]},{provide:Ag,useExisting:Wd},{provide:$C,useExisting:us},{provide:us,useClass:us,deps:[cn]},{provide:dc,useClass:dc,deps:[uc,Ct]},{provide:class rO{},useClass:FO,deps:[]},[]];let QO=(()=>{class e{constructor(n){}static withServerTransition(n){return{ngModule:e,providers:[{provide:is,useValue:n.appId},{provide:BC,useExisting:is},kO]}}}return e.\u0275fac=function(n){return new(n||e)(Ee(e_,12))},e.\u0275mod=Jn({type:e}),e.\u0275inj=Pn({providers:[...n_,...t_],imports:[KR,IP]}),e})(),r_=(()=>{class e{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}}return e.\u0275fac=function(n){return new(n||e)(Ee(cn))},e.\u0275prov=Se({token:e,factory:function(n){let r=null;return r=n?new n:function ex(){return new r_(Ee(cn))}(),r},providedIn:"root"}),e})();function Te(...e){return St(e,vo(e))}typeof window<"u"&&window;class Hn extends F{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){const{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}}const fc=b(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"}),{isArray:sx}=Array,{getPrototypeOf:ax,prototype:cx,keys:lx}=Object;function s_(e){if(1===e.length){const t=e[0];if(sx(t))return{args:t,keys:null};if(function ux(e){return e&&"object"==typeof e&&ax(e)===cx}(t)){const n=lx(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}const{isArray:dx}=Array;function a_(e){return le(t=>function fx(e,t){return dx(t)?e(...t):e(t)}(e,t))}function c_(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function l_(...e){const t=vo(e),n=_h(e),{args:r,keys:i}=s_(e);if(0===r.length)return St([],t);const o=new he(function hx(e,t,n=te){return r=>{u_(t,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)u_(t,()=>{const l=St(e[c],t);let p=!1;l.subscribe(_e(r,E=>{o[c]=E,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,t,i?s=>c_(i,s):te));return n?o.pipe(a_(n)):o}function u_(e,t,n){e?cr(n,e,t):t()}function Yd(...e){return function px(){return hi(1)}()(St(e,vo(e)))}function d_(e){return new he(t=>{Cn(e()).subscribe(t)})}function ds(e,t){const n=u(e)?e:()=>e,r=i=>i.error(n());return new he(t?i=>t.schedule(r,0,i):r)}function Qd(){return ce((e,t)=>{let n=null;e._refCount++;const r=_e(t,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(n=null);const i=e._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),t.unsubscribe()});e.subscribe(r),r.closed||(n=e.connect())})}class f_ extends he{constructor(t,n){super(),this.source=t,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Y(t)&&(this.lift=t.lift)}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:t}=this;this._subject=this._connection=null,t?.unsubscribe()}connect(){let t=this._connection;if(!t){t=this._connection=new g;const n=this.getSubject();t.add(this.source.subscribe(_e(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),t.closed&&(this._connection=null,t=g.EMPTY)}return t}refCount(){return Qd()(this)}}function ir(e,t){return ce((n,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();n.subscribe(_e(r,c=>{i?.unsubscribe();let l=0;const p=o++;Cn(e(c,p)).subscribe(i=_e(r,E=>r.next(t?t(c,E,p,l++):E),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function to(e){return e<=0?()=>zn:ce((t,n)=>{let r=0;t.subscribe(_e(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function Lr(e,t){return ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>e.call(t,o,i++)&&r.next(o)))})}function hc(e){return ce((t,n)=>{let r=!1;t.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function h_(e=mx){return ce((t,n)=>{let r=!1;t.subscribe(_e(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function mx(){return new fc}function Vr(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Lr((i,o)=>e(i,o,r)):te,to(1),n?hc(t):h_(()=>new fc))}function oi(e,t){return u(t)?kt(e,t,1):kt(e,1)}function Wt(e,t,n){const r=u(e)||t||n?{next:e,error:t,complete:n}:e;return r?ce((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(_e(o,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),o.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):te}function jr(e){return ce((t,n)=>{let o,r=null,i=!1;r=t.subscribe(_e(n,void 0,void 0,s=>{o=Cn(e(s,jr(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function p_(e,t){return ce(function vx(e,t,n,r,i){return(o,s)=>{let a=n,c=t,l=0;o.subscribe(_e(s,p=>{const E=l++;c=a?e(c,p,E):(a=!0,p),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,t,arguments.length>=2,!0))}function Xd(e){return e<=0?()=>zn:ce((t,n)=>{let r=[];t.subscribe(_e(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function g_(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Lr((i,o)=>e(i,o,r)):te,Xd(1),n?hc(t):h_(()=>new fc))}function ef(e){return ce((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}const Le="primary",fs=Symbol("RouteTitle");class _x{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){const n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function no(e){return new _x(e)}function wx(e,t,n){const r=n.path.split("/");if(r.length>e.length||"full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function or(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!m_(e[i],t[i]))return!1;return!0}function m_(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}return e===t}function v_(e){return Array.prototype.concat.apply([],e)}function y_(e){return e.length>0?e[e.length-1]:null}function jt(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Br(e){return Fu(e)?e:Jo(e)?St(Promise.resolve(e)):Te(e)}const pc=!1,Dx={exact:function w_(e,t,n){if(!si(e.segments,t.segments)||!gc(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(const r in t.children)if(!e.children[r]||!w_(e.children[r],t.children[r],n))return!1;return!0},subset:b_},C_={exact:function Sx(e,t){return or(e,t)},subset:function Ex(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>m_(e[n],t[n]))},ignored:()=>!0};function __(e,t,n){return Dx[n.paths](e.root,t.root,n.matrixParams)&&C_[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function b_(e,t,n){return D_(e,t,t.segments,n)}function D_(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!(!si(i,n)||t.hasChildren()||!gc(i,n,r))}if(e.segments.length===n.length){if(!si(e.segments,n)||!gc(e.segments,n,r))return!1;for(const i in t.children)if(!e.children[i]||!b_(e.children[i],t.children[i],r))return!1;return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!(si(e.segments,i)&&gc(e.segments,i,r)&&e.children[Le])&&D_(e.children[Le],t,o,r)}}function gc(e,t,n){return t.every((r,i)=>C_[n](e[i].parameters,r.parameters))}class Ur{constructor(t=new $e([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return Ix.serialize(this)}}class $e{constructor(t,n){this.segments=t,this.children=n,this.parent=null,jt(n,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mc(this)}}class hs{constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=no(this.parameters)),this._parameterMap}toString(){return M_(this)}}function si(e,t){return e.length===t.length&&e.every((n,r)=>n.path===t[r].path)}let ps=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:function(){return new tf},providedIn:"root"}),e})();class tf{parse(t){const n=new Lx(t);return new Ur(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){const n=`/${gs(t.root,!0)}`,r=function Rx(e){const t=Object.keys(e).map(n=>{const r=e[n];return Array.isArray(r)?r.map(i=>`${vc(n)}=${vc(i)}`).join("&"):`${vc(n)}=${vc(r)}`}).filter(n=>!!n);return t.length?`?${t.join("&")}`:""}(t.queryParams);return`${n}${r}${"string"==typeof t.fragment?`#${function Ax(e){return encodeURI(e)}(t.fragment)}`:""}`}}const Ix=new tf;function mc(e){return e.segments.map(t=>M_(t)).join("/")}function gs(e,t){if(!e.hasChildren())return mc(e);if(t){const n=e.children[Le]?gs(e.children[Le],!1):"",r=[];return jt(e.children,(i,o)=>{o!==Le&&r.push(`${o}:${gs(i,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Tx(e,t){let n=[];return jt(e.children,(r,i)=>{i===Le&&(n=n.concat(t(r,i)))}),jt(e.children,(r,i)=>{i!==Le&&(n=n.concat(t(r,i)))}),n}(e,(r,i)=>i===Le?[gs(e.children[Le],!1)]:[`${i}:${gs(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[Le]?`${mc(e)}/${n[0]}`:`${mc(e)}/(${n.join("//")})`}}function S_(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vc(e){return S_(e).replace(/%3B/gi,";")}function nf(e){return S_(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function yc(e){return decodeURIComponent(e)}function E_(e){return yc(e.replace(/\+/g,"%20"))}function M_(e){return`${nf(e.path)}${function Px(e){return Object.keys(e).map(t=>`;${nf(t)}=${nf(e[t])}`).join("")}(e.parameters)}`}const Ox=/^[^\/()?;=#]+/;function Cc(e){const t=e.match(Ox);return t?t[0]:""}const xx=/^[^=?&#]+/,Nx=/^[^&#]+/;class Lx{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new $e([],{}):new $e([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[Le]=new $e(t,n)),r}parseSegment(){const t=Cc(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new ie(4009,pc);return this.capture(t),new hs(yc(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const n=Cc(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=Cc(this.remaining);i&&(r=i,this.capture(r))}t[yc(n)]=yc(r)}parseQueryParam(t){const n=function kx(e){const t=e.match(xx);return t?t[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const s=function Fx(e){const t=e.match(Nx);return t?t[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=E_(n),o=E_(r);if(t.hasOwnProperty(i)){let s=t[i];Array.isArray(s)||(s=[s],t[i]=s),s.push(o)}else t[i]=o}parseParens(t){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Cc(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new ie(4010,pc);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=Le);const s=this.parseChildren();n[o]=1===Object.keys(s).length?s[Le]:new $e([],s),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new ie(4011,pc)}}function rf(e){return e.segments.length>0?new $e([],{[Le]:e}):e}function _c(e){const t={};for(const r of Object.keys(e.children)){const o=_c(e.children[r]);(o.segments.length>0||o.hasChildren())&&(t[r]=o)}return function Vx(e){if(1===e.numberOfChildren&&e.children[Le]){const t=e.children[Le];return new $e(e.segments.concat(t.segments),t.children)}return e}(new $e(e.segments,t))}function ai(e){return e instanceof Ur}const sf=!1;function jx(e,t,n,r,i){if(0===n.length)return ro(t.root,t.root,t.root,r,i);const o=function R_(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new P_(!0,0,e);let t=0,n=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return jt(o.outlets,(c,l)=>{a[l]="string"==typeof c?c.split("/"):c}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?t++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new P_(n,t,r)}(n);return o.toRoot()?ro(t.root,t.root,new $e([],{}),r,i):function s(c){const l=function Ux(e,t,n,r){if(e.isAbsolute)return new io(t.root,!0,0);if(-1===r)return new io(n,n===t.root,0);return function O_(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new ie(4005,sf&&"Invalid number of '../'");i=r.segments.length}return new io(r,!1,i-o)}(n,r+(ms(e.commands[0])?0:1),e.numberOfDoubleDots)}(o,t,e.snapshot?._urlSegment,c),p=l.processChildren?oo(l.segmentGroup,l.index,o.commands):af(l.segmentGroup,l.index,o.commands);return ro(t.root,l.segmentGroup,p,r,i)}(e.snapshot?._lastPathIndex)}function ms(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vs(e){return"object"==typeof e&&null!=e&&e.outlets}function ro(e,t,n,r,i){let s,o={};r&&jt(r,(c,l)=>{o[l]=Array.isArray(c)?c.map(p=>`${p}`):`${c}`}),s=e===t?n:A_(e,t,n);const a=rf(_c(s));return new Ur(a,o,i)}function A_(e,t,n){const r={};return jt(e.children,(i,o)=>{r[o]=i===t?n:A_(i,t,n)}),new $e(e.segments,r)}class P_{constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&ms(r[0]))throw new ie(4003,sf&&"Root segment cannot have matrix parameters");const i=r.find(vs);if(i&&i!==y_(r))throw new ie(4004,sf&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class io{constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}}function af(e,t,n){if(e||(e=new $e([],{})),0===e.segments.length&&e.hasChildren())return oo(e,t,n);const r=function Hx(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const s=e.segments[i],a=n[r];if(vs(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!k_(c,l,s))return o;r+=2}else{if(!k_(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new $e(e.segments.slice(0,r.pathIndex),{});return o.children[Le]=new $e(e.segments.slice(r.pathIndex),e.children),oo(o,0,i)}return r.match&&0===i.length?new $e(e.segments,{}):r.match&&!e.hasChildren()?cf(e,t,n):r.match?oo(e,0,i):cf(e,t,n)}function oo(e,t,n){if(0===n.length)return new $e(e.segments,{});{const r=function $x(e){return vs(e[0])?e[0].outlets:{[Le]:e}}(n),i={};if(!r[Le]&&e.children[Le]&&1===e.numberOfChildren&&0===e.children[Le].segments.length){const o=oo(e.children[Le],t,n);return new $e(e.segments,o.children)}return jt(r,(o,s)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=af(e.children[s],t,o))}),jt(e.children,(o,s)=>{void 0===r[s]&&(i[s]=o)}),new $e(e.segments,i)}}function cf(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(vs(o)){const c=Gx(o.outlets);return new $e(r,c)}if(0===i&&ms(n[0])){r.push(new hs(e.segments[t].path,x_(n[0]))),i++;continue}const s=vs(o)?o.outlets[Le]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&ms(a)?(r.push(new hs(s,x_(a))),i+=2):(r.push(new hs(s,{})),i++)}return new $e(r,{})}function Gx(e){const t={};return jt(e,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(t[r]=cf(new $e([],{}),0,n))}),t}function x_(e){const t={};return jt(e,(n,r)=>t[r]=`${n}`),t}function k_(e,t,n){return e==n.path&&or(t,n.parameters)}const ys="imperative";class sr{constructor(t,n){this.id=t,this.url=n}}class lf extends sr{constructor(t,n,r="imperative",i=null){super(t,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ci extends sr{constructor(t,n,r){super(t,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wc extends sr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class bc extends sr{constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i,this.type=16}}class uf extends sr{constructor(t,n,r,i){super(t,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class zx extends sr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wx extends sr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qx extends sr{constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Jx extends sr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Zx extends sr{constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kx{constructor(t){this.route=t,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Yx{constructor(t){this.route=t,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Qx{constructor(t){this.snapshot=t,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xx{constructor(t){this.snapshot=t,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e1{constructor(t){this.snapshot=t,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t1{constructor(t){this.snapshot=t,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class N_{constructor(t,n,r){this.routerEvent=t,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let i1=(()=>{class e{createUrlTree(n,r,i,o,s,a){return jx(n||r.root,i,o,s,a)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})(),s1=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:function(t){return i1.\u0275fac(t)},providedIn:"root"}),e})();class F_{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){const n=df(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){const n=df(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){const n=ff(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return ff(t,this._root).map(n=>n.value)}}function df(e,t){if(e===t.value)return t;for(const n of t.children){const r=df(e,n);if(r)return r}return null}function ff(e,t){if(e===t.value)return[t];for(const n of t.children){const r=ff(e,n);if(r.length)return r.unshift(t),r}return[]}class Mr{constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}}function so(e){const t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}class L_ extends F_{constructor(t,n){super(t),this.snapshot=n,hf(this,t)}toString(){return this.snapshot.toString()}}function V_(e,t){const n=function a1(e,t){const s=new Dc([],{},{},"",{},Le,t,null,e.root,-1,{});return new B_("",new Mr(s,[]))}(e,t),r=new Hn([new hs("",{})]),i=new Hn({}),o=new Hn({}),s=new Hn({}),a=new Hn(""),c=new ao(r,i,s,a,o,Le,t,n.root);return c.snapshot=n.root,new L_(new Mr(c,[]),n)}class ao{constructor(t,n,r,i,o,s,a,c){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.title=this.data?.pipe(le(l=>l[fs]))??Te(void 0),this._futureSnapshot=c}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(le(t=>no(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(le(t=>no(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function j_(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const i=n[r],o=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function c1(e){return e.reduce((t,n)=>({params:{...t.params,...n.params},data:{...t.data,...n.data},resolve:{...n.data,...t.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Dc{get title(){return this.data?.[fs]}constructor(t,n,r,i,o,s,a,c,l,p,E){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._urlSegment=l,this._lastPathIndex=p,this._resolve=E}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=no(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=no(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class B_ extends F_{constructor(t,n){super(n),this.url=t,hf(this,n)}toString(){return U_(this._root)}}function hf(e,t){t.value._routerState=e,t.children.forEach(n=>hf(e,n))}function U_(e){const t=e.children.length>0?` { ${e.children.map(U_).join(", ")} } `:"";return`${e.value}${t}`}function pf(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,or(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),or(t.params,n.params)||e.params.next(n.params),function bx(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!or(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),or(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function gf(e,t){const n=or(e.params,t.params)&&function Mx(e,t){return si(e,t)&&e.every((n,r)=>or(n.parameters,t[r].parameters))}(e.url,t.url);return n&&!(!e.parent!=!t.parent)&&(!e.parent||gf(e.parent,t.parent))}function Cs(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function u1(e,t,n){return t.children.map(r=>{for(const i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Cs(e,r,i);return Cs(e,r)})}(e,t,n);return new Mr(r,i)}{if(e.shouldAttach(t.value)){const o=e.retrieve(t.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=t.value,s.children=t.children.map(a=>Cs(e,a)),s}}const r=function d1(e){return new ao(new Hn(e.url),new Hn(e.params),new Hn(e.queryParams),new Hn(e.fragment),new Hn(e.data),e.outlet,e.component,e)}(t.value),i=t.children.map(o=>Cs(e,o));return new Mr(r,i)}}const mf="ngNavigationCancelingError";function $_(e,t){const{redirectTo:n,navigationBehaviorOptions:r}=ai(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=H_(!1,0,t);return i.url=n,i.navigationBehaviorOptions=r,i}function H_(e,t,n){const r=new Error("NavigationCancelingError: "+(e||""));return r[mf]=!0,r.cancellationCode=t,n&&(r.url=n),r}function G_(e){return z_(e)&&ai(e.url)}function z_(e){return e&&e[mf]}class f1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new _s,this.attachRef=null}}let _s=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(n,r){const i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){const r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new f1,this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Sc=!1;let vf=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Le,this.activateEvents=new yt,this.deactivateEvents=new yt,this.attachEvents=new yt,this.detachEvents=new yt,this.parentContexts=ze(_s),this.location=ze(jn),this.changeDetector=ze(Ja),this.environmentInjector=ze(mr)}ngOnChanges(n){if(n.name){const{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,Sc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,Sc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,Sc);this.location.detach();const n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){const n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new ie(4013,Sc);this._activatedRoute=n;const i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new h1(n,a,i.injector);if(r&&function p1(e){return!!e.resolveComponentFactory}(r)){const l=r.resolveComponentFactory(s);this.activated=i.createComponent(l,i.length,c)}else this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275dir=Oe({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[bn]}),e})();class h1{constructor(t,n,r){this.route=t,this.childContexts=n,this.parent=r}get(t,n){return t===ao?this.route:t===_s?this.childContexts:this.parent.get(t,n)}}let yf=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=gi({type:e,selectors:[["ng-component"]],standalone:!0,features:[Jv],decls:1,vars:0,template:function(n,r){1&n&&at(0,"router-outlet")},dependencies:[vf],encapsulation:2}),e})();function W_(e,t){return e.providers&&!e._injector&&(e._injector=Va(e.providers,t,`Route: ${e.path}`)),e._injector??t}function _f(e){const t=e.children&&e.children.map(_f),n=t?{...e,children:t}:{...e};return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==Le&&(n.component=yf),n}function In(e){return e.outlet||Le}function q_(e,t){const n=e.filter(r=>In(r)===t);return n.push(...e.filter(r=>In(r)!==t)),n}function ws(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let t=e.parent;t;t=t.parent){const n=t.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class C1{constructor(t,n,r,i){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}activate(t){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),pf(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){const i=so(n);t.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),jt(i,(o,s)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(t,n,s.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=so(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:s,route:t,contexts:a})}}deactivateRouteAndOutlet(t,n){const r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=so(t);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(t,n,r){const i=so(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new t1(o.value.snapshot))}),t.children.length&&this.forwardEvent(new Xx(t.value.snapshot))}activateRoutes(t,n,r){const i=t.value,o=n?n.value:null;if(pf(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,s.children)}else this.activateChildRoutes(t,n,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),pf(a.route.value),this.activateChildRoutes(t,null,s.children)}else{const a=ws(i.snapshot),c=a?.get($o)??null;s.attachRef=null,s.route=i,s.resolver=c,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(t,null,s.children)}}else this.activateChildRoutes(t,null,r)}}class J_{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class Ec{constructor(t,n){this.component=t,this.route=n}}function _1(e,t,n){const r=e._root;return bs(r,t?t._root:null,n,[r.value])}function co(e,t){const n=Symbol(),r=t.get(e,n);return r===n?"function"!=typeof e||function CD(e){return null!==Vs(e)}(e)?t.get(e):e:r}function bs(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=so(t);return e.children.forEach(s=>{(function b1(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function D1(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!si(e.url,t.url);case"pathParamsOrQueryParamsChange":return!si(e.url,t.url)||!or(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!gf(e,t)||!or(e.queryParams,t.queryParams);default:return!gf(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new J_(r)):(o.data=s.data,o._resolvedData=s._resolvedData),bs(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Ec(a.outlet.component,s))}else s&&Ds(t,a,i),i.canActivateChecks.push(new J_(r)),bs(e,null,o.component?a?a.children:null:n,r,i)})(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),jt(o,(s,a)=>Ds(s,n.getContext(a),i)),i}function Ds(e,t,n){const r=so(e),i=e.value;jt(r,(o,s)=>{Ds(o,i.component?t?t.children.getContext(s):null:t,n)}),n.canDeactivateChecks.push(new Ec(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}function Ss(e){return"function"==typeof e}function wf(e){return e instanceof fc||"EmptyError"===e?.name}const Mc=Symbol("INITIAL_VALUE");function lo(){return ir(e=>l_(e.map(t=>t.pipe(to(1),function gx(...e){const t=vo(e);return ce((n,r)=>{(t?Yd(e,n,t):Yd(e,n)).subscribe(r)})}(Mc)))).pipe(le(t=>{for(const n of t)if(!0!==n){if(n===Mc)return Mc;if(!1===n||n instanceof Ur)return n}return!0}),Lr(t=>t!==Mc),to(1)))}function Z_(e){return function de(...e){return ve(e)}(Wt(t=>{if(ai(t))throw $_(0,t)}),le(t=>!0===t))}const bf={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K_(e,t,n,r,i){const o=Df(e,t,n);return o.matched?function B1(e,t,n,r){const i=t.canMatch;return i&&0!==i.length?Te(i.map(s=>{const a=co(s,e);return Br(function A1(e){return e&&Ss(e.canMatch)}(a)?a.canMatch(t,n):e.runInContext(()=>a(t,n)))})).pipe(lo(),Z_()):Te(!0)}(r=W_(t,r),t,n).pipe(le(s=>!0===s?o:{...bf})):Te(o)}function Df(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{...bf}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(t.matcher||wx)(n,e,t);if(!i)return{...bf};const o={};jt(i.posParams,(a,c)=>{o[c]=a.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Tc(e,t,n,r){if(n.length>0&&function H1(e,t,n){return n.some(r=>Ic(e,t,r)&&In(r)!==Le)}(e,n,r)){const o=new $e(t,function $1(e,t,n,r){const i={};i[Le]=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&In(o)!==Le){const s=new $e([],{});s._sourceSegment=e,s._segmentIndexShift=t.length,i[In(o)]=s}return i}(e,t,r,new $e(n,e.children)));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:[]}}if(0===n.length&&function G1(e,t,n){return n.some(r=>Ic(e,t,r))}(e,n,r)){const o=new $e(e.segments,function U1(e,t,n,r,i){const o={};for(const s of r)if(Ic(e,n,s)&&!i[In(s)]){const a=new $e([],{});a._sourceSegment=e,a._segmentIndexShift=t.length,o[In(s)]=a}return{...i,...o}}(e,t,n,r,e.children));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const i=new $e(e.segments,e.children);return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:n}}function Ic(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Y_(e,t,n,r){return!!(In(e)===r||r!==Le&&Ic(t,n,e))&&("**"===e.path||Df(t,e,n).matched)}function Q_(e,t,n){return 0===t.length&&!e.children[n]}const Ac=!1;class Pc{constructor(t){this.segmentGroup=t||null}}class X_{constructor(t){this.urlTree=t}}function Es(e){return ds(new Pc(e))}function ew(e){return ds(new X_(e))}class J1{constructor(t,n,r,i,o){this.injector=t,this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const t=Tc(this.urlTree.root,[],[],this.config).segmentGroup,n=new $e(t.segments,t.children);return this.expandSegmentGroup(this.injector,this.config,n,Le).pipe(le(o=>this.createUrlTree(_c(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(jr(o=>{if(o instanceof X_)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Pc?this.noMatchError(o):o}))}match(t){return this.expandSegmentGroup(this.injector,this.config,t.root,Le).pipe(le(i=>this.createUrlTree(_c(i),t.queryParams,t.fragment))).pipe(jr(i=>{throw i instanceof Pc?this.noMatchError(i):i}))}noMatchError(t){return new ie(4002,Ac)}createUrlTree(t,n,r){const i=rf(t);return new Ur(i,n,r)}expandSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(t,n,r).pipe(le(o=>new $e([],o))):this.expandSegment(t,r,n,r.segments,i,!0)}expandChildren(t,n,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return St(i).pipe(oi(o=>{const s=r.children[o],a=q_(n,o);return this.expandSegmentGroup(t,a,s,o).pipe(le(c=>({segment:c,outlet:o})))}),p_((o,s)=>(o[s.outlet]=s.segment,o),{}),g_())}expandSegment(t,n,r,i,o,s){return St(r).pipe(oi(a=>this.expandSegmentAgainstRoute(t,n,r,a,i,o,s).pipe(jr(l=>{if(l instanceof Pc)return Te(null);throw l}))),Vr(a=>!!a),jr((a,c)=>{if(wf(a))return Q_(n,i,o)?Te(new $e([],{})):Es(n);throw a}))}expandSegmentAgainstRoute(t,n,r,i,o,s,a){return Y_(i,n,o,s)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(t,n,i,o,s):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s):Es(n):Es(n)}expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?ew(o):this.lineralizeSegments(r,o).pipe(kt(s=>{const a=new $e(s,{});return this.expandSegment(t,a,n,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,n,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:p}=Df(n,i,o);if(!a)return Es(n);const E=this.applyRedirectCommands(c,i.redirectTo,p);return i.redirectTo.startsWith("/")?ew(E):this.lineralizeSegments(i,E).pipe(kt(P=>this.expandSegment(t,n,r,P.concat(l),s,!1)))}matchSegmentAgainstRoute(t,n,r,i,o){return"**"===r.path?(t=W_(r,t),r.loadChildren?(r._loadedRoutes?Te({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(t,r)).pipe(le(a=>(r._loadedRoutes=a.routes,r._loadedInjector=a.injector,new $e(i,{})))):Te(new $e(i,{}))):K_(n,r,i,t).pipe(ir(({matched:s,consumedSegments:a,remainingSegments:c})=>s?this.getChildConfig(t=r._injector??t,r,i).pipe(kt(p=>{const E=p.injector??t,P=p.routes,{segmentGroup:x,slicedSegments:B}=Tc(n,a,c,P),z=new $e(x.segments,x.children);if(0===B.length&&z.hasChildren())return this.expandChildren(E,P,z).pipe(le(Z=>new $e(a,Z)));if(0===P.length&&0===B.length)return Te(new $e(a,{}));const K=In(r)===o;return this.expandSegment(E,z,P,B,K?Le:o,!0).pipe(le(ge=>new $e(a.concat(ge.segments),ge.children)))})):Es(n)))}getChildConfig(t,n,r){return n.children?Te({routes:n.children,injector:t}):n.loadChildren?void 0!==n._loadedRoutes?Te({routes:n._loadedRoutes,injector:n._loadedInjector}):function j1(e,t,n,r){const i=t.canLoad;return void 0===i||0===i.length?Te(!0):Te(i.map(s=>{const a=co(s,e);return Br(function E1(e){return e&&Ss(e.canLoad)}(a)?a.canLoad(t,n):e.runInContext(()=>a(t,n)))})).pipe(lo(),Z_())}(t,n,r).pipe(kt(i=>i?this.configLoader.loadChildren(t,n).pipe(Wt(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):function W1(e){return ds(H_(Ac,3))}())):Te({routes:[],injector:t})}lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Te(r);if(i.numberOfChildren>1||!i.children[Le])return t.redirectTo,ds(new ie(4e3,Ac));i=i.children[Le]}}applyRedirectCommands(t,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),t,r)}applyRedirectCreateUrlTree(t,n,r,i){const o=this.createSegmentGroup(t,n.root,r,i);return new Ur(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){const r={};return jt(t,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const a=i.substring(1);r[o]=n[a]}else r[o]=i}),r}createSegmentGroup(t,n,r,i){const o=this.createSegments(t,n.segments,r,i);let s={};return jt(n.children,(a,c)=>{s[c]=this.createSegmentGroup(t,a,r,i)}),new $e(o,s)}createSegments(t,n,r,i){return n.map(o=>o.path.startsWith(":")?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){const i=r[n.path.substring(1)];if(!i)throw new ie(4001,Ac);return i}findOrReturn(t,n){let r=0;for(const i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}}class K1{}class X1{constructor(t,n,r,i,o,s,a){this.injector=t,this.rootComponentType=n,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a}recognize(){const t=Tc(this.urlTree.root,[],[],this.config.filter(n=>void 0===n.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,t,Le).pipe(le(n=>{if(null===n)return null;const r=new Dc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Le,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Mr(r,n),o=new B_(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(t){const n=t.value,r=j_(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(t,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(t,n,r):this.processSegment(t,n,r,r.segments,i)}processChildren(t,n,r){return St(Object.keys(r.children)).pipe(oi(i=>{const o=r.children[i],s=q_(n,i);return this.processSegmentGroup(t,s,o,i)}),p_((i,o)=>i&&o?(i.push(...o),i):null),function yx(e,t=!1){return ce((n,r)=>{let i=0;n.subscribe(_e(r,o=>{const s=e(o,i++);(s||t)&&r.next(o),!s&&r.complete()}))})}(i=>null!==i),hc(null),g_(),le(i=>{if(null===i)return null;const o=nw(i);return function ek(e){e.sort((t,n)=>t.value.outlet===Le?-1:n.value.outlet===Le?1:t.value.outlet.localeCompare(n.value.outlet))}(o),o}))}processSegment(t,n,r,i,o){return St(n).pipe(oi(s=>this.processSegmentAgainstRoute(s._injector??t,s,r,i,o)),Vr(s=>!!s),jr(s=>{if(wf(s))return Q_(r,i,o)?Te([]):Te(null);throw s}))}processSegmentAgainstRoute(t,n,r,i,o){if(n.redirectTo||!Y_(n,r,i,o))return Te(null);let s;if("**"===n.path){const a=i.length>0?y_(i).parameters:{},c=iw(r)+i.length;s=Te({snapshot:new Dc(i,a,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ow(n),In(n),n.component??n._loadedComponent??null,n,rw(r),c,sw(n)),consumedSegments:[],remainingSegments:[]})}else s=K_(r,n,i,t).pipe(le(({matched:a,consumedSegments:c,remainingSegments:l,parameters:p})=>{if(!a)return null;const E=iw(r)+c.length;return{snapshot:new Dc(c,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ow(n),In(n),n.component??n._loadedComponent??null,n,rw(r),E,sw(n)),consumedSegments:c,remainingSegments:l}}));return s.pipe(ir(a=>{if(null===a)return Te(null);const{snapshot:c,consumedSegments:l,remainingSegments:p}=a;t=n._injector??t;const E=n._loadedInjector??t,P=function tk(e){return e.children?e.children:e.loadChildren?e._loadedRoutes:[]}(n),{segmentGroup:x,slicedSegments:B}=Tc(r,l,p,P.filter(K=>void 0===K.redirectTo));if(0===B.length&&x.hasChildren())return this.processChildren(E,P,x).pipe(le(K=>null===K?null:[new Mr(c,K)]));if(0===P.length&&0===B.length)return Te([new Mr(c,[])]);const z=In(n)===o;return this.processSegment(E,P,x,B,z?Le:o).pipe(le(K=>null===K?null:[new Mr(c,K)]))}))}}function nk(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function nw(e){const t=[],n=new Set;for(const r of e){if(!nk(r)){t.push(r);continue}const i=t.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):t.push(r)}for(const r of n){const i=nw(r.children);t.push(new Mr(r.value,i))}return t.filter(r=>!n.has(r))}function rw(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function iw(e){let t=e,n=t._segmentIndexShift??0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift??0;return n-1}function ow(e){return e.data||{}}function sw(e){return e.resolve||{}}function aw(e){return"string"==typeof e.title||null===e.title}function Sf(e){return ir(t=>{const n=e(t);return n?St(n).pipe(le(()=>t)):Te(t)})}const uo=new be("ROUTES");let Ef=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=ze(Vy)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return Te(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);const r=Br(n.loadComponent()).pipe(le(lw),Wt(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),ef(()=>{this.componentLoaders.delete(n)})),i=new f_(r,()=>new F).pipe(Qd());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(le(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,l,p=!1;Array.isArray(a)?l=a:(c=a.create(n).injector,l=v_(c.get(uo,[],Ae.Self|Ae.Optional)));return{routes:l.map(_f),injector:c}}),ef(()=>{this.childrenLoaders.delete(r)})),s=new f_(o,()=>new F).pipe(Qd());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(n){return Br(n()).pipe(le(lw),kt(r=>r instanceof Wv||Array.isArray(r)?Te(r):St(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lw(e){return function uk(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let Oc=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new F,this.configLoader=ze(Ef),this.environmentInjector=ze(mr),this.urlSerializer=ze(ps),this.rootContexts=ze(_s),this.navigationId=0,this.afterPreactivation=()=>Te(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Yx(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Kx(i))}complete(){this.transitions?.complete()}handleNavigationRequest(n){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...n,id:r})}setupNavigations(n){return this.transitions=new Hn({id:0,targetPageId:0,currentUrlTree:n.currentUrlTree,currentRawUrl:n.currentUrlTree,extractedUrl:n.urlHandlingStrategy.extract(n.currentUrlTree),urlAfterRedirects:n.urlHandlingStrategy.extract(n.currentUrlTree),rawUrl:n.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:ys,restoredState:null,currentSnapshot:n.routerState.snapshot,targetSnapshot:null,currentRouterState:n.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Lr(r=>0!==r.id),le(r=>({...r,extractedUrl:n.urlHandlingStrategy.extract(r.rawUrl)})),ir(r=>{let i=!1,o=!1;return Te(r).pipe(Wt(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),ir(s=>{const a=n.browserUrlTree.toString(),c=!n.navigated||s.extractedUrl.toString()!==a||a!==n.currentUrlTree.toString();if(!c&&"reload"!==(s.extras.onSameUrlNavigation??n.onSameUrlNavigation)){const p="";return this.events.next(new bc(s.id,n.serializeUrl(r.rawUrl),p,0)),n.rawUrlTree=s.rawUrl,s.resolve(null),zn}if(n.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return uw(s.source)&&(n.browserUrlTree=s.extractedUrl),Te(s).pipe(ir(p=>{const E=this.transitions?.getValue();return this.events.next(new lf(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),E!==this.transitions?.getValue()?zn:Promise.resolve(p)}),function Z1(e,t,n,r){return ir(i=>function q1(e,t,n,r,i){return new J1(e,t,n,r,i).apply()}(e,t,n,i.extractedUrl,r).pipe(le(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,n.config),Wt(p=>{this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects},r.urlAfterRedirects=p.urlAfterRedirects}),function ik(e,t,n,r,i){return kt(o=>function Q1(e,t,n,r,i,o,s="emptyOnly"){return new X1(e,t,n,r,i,s,o).recognize().pipe(ir(a=>null===a?function Y1(e){return new he(t=>t.error(e))}(new K1):Te(a)))}(e,t,n,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe(le(s=>({...o,targetSnapshot:s}))))}(this.environmentInjector,this.rootComponentType,n.config,this.urlSerializer,n.paramsInheritanceStrategy),Wt(p=>{if(r.targetSnapshot=p.targetSnapshot,"eager"===n.urlUpdateStrategy){if(!p.extras.skipLocationChange){const P=n.urlHandlingStrategy.merge(p.urlAfterRedirects,p.rawUrl);n.setBrowserUrl(P,p)}n.browserUrlTree=p.urlAfterRedirects}const E=new zx(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(E)}));if(c&&n.urlHandlingStrategy.shouldProcessUrl(n.rawUrlTree)){const{id:p,extractedUrl:E,source:P,restoredState:x,extras:B}=s,z=new lf(p,this.urlSerializer.serialize(E),P,x);this.events.next(z);const K=V_(E,this.rootComponentType).snapshot;return Te(r={...s,targetSnapshot:K,urlAfterRedirects:E,extras:{...B,skipLocationChange:!1,replaceUrl:!1}})}{const p="";return this.events.next(new bc(s.id,n.serializeUrl(r.extractedUrl),p,1)),n.rawUrlTree=s.rawUrl,s.resolve(null),zn}}),Wt(s=>{const a=new Wx(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),le(s=>r={...s,guards:_1(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function R1(e,t){return kt(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Te({...n,guardsResult:!0}):function O1(e,t,n,r){return St(e).pipe(kt(i=>function V1(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Te(o.map(a=>{const c=ws(t)??i,l=co(a,c);return Br(function I1(e){return e&&Ss(e.canDeactivate)}(l)?l.canDeactivate(e,t,n,r):c.runInContext(()=>l(e,t,n,r))).pipe(Vr())})).pipe(lo()):Te(!0)}(i.component,i.route,n,t,r)),Vr(i=>!0!==i,!0))}(s,r,i,e).pipe(kt(a=>a&&function S1(e){return"boolean"==typeof e}(a)?function x1(e,t,n,r){return St(t).pipe(oi(i=>Yd(function N1(e,t){return null!==e&&t&&t(new Qx(e)),Te(!0)}(i.route.parent,r),function k1(e,t){return null!==e&&t&&t(new e1(e)),Te(!0)}(i.route,r),function L1(e,t,n){const r=t[t.length-1],o=t.slice(0,t.length-1).reverse().map(s=>function w1(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(s)).filter(s=>null!==s).map(s=>d_(()=>Te(s.guards.map(c=>{const l=ws(s.node)??n,p=co(c,l);return Br(function T1(e){return e&&Ss(e.canActivateChild)}(p)?p.canActivateChild(r,e):l.runInContext(()=>p(r,e))).pipe(Vr())})).pipe(lo())));return Te(o).pipe(lo())}(e,i.path,n),function F1(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return Te(!0);const i=r.map(o=>d_(()=>{const s=ws(t)??n,a=co(o,s);return Br(function M1(e){return e&&Ss(e.canActivate)}(a)?a.canActivate(t,e):s.runInContext(()=>a(t,e))).pipe(Vr())}));return Te(i).pipe(lo())}(e,i.route,n))),Vr(i=>!0!==i,!0))}(r,o,e,t):Te(a)),le(a=>({...n,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),Wt(s=>{if(r.guardsResult=s.guardsResult,ai(s.guardsResult))throw $_(0,s.guardsResult);const a=new qx(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),Lr(s=>!!s.guardsResult||(n.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),Sf(s=>{if(s.guards.canActivateChecks.length)return Te(s).pipe(Wt(a=>{const c=new Jx(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),ir(a=>{let c=!1;return Te(a).pipe(function ok(e,t){return kt(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Te(n);let o=0;return St(i).pipe(oi(s=>function sk(e,t,n,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!aw(i)&&(o[fs]=i.title),function ak(e,t,n,r){const i=function ck(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return Te({});const o={};return St(i).pipe(kt(s=>function lk(e,t,n,r){const i=ws(t)??r,o=co(e,i);return Br(o.resolve?o.resolve(t,n):i.runInContext(()=>o(t,n)))}(e[s],t,n,r).pipe(Vr(),Wt(a=>{o[s]=a}))),Xd(1),function Cx(e){return le(()=>e)}(o),jr(s=>wf(s)?zn:ds(s)))}(o,e,t,r).pipe(le(s=>(e._resolvedData=s,e.data=j_(e,n).resolve,i&&aw(i)&&(e.data[fs]=i.title),null)))}(s.route,r,e,t)),Wt(()=>o++),Xd(1),kt(s=>o===i.length?Te(n):zn))})}(n.paramsInheritanceStrategy,this.environmentInjector),Wt({next:()=>c=!0,complete:()=>{c||(n.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),Wt(a=>{const c=new Zx(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),Sf(s=>{const a=c=>{const l=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(c.routeConfig).pipe(Wt(p=>{c.component=p}),le(()=>{})));for(const p of c.children)l.push(...a(p));return l};return l_(a(s.targetSnapshot.root)).pipe(hc(),to(1))}),Sf(()=>this.afterPreactivation()),le(s=>{const a=function l1(e,t,n){const r=Cs(e,t._root,n?n._root:void 0);return new L_(r,t)}(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),Wt(s=>{n.currentUrlTree=s.urlAfterRedirects,n.rawUrlTree=n.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),n.routerState=s.targetRouterState,"deferred"===n.urlUpdateStrategy&&(s.extras.skipLocationChange||n.setBrowserUrl(n.rawUrlTree,s),n.browserUrlTree=s.urlAfterRedirects)}),((e,t,n)=>le(r=>(new C1(t,r.targetRouterState,r.currentRouterState,n).activate(e),r)))(this.rootContexts,n.routeReuseStrategy,s=>this.events.next(s)),to(1),Wt({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,n.navigated=!0,this.events.next(new ci(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(n.currentUrlTree))),n.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),ef(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),jr(s=>{if(o=!0,z_(s)){G_(s)||(n.navigated=!0,n.restoreHistory(r,!0));const a=new wc(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),G_(s)){const c=n.urlHandlingStrategy.merge(s.url,n.rawUrlTree),l={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===n.urlUpdateStrategy||uw(r.source)};n.scheduleNavigation(c,ys,null,l,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{n.restoreHistory(r,!0);const a=new uf(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(n.errorHandler(s))}catch(c){r.reject(c)}}return zn}))}))}cancelNavigationTransition(n,r,i){const o=new wc(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function uw(e){return e!==ys}let dw=(()=>{class e{buildTitle(n){let r,i=n.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===Le);return r}getResolvedTitleForRoute(n){return n.data[fs]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:function(){return ze(dk)},providedIn:"root"}),e})(),dk=(()=>{class e extends dw{constructor(n){super(),this.title=n}updateTitle(n){const r=this.buildTitle(n);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(n){return new(n||e)(Ee(r_))},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),fk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:function(){return ze(pk)},providedIn:"root"}),e})();class hk{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}}let pk=(()=>{class e extends hk{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const xc=new be("",{providedIn:"root",factory:()=>({})});let mk=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:function(){return ze(vk)},providedIn:"root"}),e})(),vk=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yk(e){throw e}function Ck(e,t,n){return t.parse("/")}const _k={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},wk={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Xt=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=ze(JA),this.isNgZoneEnabled=!1,this.options=ze(xc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||yk,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Ck,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=ze(mk),this.routeReuseStrategy=ze(fk),this.urlCreationStrategy=ze(s1),this.titleStrategy=ze(dw),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=v_(ze(uo,{optional:!0})??[]),this.navigationTransitions=ze(Oc),this.urlSerializer=ze(ps),this.location=ze(Ed),this.isNgZoneEnabled=ze(Ct)instanceof Ct&&Ct.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Ur,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=V_(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(n=>{this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId??0},n=>{this.console.warn(`Unhandled Navigation Error: ${n}`)})}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const n=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),ys,n)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(n=>{const r="popstate"===n.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(n.url,r,n.state)},0)}))}navigateToSyncWithBrowser(n,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(n){this.config=n.map(_f),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(n,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:s;let p=null;switch(a){case"merge":p={...this.currentUrlTree.queryParams,...o};break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}return null!==p&&(p=this.removeEmptyProps(p)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,n,p,l??null)}navigateByUrl(n,r={skipLocationChange:!1}){const i=ai(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,ys,null,r)}navigate(n,r={skipLocationChange:!1}){return function bk(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new ie(4008,false)}}(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){let r;try{r=this.urlSerializer.parse(n)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,n)}return r}isActive(n,r){let i;if(i=!0===r?{..._k}:!1===r?{...wk}:r,ai(n))return __(this.currentUrlTree,n,i);const o=this.parseUrl(n);return __(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.keys(n).reduce((r,i)=>{const o=n[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,l,p;return s?(a=s.resolve,c=s.reject,l=s.promise):l=new Promise((E,P)=>{a=E,c=P}),p="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:p,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(E=>Promise.reject(E))}setBrowserUrl(n,r){const i=this.urlSerializer.serialize(n);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(n,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(n),this.browserUrlTree=n.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=n.currentRouterState,this.currentUrlTree=n.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return"computed"===this.canceledNavigationResolution?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),kc=(()=>{class e{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new F;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=n.events.subscribe(l=>{l instanceof ci&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(n){this._preserveFragment=eo(n)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(n){this._skipLocationChange=eo(n)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(n){this._replaceUrl=eo(n)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(n){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){null!=n?(this.commands=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(n,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==n||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const n=null===this.href?null:function vg(e,t,n){return function qE(e,t){return"src"===t&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===t&&("base"===e||"link"===e)?mg:gg}(t,n)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(n,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(n){return new(n||e)(ee(Xt),ee(ao),function oa(e){return function yS(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const o=n[i];if(sp(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===t)return n[i+1];i+=2}}}return null}(Ft(),e)}("tabindex"),ee(vr),ee(gn),ee(ii))},e.\u0275dir=Oe({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&it("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&tr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[bn]}),e})();class fw{}let Ek=(()=>{class e{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Lr(n=>n instanceof ci),oi(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=Va(o.providers,n,`Route: ${o.path}`));const s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return St(i).pipe(hi())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(n,r):Te(null);const o=i.pipe(kt(s=>null===s?Te(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));return r.loadComponent&&!r._loadedComponent?St([o,this.loader.loadComponent(r)]).pipe(hi()):o})}}return e.\u0275fac=function(n){return new(n||e)(Ee(Xt),Ee(Vy),Ee(mr),Ee(fw),Ee(Ef))},e.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Tf=new be("");let hw=(()=>{class e{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof lf?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof ci&&(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof N_&&(n.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(n.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new N_(n,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(n){!function Jg(){throw new Error("invalid")}()},e.\u0275prov=Se({token:e,factory:e.\u0275fac}),e})();var vn=(()=>((vn=vn||{})[vn.COMPLETE=0]="COMPLETE",vn[vn.FAILED=1]="FAILED",vn[vn.REDIRECTING=2]="REDIRECTING",vn))();const fo=!1;function $r(e,t){return{\u0275kind:e,\u0275providers:t}}const If=new be("",{providedIn:"root",factory:()=>!1});function gw(){const e=ze(Qn);return t=>{const n=e.get(Wa);if(t!==n.components[0])return;const r=e.get(Xt),i=e.get(mw);1===e.get(Af)&&r.initialNavigation(),e.get(vw,null,Ae.Optional)?.setUpPreloading(),e.get(Tf,null,Ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const mw=new be(fo?"bootstrap done indicator":"",{factory:()=>new F}),Af=new be(fo?"initial navigation":"",{providedIn:"root",factory:()=>1});function Pk(){let e=[];return e=fo?[{provide:ma,multi:!0,useFactory:()=>{const t=ze(Xt);return()=>t.events.subscribe(n=>{console.group?.(`Router Event: ${n.constructor.name}`),console.log(function n1(e){if(!("type"in e))return`Unknown Router Event: ${e.constructor.name}`;switch(e.type){case 14:return`ActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${e.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${e.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state}, shouldActivate: ${e.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 2:return`NavigationCancel(id: ${e.id}, url: '${e.url}')`;case 16:return`NavigationSkipped(id: ${e.id}, url: '${e.url}')`;case 1:return`NavigationEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${e.id}, url: '${e.url}', error: ${e.error})`;case 0:return`NavigationStart(id: ${e.id}, url: '${e.url}')`;case 6:return`ResolveEnd(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 5:return`ResolveStart(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 10:return`RouteConfigLoadEnd(path: ${e.route.path})`;case 9:return`RouteConfigLoadStart(path: ${e.route.path})`;case 4:return`RoutesRecognized(id: ${e.id}, url: '${e.url}', urlAfterRedirects: '${e.urlAfterRedirects}', state: ${e.state})`;case 15:return`Scroll(anchor: '${e.anchor}', position: '${e.position?`${e.position[0]}, ${e.position[1]}`:null}')`}}(n)),console.log(n),console.groupEnd?.()})}}]:[],$r(1,e)}const vw=new be(fo?"router preloader":"");function Rk(e){return $r(0,[{provide:vw,useExisting:Ek},{provide:fw,useExisting:e}])}const Ms=!1,yw=new be(Ms?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),Ok=[Ed,{provide:ps,useClass:tf},Xt,_s,{provide:ao,useFactory:function pw(e){return e.routerState.root},deps:[Xt]},Ef,Ms?{provide:If,useValue:!0}:[]];function xk(){return new Wy("Router",Xt)}let Cw=(()=>{class e{constructor(n){}static forRoot(n,r){return{ngModule:e,providers:[Ok,Ms&&r?.enableTracing?Pk().\u0275providers:[],{provide:uo,multi:!0,useValue:n},{provide:yw,useFactory:Lk,deps:[[Xt,new Oo,new xo]]},{provide:xc,useValue:r||{}},r?.useHash?{provide:ii,useClass:NP}:{provide:ii,useClass:gC},{provide:Tf,useFactory:()=>{const e=ze(eO),t=ze(Ct),n=ze(xc),r=ze(Oc),i=ze(ps);return n.scrollOffset&&e.setOffset(n.scrollOffset),new hw(i,r,e,t,n)}},r?.preloadingStrategy?Rk(r.preloadingStrategy).\u0275providers:[],{provide:Wy,multi:!0,useFactory:xk},r?.initialNavigation?Vk(r):[],[{provide:_w,useFactory:gw},{provide:zy,multi:!0,useExisting:_w}]]}}static forChild(n){return{ngModule:e,providers:[{provide:uo,multi:!0,useValue:n}]}}}return e.\u0275fac=function(n){return new(n||e)(Ee(yw,8))},e.\u0275mod=Jn({type:e}),e.\u0275inj=Pn({imports:[yf]}),e})();function Lk(e){if(Ms&&e)throw new ie(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vk(e){return["disabled"===e.initialNavigation?$r(3,[{provide:Ha,multi:!0,useFactory:()=>{const t=ze(Xt);return()=>{t.setUpLocationChangeListener()}}},{provide:Af,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?$r(2,[{provide:Af,useValue:0},{provide:Ha,multi:!0,deps:[Qn],useFactory:t=>{const n=t.get(xP,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=t.get(Xt),o=t.get(mw);(function Mk(e,t){e.events.pipe(Lr(n=>n instanceof ci||n instanceof wc||n instanceof uf||n instanceof bc),le(n=>n instanceof ci||n instanceof bc?vn.COMPLETE:n instanceof wc&&(0===n.code||1===n.code)?vn.REDIRECTING:vn.FAILED),Lr(n=>n!==vn.REDIRECTING),to(1)).subscribe(()=>{t()})})(i,()=>{r(!0)}),t.get(Oc).afterPreactivation=()=>(r(!0),o.closed?Te(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const _w=new be(Ms?"Router Initializer":""),Pf=function(e){return{active:e}};let Bk=(()=>{class e{constructor(){this.stack_Active=!1,this.sectionController={Sections:document.getElementsByClassName(""),currIndex:0}}ngOnInit(){this.initSections(),window}scrollTo(n){if(this.sectionController.currIndex!=n)if(n<this.sectionController.currIndex)for(let r=this.sectionController.currIndex;r>n;r--)this.GetNextView(!0);else for(let r=this.sectionController.currIndex;r<n;r++)this.GetNextView(!1)}downloadResume(){var n=document.createElement("a");n.href="/assets/resume.pdf",n.download="Arihant_Jain.pdf",n.click()}initSections(){this.sectionController.Sections=document.getElementsByClassName("Intro-Section")}setCurrentIndex(n){let r=this.sectionController.Sections[this.sectionController.currIndex].offsetTop-100;window.scrollY>=r+this.sectionController.Sections[this.sectionController.currIndex].clientHeight&&(this.sectionController.currIndex=this.sectionController.currIndex>=this.sectionController.Sections.length-1?this.sectionController.Sections.length-1:this.sectionController.currIndex+1),window.scrollY<r&&(this.sectionController.currIndex=this.sectionController.currIndex<=0?0:this.sectionController.currIndex-1)}GetNextView(n){this.stack_Active=!1;let r=this.sectionController.currIndex;this.sectionController.currIndex=n?this.sectionController.currIndex<=0?0:this.sectionController.currIndex-1:this.sectionController.currIndex>=this.sectionController.Sections.length-1?this.sectionController.Sections.length-1:this.sectionController.currIndex+1,r!=this.sectionController.currIndex&&this.sectionController.Sections[this.sectionController.currIndex].scrollIntoView({behavior:"smooth"})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=gi({type:e,selectors:[["app-home"]],hostBindings:function(r,i){1&r&&it("wheel",function(s){return i.setCurrentIndex(s)})},decls:119,vars:9,consts:[[1,"side-Nav"],["title","Connect-Around",3,"ngClass","click"],[1,"material-icons"],["title","More about us",3,"ngClass","click"],["title","About developers",3,"ngClass","click"],[1,"Intro-Section","Connect-Now"],["fetchpriority","high","loading","lazy","width","800","height","800","src","/assets/Img/bunny.png",1,"intro-img"],[1,"Actions"],["routerLink","/chatSetup",1,"Std-Buttons"],[1,"Std-Buttons"],[1,"Std-Buttons",3,"click"],[1,"Intro-Section","Explore"],["src","/assets/Img/secure.png","fetchPriority","high",1,"secure-img"],["src","/assets/Img/login.png","fetchPriority","high",1,"secure-img"],["src","/assets/Img/chat_video.png","fetchPriority","high",1,"secure-img"],["src","/assets/Img/be_yourself.png","fetchPriority","high",1,"secure-img"],["src","/assets/Img/no_cost.png","fetchPriority","high",1,"secure-img"],["src","/assets/Img/innovation.png","fetchPriority","high",1,"secure-img"],[1,"Intro-Section","Dev"],[1,"place-center"],[1,"resume"],["src","/assets/Img/code.png","id","code_png"],["id","tech_stack","src","/assets/Img/tech_stack.png"],[1,"stack"],["src","/assets/Img/csharp.png"],["src","/assets/Img/angular.png"],["src","/assets/Img/devops.png"],["src","/assets/Img/ssms.png"],["id","stack-helper"],[1,"Milestones"],["id","milestones-step-helper"],["id","milestones-step"],["src","/assets/Img/work.png"],[1,"mistone-imgcontainer"],["src","/assets/Img/college.png"]],template:function(r,i){1&r&&(se(0,"div",0)(1,"span",1),it("click",function(){return i.scrollTo(0)}),se(2,"i",2),ye(3,"wifi_tethering"),ae()(),se(4,"span",3),it("click",function(){return i.scrollTo(1)}),se(5,"i",2),ye(6,"explore"),ae()(),se(7,"span",4),it("click",function(){return i.scrollTo(2)}),se(8,"i",2),ye(9,"code"),ae()()(),se(10,"div",5)(11,"div")(12,"div"),at(13,"img",6),ae(),se(14,"div"),ye(15," hey, Buddyyy getting Bored ? "),at(16,"br"),ye(17," Let's Randummmm "),ae(),se(18,"div",7)(19,"button",8),ye(20," Connect Now "),ae(),se(21,"button",9),ye(22," Create/Join Room "),ae(),se(23,"button",10),it("click",function(){return i.scrollTo(1)}),ye(24," Explore More "),ae()()()(),se(25,"div",11)(26,"div"),at(27,"img",12),se(28,"span")(29,"p"),ye(30,"Secure, Stateless Communication"),ae(),se(31,"p"),ye(32,"Your privacy is our top priority. Randummmmm operates on a stateless end-to-end connection, ensuring that your data remains yours alone. Once your session ends, it's as if the conversation never took place, providing "),ae()()(),se(33,"div"),at(34,"img",13),se(35,"span")(36,"p"),ye(37,"Seamless Access"),ae(),se(38,"p"),ye(39,"Say farewell to cumbersome sign-ups. With Randummmm, accessibility is paramount. Dive straight into conversation without any barriers or obligations, and let your words flow freely"),ae()()(),se(40,"div"),at(41,"img",14),se(42,"span")(43,"p"),ye(44,"Concurrent Chat and Video"),ae(),se(45,"p"),ye(46,"Why choose between text and video when you can have both? Experience the best of both worlds with simultaneous chat and video calls, enriching your interactions and making connections more vibrant than ever before"),ae()()(),se(47,"div"),at(48,"img",15),se(49,"span")(50,"p"),ye(51,"Freedom of Expression"),ae(),se(52,"p"),ye(53,"Embrace the liberty to express yourself authentically. At Randummmm, there are no constraints on conversation. Navigate discussions on your terms, with the freedom to explore diverse topics and engage as you see fit."),ae()()(),se(54,"div"),at(55,"img",16),se(56,"span")(57,"p"),ye(58,"Open Community, Free to Use"),ae(),se(59,"p"),ye(60,"Join a global community without limitations. [Your Website Name] is an inclusive space, open to all, and completely free to use. Whether you're a seasoned pro or a curious newcomer, there's a place for you here."),ae()()(),se(61,"div"),at(62,"img",17),se(63,"span")(64,"p"),ye(65,"Personal Endeavor"),ae(),se(66,"p"),ye(67,"Randummmm is more than a project; it's my personal journey, a dedication to the richness of human connection. It's a labor of love, driven by the desire to create a platform where individuals from all walks of life can come together and share their stories."),ae()()()(),se(68,"div",18)(69,"div",19)(70,"p")(71,"span"),ye(72," Hi there, I'm "),ae(),se(73,"span"),ye(74," Arihant Jain "),ae(),se(75,"span"),ye(76," A Full stack Developer "),ae(),se(77,"span",20)(78,"button",10),it("click",function(){return i.downloadResume()}),ye(79,"Download Resume"),ae()(),at(80,"img",21),ae()(),se(81,"div",19)(82,"div")(83,"span",7),at(84,"img",22),se(85,"span",23)(86,"p"),at(87,"img",24),ae(),se(88,"p"),at(89,"img",25),ae(),se(90,"p"),at(91,"img",26),ae(),se(92,"p"),at(93,"img",27),ae()(),se(94,"span",28),ye(95,"Hover over me to Explore Dev's skills"),ae()(),se(96,"div",29)(97,"div",30),ye(98," Work Experience & Education "),ae(),se(99,"div",31)(100,"p"),at(101,"img",32),ae(),se(102,"p")(103,"span"),ye(104,"Infosys"),ae(),se(105,"span"),ye(106,"System Engineer"),ae(),se(107,"span"),ye(108,"Pune, Maharashtra"),ae()()(),se(109,"div",31)(110,"p",33),at(111,"img",34),ae(),se(112,"p")(113,"span"),ye(114,"Madhav Institute of Tech. & Science"),ae(),se(115,"span"),ye(116,"B.Tech (Mechanical Engineer)"),ae(),se(117,"span"),ye(118,"Gwalior, Madhya Pradesh"),ae()()()()()()()),2&r&&(Je(1),Xe("ngClass",ja(3,Pf,0==i.sectionController.currIndex)),Je(3),Xe("ngClass",ja(5,Pf,1==i.sectionController.currIndex)),Je(3),Xe("ngClass",ja(7,Pf,2==i.sectionController.currIndex)))},dependencies:[Fd,kc],styles:['@import"https://fonts.googleapis.com/css2?family=Mate+SC&display=swap";.Connect-Now[_ngcontent-%COMP%]{transition:cubic-bezier(1,0,0,1) 2s ease;transition:ease .1s;display:grid;height:100vh}.Connect-Now[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;flex-direction:column}.Connect-Now[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){height:300px;margin-top:70px}.Connect-Now[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;text-align:center;justify-content:center;padding:50px auto;font-family:Satisfy,cursive;font-size:2.3rem;font-weight:550;color:#fcfff1}.Connect-Now[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .Actions[_ngcontent-%COMP%]{height:150px;margin:20px auto;display:grid}.Connect-Now[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   .Actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:auto}.Connect-Now[_ngcontent-%COMP%]   .intro-img[_ngcontent-%COMP%]{width:250px;margin:auto;mix-blend-mode:hard-light}.Explore[_ngcontent-%COMP%]{transition:2s ease;display:grid!important;padding:50px 130px;grid-template-columns:50% 50%;grid-row-gap:40px;grid-column-gap:20px}.Explore[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:20px 20px 30px 30px;border:rgb(136,123,123) 1px solid;border-radius:30px;cursor:pointer;transition:ease-in-out .25s}.Explore[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:700}.Explore[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#fff;color:#000}.Explore[_ngcontent-%COMP%]   .secure-img[_ngcontent-%COMP%]{height:150px}@media screen and (max-width: 900px){.Explore[_ngcontent-%COMP%]{grid-template-columns:100%}}.Dev[_ngcontent-%COMP%]{min-height:100vh;display:grid;grid-template-columns:50% 50%;place-content:center}.Dev[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:0 100px;position:relative;background-size:auto}@media screen and (max-width: 900px){.Dev[_ngcontent-%COMP%]{grid-template-columns:99%}}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh;position:relative}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]   .resume[_ngcontent-%COMP%]{margin-top:40px}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]   .resume[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#fff;color:#000}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]   .resume[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{scale:1.1}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]   #code_png[_ngcontent-%COMP%]{height:40vh;margin-top:10vh}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Mate SC,serif;font-weight:400;font-style:normal;font-size:1.2rem}.Dev[_ngcontent-%COMP%]   .place-center[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){font-size:2.9rem;color:#d2d29a}.Dev[_ngcontent-%COMP%]   .Actions[_ngcontent-%COMP%]{position:relative;background-color:0;display:flex;justify-content:center;align-items:center;height:270px}.Dev[_ngcontent-%COMP%]   .Actions[_ngcontent-%COMP%]   #stack-helper[_ngcontent-%COMP%]{bottom:10px;position:absolute;font-family:Satisfy,cursive;font-size:1.2rem}.Dev[_ngcontent-%COMP%]   .Actions[_ngcontent-%COMP%]   #tech_stack[_ngcontent-%COMP%]{height:150px;border-radius:100%;aspect-ratio:1/1;padding:25px;background-color:#219bd4;box-shadow:3px 3px 40px #4377d7}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]{perspective-origin:100px 100px;transition:ease 1s;z-index:3;cursor:pointer;display:grid;position:absolute;grid-template-rows:50% 50%;grid-template-columns:50% 50%;border-radius:75px;height:150px;width:150px;grid-row-gap:10px;grid-column-gap:10px}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{border-color:#000;z-index:-1;height:75px;width:75px;margin:0;display:flex;align-items:center;justify-content:center}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:none;height:50px;aspect-ratio:1/1}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(1){border-radius:100px 5px 5px}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){border-radius:5px 100px 5px 5px}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(3){border-radius:5px 5px 5px 100px}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(4){border-radius:5px 5px 100px}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]:hover{scale:1.2;border-radius:100px;display:grid;height:180px;width:180px;background-color:#000}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]:hover   #tech_stack[_ngcontent-%COMP%]{box-shadow:none}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]{z-index:2;background-color:#fff;border:white 1px solid;transition:.25s ease}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{display:block;height:40px;padding:5px;aspect-ratio:1/1}.Dev[_ngcontent-%COMP%]   .stack[_ngcontent-%COMP%]:hover   p[_ngcontent-%COMP%]:hover{background-color:#fff;scale:1.2}.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]{background-color:#000;display:flex;flex-direction:column;margin-bottom:100px;margin-left:0;justify-content:center}.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]   #milestones-step-helper[_ngcontent-%COMP%]{margin-top:80px}.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px}.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]   .mistone-imgcontainer[_ngcontent-%COMP%]{overflow:hidden;display:flex;align-items:center;justify-content:center;margin:10px}.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]   #milestones-step[_ngcontent-%COMP%]{display:grid;grid-template-columns:30% 70%;color:#000;width:400px;border-radius:12px;padding:15px;background-color:#fffdfd;margin-top:50px}.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]   #milestones-step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{display:block;font-size:1rem;color:#511717!important}.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]   #milestones-step[_ngcontent-%COMP%]   p[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]:first-child{font-weight:bolder;font-size:1.2rem}@media screen and (max-width: 700px){.Dev[_ngcontent-%COMP%]   .Milestones[_ngcontent-%COMP%]   #milestones-step[_ngcontent-%COMP%]{position:relative;width:300px}}.side-Nav[_ngcontent-%COMP%]{z-index:2;position:fixed;top:30vh;width:70px;left:30px;display:flex;flex-direction:column;justify-content:center}.side-Nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background-color:#f0f8ff;margin:13px auto;width:30px;height:30px!important;border-radius:100%;display:grid;place-items:center;transition:.2s ease-in}.side-Nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{z-index:1;color:#000}.side-Nav[_ngcontent-%COMP%]   span[data-title][_ngcontent-%COMP%]:hover{background-color:transparent}.side-Nav[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%], .side-Nav[_ngcontent-%COMP%]   span.active[_ngcontent-%COMP%]:hover{scale:1.4}.side-Nav[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:hover{cursor:pointer;scale:1.3}']})}return e})(),ww=(()=>{class e{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}}return e.\u0275fac=function(n){return new(n||e)(ee(vr),ee(gn))},e.\u0275dir=Oe({type:e}),e})(),li=(()=>{class e extends ww{}return e.\u0275fac=function(){let t;return function(r){return(t||(t=Lt(e)))(r||e)}}(),e.\u0275dir=Oe({type:e,features:[et]}),e})();const ar=new be("NgValueAccessor"),Hk={provide:ar,useExisting:st(()=>Ts),multi:!0},zk=new be("CompositionEventMode");let Ts=(()=>{class e extends ww{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Gk(){const e=Dr()?Dr().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(n){this.setProperty("value",n??"")}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(vr),ee(gn),ee(zk,8))},e.\u0275dir=Oe({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&it("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[ft([Hk]),et]}),e})();const Wk=!1;function Hr(e){return null==e||("string"==typeof e||Array.isArray(e))&&0===e.length}function Dw(e){return null!=e&&"number"==typeof e.length}const qt=new be("NgValidators"),Gr=new be("NgAsyncValidators"),qk=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Sw{static min(t){return function Ew(e){return t=>{if(Hr(t.value)||Hr(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(t)}static max(t){return function Mw(e){return t=>{if(Hr(t.value)||Hr(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(t)}static required(t){return function Tw(e){return Hr(e.value)?{required:!0}:null}(t)}static requiredTrue(t){return function Iw(e){return!0===e.value?null:{required:!0}}(t)}static email(t){return function Aw(e){return Hr(e.value)||qk.test(e.value)?null:{email:!0}}(t)}static minLength(t){return function Pw(e){return t=>Hr(t.value)||!Dw(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static maxLength(t){return function Rw(e){return t=>Dw(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(t)}static pattern(t){return function Ow(e){if(!e)return Nc;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Hr(r.value))return null;const i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}(t)}static nullValidator(t){return null}static compose(t){return Vw(t)}static composeAsync(t){return jw(t)}}function Nc(e){return null}function xw(e){return null!=e}function kw(e){const t=Jo(e)?St(e):e;if(Wk&&!Fu(t)){let n="Expected async validator to return Promise or Observable.";throw"object"==typeof e&&(n+=" Are you using a synchronous validator where an async validator is expected?"),new ie(-1101,n)}return t}function Nw(e){let t={};return e.forEach(n=>{t=null!=n?{...t,...n}:t}),0===Object.keys(t).length?null:t}function Fw(e,t){return t.map(n=>n(e))}function Lw(e){return e.map(t=>function Jk(e){return!e.validate}(t)?t:n=>t.validate(n))}function Vw(e){if(!e)return null;const t=e.filter(xw);return 0==t.length?null:function(n){return Nw(Fw(n,t))}}function Rf(e){return null!=e?Vw(Lw(e)):null}function jw(e){if(!e)return null;const t=e.filter(xw);return 0==t.length?null:function(n){return function Uk(...e){const t=_h(e),{args:n,keys:r}=s_(e),i=new he(o=>{const{length:s}=n;if(!s)return void o.complete();const a=new Array(s);let c=s,l=s;for(let p=0;p<s;p++){let E=!1;Cn(n[p]).subscribe(_e(o,P=>{E||(E=!0,l--),a[p]=P},()=>c--,void 0,()=>{(!c||!E)&&(l||o.next(r?c_(r,a):a),o.complete())}))}});return t?i.pipe(a_(t)):i}(Fw(n,t).map(kw)).pipe(le(Nw))}}function Of(e){return null!=e?jw(Lw(e)):null}function Bw(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function Uw(e){return e._rawValidators}function $w(e){return e._rawAsyncValidators}function xf(e){return e?Array.isArray(e)?e:[e]:[]}function Fc(e,t){return Array.isArray(e)?e.includes(t):e===t}function Hw(e,t){const n=xf(t);return xf(e).forEach(i=>{Fc(n,i)||n.push(i)}),n}function Gw(e,t){return xf(t).filter(n=>!Fc(e,n))}class zw{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Rf(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Of(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,n){return!!this.control&&this.control.hasError(t,n)}getError(t,n){return this.control?this.control.getError(t,n):null}}class zr extends zw{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Ww{constructor(t){this._cd=t}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let kf=(()=>{class e extends Ww{constructor(n){super(n)}}return e.\u0275fac=function(n){return new(n||e)(ee(zr,2))},e.\u0275dir=Oe({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&Pa("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[et]}),e})();const Is="VALID",Vc="INVALID",ho="PENDING",As="DISABLED";function jc(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class Kw{constructor(t,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Is}get invalid(){return this.status===Vc}get pending(){return this.status==ho}get disabled(){return this.status===As}get enabled(){return this.status!==As}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(Hw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Hw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Gw(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Gw(t,this._rawAsyncValidators))}hasValidator(t){return Fc(this._rawValidators,t)}hasAsyncValidator(t){return Fc(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=ho,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=As,this.errors=null,this._forEachChild(r=>{r.disable({...t,onlySelf:!0})}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){const n=this._parentMarkedDirty(t.onlySelf);this.status=Is,this._forEachChild(r=>{r.enable({...t,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors({...t,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Is||this.status===ho)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?As:Is}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=ho,this._hasOwnPendingAsyncValidator=!0;const n=kw(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(!1!==n.emitEvent)}get(t){let n=t;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new yt,this.statusChanges=new yt}_calculateStatus(){return this._allControlsDisabled()?As:this.errors?Vc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ho)?ho:this._anyControlsHaveStatus(Vc)?Vc:Is}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){jc(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=function nN(e){return Array.isArray(e)?Rf(e):e||null}(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=function rN(e){return Array.isArray(e)?Of(e):e||null}(this._rawAsyncValidators)}}const po=new be("CallSetDisabledState",{providedIn:"root",factory:()=>Bc}),Bc="always";function Ps(e,t,n=Bc){(function Uf(e,t){const n=Uw(e);null!==t.validator?e.setValidators(Bw(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=$w(e);null!==t.asyncValidator?e.setAsyncValidators(Bw(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();Hc(t._rawValidators,i),Hc(t._rawAsyncValidators,i)})(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||"always"===n)&&t.valueAccessor.setDisabledState?.(e.disabled),function sN(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Yw(e,t)})}(e,t),function cN(e,t){const n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function aN(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Yw(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function oN(e,t){if(t.valueAccessor.setDisabledState){const n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function $c(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),function Gc(e,t){let n=!1;if(null!==e){if(null!==t.validator){const i=Uw(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(null!==t.asyncValidator){const i=$w(e);if(Array.isArray(i)&&i.length>0){const o=i.filter(s=>s!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}const r=()=>{};return Hc(t._rawValidators,r),Hc(t._rawAsyncValidators,r),n}(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Hc(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function Yw(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function eb(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function tb(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}const zc=class extends Kw{constructor(t=null,n,r){super(function Vf(e){return(jc(e)?e.validators:e)||null}(n),function jf(e,t){return(jc(t)?t.asyncValidators:e)||null}(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jc(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=tb(t)?t.value:t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){eb(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){eb(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){tb(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};let ab=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jn({type:e}),e.\u0275inj=Pn({}),e})();const Wf=new be("NgModelWithFormControlWarning"),bN={provide:zr,useExisting:st(()=>Wc)};let Wc=(()=>{class e extends zr{set isDisabled(n){}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=s,this.update=new yt,this._ngModelWarningSent=!1,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function Gf(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(o=>{o.constructor===Ts?n=o:function dN(e){return Object.getPrototypeOf(e.constructor)===li}(o)?r=o:i=o}),i||r||n||null}(0,i)}ngOnChanges(n){if(this._isControlChanged(n)){const r=n.form.previousValue;r&&$c(r,this,!1),Ps(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}(function Hf(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)})(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&$c(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}}return e._ngModelWarningSentOnce=!1,e.\u0275fac=function(n){return new(n||e)(ee(qt,10),ee(Gr,10),ee(ar,10),ee(Wf,8),ee(po,8))},e.\u0275dir=Oe({type:e,selectors:[["","formControl",""]],inputs:{form:["formControl","form"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[ft([bN]),et,bn]}),e})(),UN=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jn({type:e}),e.\u0275inj=Pn({imports:[ab]}),e})(),HN=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Wf,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:po,useValue:n.callSetDisabledState??Bc}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Jn({type:e}),e.\u0275inj=Pn({imports:[UN]}),e})();const GN=[0,2e3,1e4,3e4,null];class Db{constructor(t){this._retryDelays=void 0!==t?[...t,null]:GN}nextRetryDelayInMilliseconds(t){return this._retryDelays[t.previousRetryCount]}}function Sb(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function tt(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function s(c){Sb(o,r,i,s,a,"next",c)}function a(c){Sb(o,r,i,s,a,"throw",c)}s(void 0)})}}let Os=(()=>{class e{}return e.Authorization="Authorization",e.Cookie="Cookie",e})();class Eb{constructor(t,n,r){this.statusCode=t,this.statusText=n,this.content=r}}class qc{get(t,n){return this.send({...n,method:"GET",url:t})}post(t,n){return this.send({...n,method:"POST",url:t})}delete(t,n){return this.send({...n,method:"DELETE",url:t})}getCookieString(t){return""}}class zN extends qc{constructor(t,n){super(),this._innerClient=t,this._accessTokenFactory=n}send(t){var n=this;return tt(function*(){let r=!0;n._accessTokenFactory&&(!n._accessToken||t.url&&t.url.indexOf("/negotiate?")>0)&&(r=!1,n._accessToken=yield n._accessTokenFactory()),n._setAuthorizationHeader(t);const i=yield n._innerClient.send(t);return r&&401===i.statusCode&&n._accessTokenFactory?(n._accessToken=yield n._accessTokenFactory(),n._setAuthorizationHeader(t),yield n._innerClient.send(t)):i})()}_setAuthorizationHeader(t){t.headers||(t.headers={}),this._accessToken?t.headers[Os.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&t.headers[Os.Authorization]&&delete t.headers[Os.Authorization]}getCookieString(t){return this._innerClient.getCookieString(t)}}class di extends Error{constructor(t,n){const r=new.target.prototype;super(`${t}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class Xf extends Error{constructor(t="A timeout occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class Gn extends Error{constructor(t="An abort occurred."){const n=new.target.prototype;super(t),this.__proto__=n}}class WN extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class qN extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class JN extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class Mb extends Error{constructor(t){const n=new.target.prototype;super(t),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class ZN extends Error{constructor(t,n){const r=new.target.prototype;super(t),this.innerErrors=n,this.__proto__=r}}var J=(()=>{return(e=J||(J={}))[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None",J;var e})();class xs{constructor(){}log(t,n){}}xs.instance=new xs;const KN="8.0.0";class At{static isRequired(t,n){if(null==t)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(t,n){if(!t||t.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(t,n,r){if(!(t in n))throw new Error(`Unknown ${r} value: ${t}.`)}}class gt{static get isBrowser(){return!gt.isNode&&"object"==typeof window&&"object"==typeof window.document}static get isWebWorker(){return!gt.isNode&&"object"==typeof self&&"importScripts"in self}static get isReactNative(){return!gt.isNode&&"object"==typeof window&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&"node"===process.release.name}}function ks(e,t){let n="";return fi(e)?(n=`Binary data of length ${e.byteLength}`,t&&(n+=`. Content: '${function YN(e){const t=new Uint8Array(e);let n="";return t.forEach(r=>{n+=`0x${r<16?"0":""}${r.toString(16)} `}),n.substr(0,n.length-1)}(e)}'`)):"string"==typeof e&&(n=`String data of length ${e.length}`,t&&(n+=`. Content: '${e}'`)),n}function fi(e){return e&&typeof ArrayBuffer<"u"&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function Tb(e,t,n,r,i,o){return eh.apply(this,arguments)}function eh(){return(eh=tt(function*(e,t,n,r,i,o){const s={},[a,c]=go();s[a]=c,e.log(J.Trace,`(${t} transport) sending data. ${ks(i,o.logMessageContent)}.`);const l=fi(i)?"arraybuffer":"text",p=yield n.post(r,{content:i,headers:{...s,...o.headers},responseType:l,timeout:o.timeout,withCredentials:o.withCredentials});e.log(J.Trace,`(${t} transport) request complete. Response status: ${p.statusCode}.`)})).apply(this,arguments)}class XN{constructor(t,n){this._subject=t,this._observer=n}dispose(){const t=this._subject.observers.indexOf(this._observer);t>-1&&this._subject.observers.splice(t,1),0===this._subject.observers.length&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class Jc{constructor(t){this._minLevel=t,this.out=console}log(t,n){if(t>=this._minLevel){const r=`[${(new Date).toISOString()}] ${J[t]}: ${n}`;switch(t){case J.Critical:case J.Error:this.out.error(r);break;case J.Warning:this.out.warn(r);break;case J.Information:this.out.info(r);break;default:this.out.log(r)}}}}function go(){let e="X-SignalR-User-Agent";return gt.isNode&&(e="User-Agent"),[e,eF(KN,tF(),gt.isNode?"NodeJS":"Browser",nF())]}function eF(e,t,n,r){let i="Microsoft SignalR/";const o=e.split(".");return i+=`${o[0]}.${o[1]}`,i+=` (${e}; `,i+=t&&""!==t?`${t}; `:"Unknown OS; ",i+=`${n}`,i+=r?`; ${r}`:"; Unknown Runtime Version",i+=")",i}function tF(){if(!gt.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function nF(){if(gt.isNode)return process.versions.node}function Ib(e){return e.stack?e.stack:e.message?e.message:`${e}`}class lF extends qc{constructor(t){super(),this._logger=t;const n={_fetchType:void 0,_jar:void 0};!function oF(e){return!!(typeof fetch>"u"||gt.isNode)&&(e._jar=new(w(7333).CookieJar),e._fetchType=typeof fetch>"u"?w(8190):fetch,e._fetchType=w(6045)(e._fetchType,e._jar),!0)}(n)?this._fetchType=fetch.bind(function iF(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}()):(this._fetchType=n._fetchType,this._jar=n._jar),this._abortControllerType=AbortController;const r={_abortControllerType:this._abortControllerType};(function sF(e){return typeof AbortController>"u"&&(e._abortControllerType=w(6771),!0)})(r)&&(this._abortControllerType=r._abortControllerType)}send(t){var n=this;return tt(function*(){if(t.abortSignal&&t.abortSignal.aborted)throw new Gn;if(!t.method)throw new Error("No method defined.");if(!t.url)throw new Error("No url defined.");const r=new n._abortControllerType;let i;t.abortSignal&&(t.abortSignal.onabort=()=>{r.abort(),i=new Gn});let s,o=null;t.timeout&&(o=setTimeout(()=>{r.abort(),n._logger.log(J.Warning,"Timeout from HTTP request."),i=new Xf},t.timeout)),""===t.content&&(t.content=void 0),t.content&&(t.headers=t.headers||{},t.headers["Content-Type"]=fi(t.content)?"application/octet-stream":"text/plain;charset=UTF-8");try{s=yield n._fetchType(t.url,{body:t.content,cache:"no-cache",credentials:!0===t.withCredentials?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...t.headers},method:t.method,mode:"cors",redirect:"follow",signal:r.signal})}catch(l){throw i||(n._logger.log(J.Warning,`Error from HTTP request. ${l}.`),l)}finally{o&&clearTimeout(o),t.abortSignal&&(t.abortSignal.onabort=null)}if(!s.ok){const l=yield Ab(s,"text");throw new di(l||s.statusText,s.status)}const c=yield Ab(s,t.responseType);return new Eb(s.status,s.statusText,c)})()}getCookieString(t){let n="";return gt.isNode&&this._jar&&this._jar.getCookies(t,(r,i)=>n=i.join("; ")),n}}function Ab(e,t){let n;switch(t){case"arraybuffer":n=e.arrayBuffer();break;case"text":default:n=e.text();break;case"blob":case"document":case"json":throw new Error(`${t} is not supported.`)}return n}class uF extends qc{constructor(t){super(),this._logger=t}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Gn):t.method?t.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(t.method,t.url,!0),i.withCredentials=void 0===t.withCredentials||t.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),""===t.content&&(t.content=void 0),t.content&&(fi(t.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const o=t.headers;o&&Object.keys(o).forEach(s=>{i.setRequestHeader(s,o[s])}),t.responseType&&(i.responseType=t.responseType),t.abortSignal&&(t.abortSignal.onabort=()=>{i.abort(),r(new Gn)}),t.timeout&&(i.timeout=t.timeout),i.onload=()=>{t.abortSignal&&(t.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new Eb(i.status,i.statusText,i.response||i.responseText)):r(new di(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(J.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new di(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(J.Warning,"Timeout from HTTP request."),r(new Xf)},i.send(t.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class dF extends qc{constructor(t){if(super(),typeof fetch<"u"||gt.isNode)this._httpClient=new lF(t);else{if(!(typeof XMLHttpRequest<"u"))throw new Error("No usable HttpClient found.");this._httpClient=new uF(t)}}send(t){return t.abortSignal&&t.abortSignal.aborted?Promise.reject(new Gn):t.method?t.url?this._httpClient.send(t):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(t){return this._httpClient.getCookieString(t)}}var Pt=(()=>{return(e=Pt||(Pt={}))[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling",Pt;var e})(),Bt=(()=>{return(e=Bt||(Bt={}))[e.Text=1]="Text",e[e.Binary=2]="Binary",Bt;var e})();class fF{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}}class Pb{get pollAborted(){return this._pollAbort.aborted}constructor(t,n,r){this._httpClient=t,this._logger=n,this._pollAbort=new fF,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}connect(t,n){var r=this;return tt(function*(){if(At.isRequired(t,"url"),At.isRequired(n,"transferFormat"),At.isIn(n,Bt,"transferFormat"),r._url=t,r._logger.log(J.Trace,"(LongPolling transport) Connecting."),n===Bt.Binary&&typeof XMLHttpRequest<"u"&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[i,o]=go(),s={[i]:o,...r._options.headers},a={abortSignal:r._pollAbort.signal,headers:s,timeout:1e5,withCredentials:r._options.withCredentials};n===Bt.Binary&&(a.responseType="arraybuffer");const c=`${t}&_=${Date.now()}`;r._logger.log(J.Trace,`(LongPolling transport) polling: ${c}.`);const l=yield r._httpClient.get(c,a);200!==l.statusCode?(r._logger.log(J.Error,`(LongPolling transport) Unexpected response code: ${l.statusCode}.`),r._closeError=new di(l.statusText||"",l.statusCode),r._running=!1):r._running=!0,r._receiving=r._poll(r._url,a)})()}_poll(t,n){var r=this;return tt(function*(){try{for(;r._running;)try{const i=`${t}&_=${Date.now()}`;r._logger.log(J.Trace,`(LongPolling transport) polling: ${i}.`);const o=yield r._httpClient.get(i,n);204===o.statusCode?(r._logger.log(J.Information,"(LongPolling transport) Poll terminated by server."),r._running=!1):200!==o.statusCode?(r._logger.log(J.Error,`(LongPolling transport) Unexpected response code: ${o.statusCode}.`),r._closeError=new di(o.statusText||"",o.statusCode),r._running=!1):o.content?(r._logger.log(J.Trace,`(LongPolling transport) data received. ${ks(o.content,r._options.logMessageContent)}.`),r.onreceive&&r.onreceive(o.content)):r._logger.log(J.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(i){r._running?i instanceof Xf?r._logger.log(J.Trace,"(LongPolling transport) Poll timed out, reissuing."):(r._closeError=i,r._running=!1):r._logger.log(J.Trace,`(LongPolling transport) Poll errored after shutdown: ${i.message}`)}}finally{r._logger.log(J.Trace,"(LongPolling transport) Polling complete."),r.pollAborted||r._raiseOnClose()}})()}send(t){var n=this;return tt(function*(){return n._running?Tb(n._logger,"LongPolling",n._httpClient,n._url,t,n._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){var t=this;return tt(function*(){t._logger.log(J.Trace,"(LongPolling transport) Stopping polling."),t._running=!1,t._pollAbort.abort();try{yield t._receiving,t._logger.log(J.Trace,`(LongPolling transport) sending DELETE request to ${t._url}.`);const n={},[r,i]=go();n[r]=i;const o={headers:{...n,...t._options.headers},timeout:t._options.timeout,withCredentials:t._options.withCredentials};let s;try{yield t._httpClient.delete(t._url,o)}catch(a){s=a}s?s instanceof di&&t._logger.log(J.Trace,404===s.statusCode?"(LongPolling transport) A 404 response was returned from sending a DELETE request.":`(LongPolling transport) Error sending a DELETE request: ${s}`):t._logger.log(J.Trace,"(LongPolling transport) DELETE request accepted.")}finally{t._logger.log(J.Trace,"(LongPolling transport) Stop finished."),t._raiseOnClose()}})()}_raiseOnClose(){if(this.onclose){let t="(LongPolling transport) Firing onclose event.";this._closeError&&(t+=" Error: "+this._closeError),this._logger.log(J.Trace,t),this.onclose(this._closeError)}}}class hF{constructor(t,n,r,i){this._httpClient=t,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}connect(t,n){var r=this;return tt(function*(){return At.isRequired(t,"url"),At.isRequired(n,"transferFormat"),At.isIn(n,Bt,"transferFormat"),r._logger.log(J.Trace,"(SSE transport) Connecting."),r._url=t,r._accessToken&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r._accessToken)}`),new Promise((i,o)=>{let a,s=!1;if(n===Bt.Text){if(gt.isBrowser||gt.isWebWorker)a=new r._options.EventSource(t,{withCredentials:r._options.withCredentials});else{const c=r._httpClient.getCookieString(t),l={};l.Cookie=c;const[p,E]=go();l[p]=E,a=new r._options.EventSource(t,{withCredentials:r._options.withCredentials,headers:{...l,...r._options.headers}})}try{a.onmessage=c=>{if(r.onreceive)try{r._logger.log(J.Trace,`(SSE transport) data received. ${ks(c.data,r._options.logMessageContent)}.`),r.onreceive(c.data)}catch(l){return void r._close(l)}},a.onerror=c=>{s?r._close():o(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},a.onopen=()=>{r._logger.log(J.Information,`SSE connected to ${r._url}`),r._eventSource=a,s=!0,i()}}catch(c){return void o(c)}}else o(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))})})()}send(t){var n=this;return tt(function*(){return n._eventSource?Tb(n._logger,"SSE",n._httpClient,n._url,t,n._options):Promise.reject(new Error("Cannot send until the transport is connected"))})()}stop(){return this._close(),Promise.resolve()}_close(t){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(t))}}class pF{constructor(t,n,r,i,o,s){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=o,this._httpClient=t,this.onreceive=null,this.onclose=null,this._headers=s}connect(t,n){var r=this;return tt(function*(){let i;return At.isRequired(t,"url"),At.isRequired(n,"transferFormat"),At.isIn(n,Bt,"transferFormat"),r._logger.log(J.Trace,"(WebSockets transport) Connecting."),r._accessTokenFactory&&(i=yield r._accessTokenFactory()),new Promise((o,s)=>{let a;t=t.replace(/^http/,"ws");const c=r._httpClient.getCookieString(t);let l=!1;if(gt.isNode||gt.isReactNative){const p={},[E,P]=go();p[E]=P,i&&(p[Os.Authorization]=`Bearer ${i}`),c&&(p[Os.Cookie]=c),a=new r._webSocketConstructor(t,void 0,{headers:{...p,...r._headers}})}else i&&(t+=(t.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(i)}`);a||(a=new r._webSocketConstructor(t)),n===Bt.Binary&&(a.binaryType="arraybuffer"),a.onopen=p=>{r._logger.log(J.Information,`WebSocket connected to ${t}.`),r._webSocket=a,l=!0,o()},a.onerror=p=>{let E=null;E=typeof ErrorEvent<"u"&&p instanceof ErrorEvent?p.error:"There was an error with the transport",r._logger.log(J.Information,`(WebSockets transport) ${E}.`)},a.onmessage=p=>{if(r._logger.log(J.Trace,`(WebSockets transport) data received. ${ks(p.data,r._logMessageContent)}.`),r.onreceive)try{r.onreceive(p.data)}catch(E){return void r._close(E)}},a.onclose=p=>{if(l)r._close(p);else{let E=null;E=typeof ErrorEvent<"u"&&p instanceof ErrorEvent?p.error:"WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",s(new Error(E))}}})})()}send(t){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(J.Trace,`(WebSockets transport) sending data. ${ks(t,this._logMessageContent)}.`),this._webSocket.send(t),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(t){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(J.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this._isCloseEvent(t)||!1!==t.wasClean&&1e3===t.code?t instanceof Error?this.onclose(t):this.onclose():this.onclose(new Error(`WebSocket closed with status code: ${t.code} (${t.reason||"no reason given"}).`)))}_isCloseEvent(t){return t&&"boolean"==typeof t.wasClean&&"number"==typeof t.code}}class gF{constructor(t,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,At.isRequired(t,"url"),this._logger=function QN(e){return void 0===e?new Jc(J.Information):null===e?xs.instance:void 0!==e.log?e:new Jc(e)}(n.logger),this.baseUrl=this._resolveUrl(t),(n=n||{}).logMessageContent=void 0!==n.logMessageContent&&n.logMessageContent,"boolean"!=typeof n.withCredentials&&void 0!==n.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.withCredentials=void 0===n.withCredentials||n.withCredentials,n.timeout=void 0===n.timeout?1e5:n.timeout;let r=null,i=null;gt.isNode&&(r=function aF(){return w(6139)}(),i=function cF(){return w(8022)}()),!gt.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:gt.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!gt.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:gt.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new zN(n.httpClient||new dF(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}start(t){var n=this;return tt(function*(){if(At.isIn(t=t||Bt.Binary,Bt,"transferFormat"),n._logger.log(J.Debug,`Starting connection with transfer format '${Bt[t]}'.`),"Disconnected"!==n._connectionState)return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(n._connectionState="Connecting",n._startInternalPromise=n._startInternal(t),yield n._startInternalPromise,"Disconnecting"===n._connectionState){const r="Failed to start the HttpConnection before stop() was called.";return n._logger.log(J.Error,r),yield n._stopPromise,Promise.reject(new Gn(r))}if("Connected"!==n._connectionState){const r="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return n._logger.log(J.Error,r),Promise.reject(new Gn(r))}n._connectionStarted=!0})()}send(t){return"Connected"!==this._connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new th(this.transport)),this._sendQueue.send(t))}stop(t){var n=this;return tt(function*(){return"Disconnected"===n._connectionState?(n._logger.log(J.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnected state.`),Promise.resolve()):"Disconnecting"===n._connectionState?(n._logger.log(J.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),n._stopPromise):(n._connectionState="Disconnecting",n._stopPromise=new Promise(r=>{n._stopPromiseResolver=r}),yield n._stopInternal(t),void(yield n._stopPromise))})()}_stopInternal(t){var n=this;return tt(function*(){n._stopError=t;try{yield n._startInternalPromise}catch{}if(n.transport){try{yield n.transport.stop()}catch(r){n._logger.log(J.Error,`HttpConnection.transport.stop() threw error '${r}'.`),n._stopConnection()}n.transport=void 0}else n._logger.log(J.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")})()}_startInternal(t){var n=this;return tt(function*(){let r=n.baseUrl;n._accessTokenFactory=n._options.accessTokenFactory,n._httpClient._accessTokenFactory=n._accessTokenFactory;try{if(n._options.skipNegotiation){if(n._options.transport!==Pt.WebSockets)throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");n.transport=n._constructTransport(Pt.WebSockets),yield n._startTransport(r,t)}else{let i=null,o=0;do{if(i=yield n._getNegotiationResponse(r),"Disconnecting"===n._connectionState||"Disconnected"===n._connectionState)throw new Gn("The connection was stopped during negotiation.");if(i.error)throw new Error(i.error);if(i.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(i.url&&(r=i.url),i.accessToken){const s=i.accessToken;n._accessTokenFactory=()=>s,n._httpClient._accessToken=s,n._httpClient._accessTokenFactory=void 0}o++}while(i.url&&o<100);if(100===o&&i.url)throw new Error("Negotiate redirection limit exceeded.");yield n._createTransport(r,n._options.transport,i,t)}n.transport instanceof Pb&&(n.features.inherentKeepAlive=!0),"Connecting"===n._connectionState&&(n._logger.log(J.Debug,"The HttpConnection connected successfully."),n._connectionState="Connected")}catch(i){return n._logger.log(J.Error,"Failed to start the connection: "+i),n._connectionState="Disconnected",n.transport=void 0,n._stopPromiseResolver(),Promise.reject(i)}})()}_getNegotiationResponse(t){var n=this;return tt(function*(){const r={},[i,o]=go();r[i]=o;const s=n._resolveNegotiateUrl(t);n._logger.log(J.Debug,`Sending negotiation request: ${s}.`);try{const a=yield n._httpClient.post(s,{content:"",headers:{...r,...n._options.headers},timeout:n._options.timeout,withCredentials:n._options.withCredentials});if(200!==a.statusCode)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${a.statusCode}'`));const c=JSON.parse(a.content);return(!c.negotiateVersion||c.negotiateVersion<1)&&(c.connectionToken=c.connectionId),c.useStatefulReconnect&&!0!==n._options._useStatefulReconnect?Promise.reject(new Mb("Client didn't negotiate Stateful Reconnect but the server did.")):c}catch(a){let c="Failed to complete negotiation with the server: "+a;return a instanceof di&&404===a.statusCode&&(c+=" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),n._logger.log(J.Error,c),Promise.reject(new Mb(c))}})()}_createConnectUrl(t,n){return n?t+(-1===t.indexOf("?")?"?":"&")+`id=${n}`:t}_createTransport(t,n,r,i){var o=this;return tt(function*(){let s=o._createConnectUrl(t,r.connectionToken);if(o._isITransport(n))return o._logger.log(J.Debug,"Connection was provided an instance of ITransport, using that directly."),o.transport=n,yield o._startTransport(s,i),void(o.connectionId=r.connectionId);const a=[],c=r.availableTransports||[];let l=r;for(const p of c){const E=o._resolveTransportOrError(p,n,i,!0===l?.useStatefulReconnect);if(E instanceof Error)a.push(`${p.transport} failed:`),a.push(E);else if(o._isITransport(E)){if(o.transport=E,!l){try{l=yield o._getNegotiationResponse(t)}catch(P){return Promise.reject(P)}s=o._createConnectUrl(t,l.connectionToken)}try{return yield o._startTransport(s,i),void(o.connectionId=l.connectionId)}catch(P){if(o._logger.log(J.Error,`Failed to start the transport '${p.transport}': ${P}`),l=void 0,a.push(new JN(`${p.transport} failed: ${P}`,Pt[p.transport])),"Connecting"!==o._connectionState){const x="Failed to select transport before stop() was called.";return o._logger.log(J.Debug,x),Promise.reject(new Gn(x))}}}}return Promise.reject(a.length>0?new ZN(`Unable to connect to the server with any of the available transports. ${a.join(" ")}`,a):new Error("None of the transports supported by the client are supported by the server."))})()}_constructTransport(t){switch(t){case Pt.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new pF(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case Pt.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new hF(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case Pt.LongPolling:return new Pb(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${t}.`)}}_startTransport(t,n){var r=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=this.features.reconnect?function(){var i=tt(function*(o){let s=!1;if(r.features.reconnect){try{r.features.disconnected(),yield r.transport.connect(t,n),yield r.features.resend()}catch{s=!0}s&&r._stopConnection(o)}else r._stopConnection(o)});return function(o){return i.apply(this,arguments)}}():i=>this._stopConnection(i),this.transport.connect(t,n)}_resolveTransportOrError(t,n,r,i){const o=Pt[t.transport];if(null==o)return this._logger.log(J.Debug,`Skipping transport '${t.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${t.transport}' because it is not supported by this client.`);if(!function mF(e,t){return!e||0!=(t&e)}(n,o))return this._logger.log(J.Debug,`Skipping transport '${Pt[o]}' because it was disabled by the client.`),new qN(`'${Pt[o]}' is disabled by the client.`,o);if(!(t.transferFormats.map(a=>Bt[a]).indexOf(r)>=0))return this._logger.log(J.Debug,`Skipping transport '${Pt[o]}' because it does not support the requested transfer format '${Bt[r]}'.`),new Error(`'${Pt[o]}' does not support ${Bt[r]}.`);if(o===Pt.WebSockets&&!this._options.WebSocket||o===Pt.ServerSentEvents&&!this._options.EventSource)return this._logger.log(J.Debug,`Skipping transport '${Pt[o]}' because it is not supported in your environment.'`),new WN(`'${Pt[o]}' is not supported in your environment.`,o);this._logger.log(J.Debug,`Selecting transport '${Pt[o]}'.`);try{return this.features.reconnect=o===Pt.WebSockets?i:void 0,this._constructTransport(o)}catch(a){return a}}_isITransport(t){return t&&"object"==typeof t&&"connect"in t}_stopConnection(t){if(this._logger.log(J.Debug,`HttpConnection.stopConnection(${t}) called while in state ${this._connectionState}.`),this.transport=void 0,t=this._stopError||t,this._stopError=void 0,"Disconnected"!==this._connectionState){if("Connecting"===this._connectionState)throw this._logger.log(J.Warning,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${t}) was called while the connection is still in the connecting state.`);if("Disconnecting"===this._connectionState&&this._stopPromiseResolver(),t?this._logger.log(J.Error,`Connection disconnected with error '${t}'.`):this._logger.log(J.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(J.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(t)}catch(n){this._logger.log(J.Error,`HttpConnection.onclose(${t}) threw error '${n}'.`)}}}else this._logger.log(J.Debug,`Call to HttpConnection.stopConnection(${t}) was ignored because the connection is already in the disconnected state.`)}_resolveUrl(t){if(0===t.lastIndexOf("https://",0)||0===t.lastIndexOf("http://",0))return t;if(!gt.isBrowser)throw new Error(`Cannot resolve '${t}'.`);const n=window.document.createElement("a");return n.href=t,this._logger.log(J.Information,`Normalizing '${t}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(t){const n=new URL(t);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?"true"===r.get("useStatefulReconnect")&&(this._options._useStatefulReconnect=!0):!0===this._options._useStatefulReconnect&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}class th{constructor(t){this._transport=t,this._buffer=[],this._executing=!0,this._sendBufferedData=new Zc,this._transportResult=new Zc,this._sendLoopPromise=this._sendLoop()}send(t){return this._bufferData(t),this._transportResult||(this._transportResult=new Zc),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(t){if(this._buffer.length&&typeof this._buffer[0]!=typeof t)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof t}`);this._buffer.push(t),this._sendBufferedData.resolve()}_sendLoop(){var t=this;return tt(function*(){for(;;){if(yield t._sendBufferedData.promise,!t._executing){t._transportResult&&t._transportResult.reject("Connection stopped.");break}t._sendBufferedData=new Zc;const n=t._transportResult;t._transportResult=void 0;const r="string"==typeof t._buffer[0]?t._buffer.join(""):th._concatBuffers(t._buffer);t._buffer.length=0;try{yield t._transport.send(r),n.resolve()}catch(i){n.reject(i)}}})()}static _concatBuffers(t){const n=t.map(o=>o.byteLength).reduce((o,s)=>o+s),r=new Uint8Array(n);let i=0;for(const o of t)r.set(new Uint8Array(o),i),i+=o.byteLength;return r.buffer}}class Zc{constructor(){this.promise=new Promise((t,n)=>[this._resolver,this._rejecter]=[t,n])}resolve(){this._resolver()}reject(t){this._rejecter(t)}}class yn{static write(t){return`${t}${yn.RecordSeparator}`}static parse(t){if(t[t.length-1]!==yn.RecordSeparator)throw new Error("Message is incomplete.");const n=t.split(yn.RecordSeparator);return n.pop(),n}}yn.RecordSeparatorCode=30,yn.RecordSeparator=String.fromCharCode(yn.RecordSeparatorCode);class vF{writeHandshakeRequest(t){return yn.write(JSON.stringify(t))}parseHandshakeResponse(t){let n,r;if(fi(t)){const a=new Uint8Array(t),c=a.indexOf(yn.RecordSeparatorCode);if(-1===c)throw new Error("Message is incomplete.");const l=c+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(a.slice(0,l))),r=a.byteLength>l?a.slice(l).buffer:null}else{const a=t,c=a.indexOf(yn.RecordSeparator);if(-1===c)throw new Error("Message is incomplete.");const l=c+1;n=a.substring(0,l),r=a.length>l?a.substring(l):null}const i=yn.parse(n),o=JSON.parse(i[0]);if(o.type)throw new Error("Expected a handshake response from the server.");return[r,o]}}var Fe=(()=>{return(e=Fe||(Fe={}))[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close",e[e.Ack=8]="Ack",e[e.Sequence=9]="Sequence",Fe;var e})();class yF{constructor(){this.observers=[]}next(t){for(const n of this.observers)n.next(t)}error(t){for(const n of this.observers)n.error&&n.error(t)}complete(){for(const t of this.observers)t.complete&&t.complete()}subscribe(t){return this.observers.push(t),new XN(this,t)}}class CF{constructor(t,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=t,this._connection=n,this._bufferSize=r}_send(t){var n=this;return tt(function*(){const r=n._protocol.writeMessage(t);let i=Promise.resolve();if(n._isInvocationMessage(t)){n._totalMessageCount++;let o=()=>{},s=()=>{};fi(r)?n._bufferedByteCount+=r.byteLength:n._bufferedByteCount+=r.length,n._bufferedByteCount>=n._bufferSize&&(i=new Promise((a,c)=>{o=a,s=c})),n._messages.push(new _F(r,n._totalMessageCount,o,s))}try{n._reconnectInProgress||(yield n._connection.send(r))}catch{n._disconnected()}yield i})()}_ack(t){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=t.sequenceId)n=r,fi(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else{if(!(this._bufferedByteCount<this._bufferSize))break;i._resolver()}}-1!==n&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(t){if(this._waitForSequenceMessage)return t.type===Fe.Sequence&&(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(t))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(t){t.sequenceId>this._nextReceivingSequenceId?this._connection.stop(new Error("Sequence ID greater than amount of messages we've received.")):this._nextReceivingSequenceId=t.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}_resend(){var t=this;return tt(function*(){const n=0!==t._messages.length?t._messages[0]._id:t._totalMessageCount+1;yield t._connection.send(t._protocol.writeMessage({type:Fe.Sequence,sequenceId:n}));const r=t._messages;for(const i of r)yield t._connection.send(i._message);t._reconnectInProgress=!1})()}_dispose(t){t??(t=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(t)}_isInvocationMessage(t){switch(t.type){case Fe.Invocation:case Fe.StreamItem:case Fe.Completion:case Fe.StreamInvocation:case Fe.CancelInvocation:return!0;case Fe.Close:case Fe.Sequence:case Fe.Ping:case Fe.Ack:return!1}}_ackTimer(){var t=this;void 0===this._ackTimerHandle&&(this._ackTimerHandle=setTimeout(tt(function*(){try{t._reconnectInProgress||(yield t._connection.send(t._protocol.writeMessage({type:Fe.Ack,sequenceId:t._latestReceivedSequenceId})))}catch{}clearTimeout(t._ackTimerHandle),t._ackTimerHandle=void 0}),1e3))}}class _F{constructor(t,n,r,i){this._message=t,this._id=n,this._resolver=r,this._rejector=i}}var lt=(()=>{return(e=lt||(lt={})).Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting",lt;var e})();class nh{static create(t,n,r,i,o,s,a){return new nh(t,n,r,i,o,s,a)}constructor(t,n,r,i,o,s,a){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(J.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},At.isRequired(t,"connection"),At.isRequired(n,"logger"),At.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=o??3e4,this.keepAliveIntervalInMilliseconds=s??15e3,this._statefulReconnectBufferSize=a??1e5,this._logger=n,this._protocol=r,this.connection=t,this._reconnectPolicy=i,this._handshakeProtocol=new vF,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=lt.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:Fe.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(t){if(this._connectionState!==lt.Disconnected&&this._connectionState!==lt.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!t)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=t}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}_startWithStateTransitions(){var t=this;return tt(function*(){if(t._connectionState!==lt.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));t._connectionState=lt.Connecting,t._logger.log(J.Debug,"Starting HubConnection.");try{yield t._startInternal(),gt.isBrowser&&window.document.addEventListener("freeze",t._freezeEventListener),t._connectionState=lt.Connected,t._connectionStarted=!0,t._logger.log(J.Debug,"HubConnection connected successfully.")}catch(n){return t._connectionState=lt.Disconnected,t._logger.log(J.Debug,`HubConnection failed to start successfully because of error '${n}'.`),Promise.reject(n)}})()}_startInternal(){var t=this;return tt(function*(){t._stopDuringStartError=void 0,t._receivedHandshakeResponse=!1;const n=new Promise((r,i)=>{t._handshakeResolver=r,t._handshakeRejecter=i});yield t.connection.start(t._protocol.transferFormat);try{let r=t._protocol.version;t.connection.features.reconnect||(r=1);const i={protocol:t._protocol.name,version:r};if(t._logger.log(J.Debug,"Sending handshake request."),yield t._sendMessage(t._handshakeProtocol.writeHandshakeRequest(i)),t._logger.log(J.Information,`Using HubProtocol '${t._protocol.name}'.`),t._cleanupTimeout(),t._resetTimeoutPeriod(),t._resetKeepAliveInterval(),yield n,t._stopDuringStartError)throw t._stopDuringStartError;!!t.connection.features.reconnect&&(t._messageBuffer=new CF(t._protocol,t.connection,t._statefulReconnectBufferSize),t.connection.features.disconnected=t._messageBuffer._disconnected.bind(t._messageBuffer),t.connection.features.resend=()=>{if(t._messageBuffer)return t._messageBuffer._resend()}),t.connection.features.inherentKeepAlive||(yield t._sendMessage(t._cachedPingMessage))}catch(r){throw t._logger.log(J.Debug,`Hub handshake failed with error '${r}' during start(). Stopping HubConnection.`),t._cleanupTimeout(),t._cleanupPingTimer(),yield t.connection.stop(r),r}})()}stop(){var t=this;return tt(function*(){const n=t._startPromise;t.connection.features.reconnect=!1,t._stopPromise=t._stopInternal(),yield t._stopPromise;try{yield n}catch{}})()}_stopInternal(t){if(this._connectionState===lt.Disconnected)return this._logger.log(J.Debug,`Call to HubConnection.stop(${t}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===lt.Disconnecting)return this._logger.log(J.Debug,`Call to HttpConnection.stop(${t}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=lt.Disconnecting,this._logger.log(J.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(J.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===lt.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=t||new Gn("The connection was stopped before the hub handshake could complete."),this.connection.stop(t))}_sendCloseMessage(){var t=this;return tt(function*(){try{yield t._sendWithProtocol(t._createCloseMessage())}catch{}})()}stream(t,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createStreamInvocation(t,n,i);let s;const a=new yF;return a.cancelCallback=()=>{const c=this._createCancelInvocation(o.invocationId);return delete this._callbacks[o.invocationId],s.then(()=>this._sendWithProtocol(c))},this._callbacks[o.invocationId]=(c,l)=>{l?a.error(l):c&&(c.type===Fe.Completion?c.error?a.error(new Error(c.error)):a.complete():a.next(c.item))},s=this._sendWithProtocol(o).catch(c=>{a.error(c),delete this._callbacks[o.invocationId]}),this._launchStreams(r,s),a}_sendMessage(t){return this._resetKeepAliveInterval(),this.connection.send(t)}_sendWithProtocol(t){return this._messageBuffer?this._messageBuffer._send(t):this._sendMessage(this._protocol.writeMessage(t))}send(t,...n){const[r,i]=this._replaceStreamingParams(n),o=this._sendWithProtocol(this._createInvocation(t,n,!0,i));return this._launchStreams(r,o),o}invoke(t,...n){const[r,i]=this._replaceStreamingParams(n),o=this._createInvocation(t,n,!1,i);return new Promise((a,c)=>{this._callbacks[o.invocationId]=(p,E)=>{E?c(E):p&&(p.type===Fe.Completion?p.error?c(new Error(p.error)):a(p.result):c(new Error(`Unexpected message type: ${p.type}`)))};const l=this._sendWithProtocol(o).catch(p=>{c(p),delete this._callbacks[o.invocationId]});this._launchStreams(r,l)})}on(t,n){!t||!n||(t=t.toLowerCase(),this._methods[t]||(this._methods[t]=[]),-1===this._methods[t].indexOf(n)&&this._methods[t].push(n))}off(t,n){if(!t)return;t=t.toLowerCase();const r=this._methods[t];if(r)if(n){const i=r.indexOf(n);-1!==i&&(r.splice(i,1),0===r.length&&delete this._methods[t])}else delete this._methods[t]}onclose(t){t&&this._closedCallbacks.push(t)}onreconnecting(t){t&&this._reconnectingCallbacks.push(t)}onreconnected(t){t&&this._reconnectedCallbacks.push(t)}_processIncomingData(t){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(t=this._processHandshakeResponse(t),this._receivedHandshakeResponse=!0),t){const n=this._protocol.parseMessages(t,this._logger);for(const r of n)if(!this._messageBuffer||this._messageBuffer._shouldProcessMessage(r))switch(r.type){case Fe.Invocation:this._invokeClientMethod(r);break;case Fe.StreamItem:case Fe.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===Fe.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(o){this._logger.log(J.Error,`Stream callback threw error: ${Ib(o)}`)}}break}case Fe.Ping:break;case Fe.Close:{this._logger.log(J.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;!0===r.allowReconnect?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case Fe.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case Fe.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(J.Warning,`Invalid message type: ${r.type}.`)}}this._resetTimeoutPeriod()}_processHandshakeResponse(t){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(t)}catch(i){const o="Error parsing handshake response: "+i;this._logger.log(J.Error,o);const s=new Error(o);throw this._handshakeRejecter(s),s}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(J.Error,i);const o=new Error(i);throw this._handshakeRejecter(o),o}return this._logger.log(J.Debug,"Server handshake complete."),this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){var t=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),void 0!==this._pingServerHandle))){let n=this._nextKeepAlive-(new Date).getTime();n<0&&(n=0),this._pingServerHandle=setTimeout(tt(function*(){if(t._connectionState===lt.Connected)try{yield t._sendMessage(t._cachedPingMessage)}catch{t._cleanupPingTimer()}}),n)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}_invokeClientMethod(t){var n=this;return tt(function*(){const r=t.target.toLowerCase(),i=n._methods[r];if(!i)return n._logger.log(J.Warning,`No client method with the name '${r}' found.`),void(t.invocationId&&(n._logger.log(J.Warning,`No result given for '${r}' method and invocation ID '${t.invocationId}'.`),yield n._sendWithProtocol(n._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null))));const o=i.slice(),s=!!t.invocationId;let a,c,l;for(const p of o)try{const E=a;a=yield p.apply(n,t.arguments),s&&a&&E&&(n._logger.log(J.Error,`Multiple results provided for '${r}'. Sending error to server.`),l=n._createCompletionMessage(t.invocationId,"Client provided multiple results.",null)),c=void 0}catch(E){c=E,n._logger.log(J.Error,`A callback for the method '${r}' threw error '${E}'.`)}l?yield n._sendWithProtocol(l):s?(c?l=n._createCompletionMessage(t.invocationId,`${c}`,null):void 0!==a?l=n._createCompletionMessage(t.invocationId,null,a):(n._logger.log(J.Warning,`No result given for '${r}' method and invocation ID '${t.invocationId}'.`),l=n._createCompletionMessage(t.invocationId,"Client didn't provide a result.",null)),yield n._sendWithProtocol(l)):a&&n._logger.log(J.Error,`Result given for '${r}' method but server is not expecting a result.`)})()}_connectionClosed(t){this._logger.log(J.Debug,`HubConnection.connectionClosed(${t}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||t||new Gn("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(t||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===lt.Disconnecting?this._completeClose(t):this._connectionState===lt.Connected&&this._reconnectPolicy?this._reconnect(t):this._connectionState===lt.Connected&&this._completeClose(t)}_completeClose(t){if(this._connectionStarted){this._connectionState=lt.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(t??new Error("Connection closed.")),this._messageBuffer=void 0),gt.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[t]))}catch(n){this._logger.log(J.Error,`An onclose callback called with error '${t}' threw error '${n}'.`)}}}_reconnect(t){var n=this;return tt(function*(){const r=Date.now();let i=0,o=void 0!==t?t:new Error("Attempting to reconnect due to a unknown error."),s=n._getNextRetryDelay(i++,0,o);if(null===s)return n._logger.log(J.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),void n._completeClose(t);if(n._connectionState=lt.Reconnecting,n._logger.log(J.Information,t?`Connection reconnecting because of error '${t}'.`:"Connection reconnecting."),0!==n._reconnectingCallbacks.length){try{n._reconnectingCallbacks.forEach(a=>a.apply(n,[t]))}catch(a){n._logger.log(J.Error,`An onreconnecting callback called with error '${t}' threw error '${a}'.`)}if(n._connectionState!==lt.Reconnecting)return void n._logger.log(J.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.")}for(;null!==s;){if(n._logger.log(J.Information,`Reconnect attempt number ${i} will start in ${s} ms.`),yield new Promise(a=>{n._reconnectDelayHandle=setTimeout(a,s)}),n._reconnectDelayHandle=void 0,n._connectionState!==lt.Reconnecting)return void n._logger.log(J.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");try{if(yield n._startInternal(),n._connectionState=lt.Connected,n._logger.log(J.Information,"HubConnection reconnected successfully."),0!==n._reconnectedCallbacks.length)try{n._reconnectedCallbacks.forEach(a=>a.apply(n,[n.connection.connectionId]))}catch(a){n._logger.log(J.Error,`An onreconnected callback called with connectionId '${n.connection.connectionId}; threw error '${a}'.`)}return}catch(a){if(n._logger.log(J.Information,`Reconnect attempt failed because of error '${a}'.`),n._connectionState!==lt.Reconnecting)return n._logger.log(J.Debug,`Connection moved to the '${n._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),void(n._connectionState===lt.Disconnecting&&n._completeClose());o=a instanceof Error?a:new Error(a.toString()),s=n._getNextRetryDelay(i++,Date.now()-r,o)}}n._logger.log(J.Information,`Reconnect retries have been exhausted after ${Date.now()-r} ms and ${i} failed attempts. Connection disconnecting.`),n._completeClose()})()}_getNextRetryDelay(t,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:t,retryReason:r})}catch(i){return this._logger.log(J.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${t}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(t){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,t)}catch(o){this._logger.log(J.Error,`Stream 'error' callback called with '${t}' threw error: ${Ib(o)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(t,n,r,i){if(r)return 0!==i.length?{arguments:n,streamIds:i,target:t,type:Fe.Invocation}:{arguments:n,target:t,type:Fe.Invocation};{const o=this._invocationId;return this._invocationId++,0!==i.length?{arguments:n,invocationId:o.toString(),streamIds:i,target:t,type:Fe.Invocation}:{arguments:n,invocationId:o.toString(),target:t,type:Fe.Invocation}}}_launchStreams(t,n){if(0!==t.length){n||(n=Promise.resolve());for(const r in t)t[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let o;o=i instanceof Error?i.message:i&&i.toString?i.toString():"Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,o)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(t){const n=[],r=[];for(let i=0;i<t.length;i++){const o=t[i];if(this._isObservable(o)){const s=this._invocationId;this._invocationId++,n[s]=o,r.push(s.toString()),t.splice(i,1)}}return[n,r]}_isObservable(t){return t&&t.subscribe&&"function"==typeof t.subscribe}_createStreamInvocation(t,n,r){const i=this._invocationId;return this._invocationId++,0!==r.length?{arguments:n,invocationId:i.toString(),streamIds:r,target:t,type:Fe.StreamInvocation}:{arguments:n,invocationId:i.toString(),target:t,type:Fe.StreamInvocation}}_createCancelInvocation(t){return{invocationId:t,type:Fe.CancelInvocation}}_createStreamItemMessage(t,n){return{invocationId:t,item:n,type:Fe.StreamItem}}_createCompletionMessage(t,n,r){return n?{error:n,invocationId:t,type:Fe.Completion}:{invocationId:t,result:r,type:Fe.Completion}}_createCloseMessage(){return{type:Fe.Close}}}class EF{constructor(){this.name="json",this.version=2,this.transferFormat=Bt.Text}parseMessages(t,n){if("string"!=typeof t)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!t)return[];null===n&&(n=xs.instance);const r=yn.parse(t),i=[];for(const o of r){const s=JSON.parse(o);if("number"!=typeof s.type)throw new Error("Invalid payload.");switch(s.type){case Fe.Invocation:this._isInvocationMessage(s);break;case Fe.StreamItem:this._isStreamItemMessage(s);break;case Fe.Completion:this._isCompletionMessage(s);break;case Fe.Ping:case Fe.Close:break;case Fe.Ack:this._isAckMessage(s);break;case Fe.Sequence:this._isSequenceMessage(s);break;default:n.log(J.Information,"Unknown message type '"+s.type+"' ignored.");continue}i.push(s)}return i}writeMessage(t){return yn.write(JSON.stringify(t))}_isInvocationMessage(t){this._assertNotEmptyString(t.target,"Invalid payload for Invocation message."),void 0!==t.invocationId&&this._assertNotEmptyString(t.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(t){if(this._assertNotEmptyString(t.invocationId,"Invalid payload for StreamItem message."),void 0===t.item)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(t){if(t.result&&t.error)throw new Error("Invalid payload for Completion message.");!t.result&&t.error&&this._assertNotEmptyString(t.error,"Invalid payload for Completion message."),this._assertNotEmptyString(t.invocationId,"Invalid payload for Completion message.")}_isAckMessage(t){if("number"!=typeof t.sequenceId)throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(t){if("number"!=typeof t.sequenceId)throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(t,n){if("string"!=typeof t||""===t)throw new Error(n)}}const MF={trace:J.Trace,debug:J.Debug,info:J.Information,information:J.Information,warn:J.Warning,warning:J.Warning,error:J.Error,critical:J.Critical,none:J.None};class IF{configureLogging(t){if(At.isRequired(t,"logging"),function AF(e){return void 0!==e.log}(t))this.logger=t;else if("string"==typeof t){const n=function TF(e){const t=MF[e.toLowerCase()];if(typeof t<"u")return t;throw new Error(`Unknown log level: ${e}`)}(t);this.logger=new Jc(n)}else this.logger=new Jc(t);return this}withUrl(t,n){return At.isRequired(t,"url"),At.isNotEmpty(t,"url"),this.url=t,this.httpConnectionOptions="object"==typeof n?{...this.httpConnectionOptions,...n}:{...this.httpConnectionOptions,transport:n},this}withHubProtocol(t){return At.isRequired(t,"protocol"),this.protocol=t,this}withAutomaticReconnect(t){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return this.reconnectPolicy=t?Array.isArray(t)?new Db(t):t:new Db,this}withServerTimeout(t){return At.isRequired(t,"milliseconds"),this._serverTimeoutInMilliseconds=t,this}withKeepAliveInterval(t){return At.isRequired(t,"milliseconds"),this._keepAliveIntervalInMilliseconds=t,this}withStatefulReconnect(t){return void 0===this.httpConnectionOptions&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=t?.bufferSize,this}build(){const t=this.httpConnectionOptions||{};if(void 0===t.logger&&(t.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new gF(this.url,t);return nh.create(n,this.logger||xs.instance,this.protocol||new EF,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}let Ob=(()=>{class e{static#e=this.Api="https://localhost:7143/";static#t=this.Webrtc=["stun:stun.l.google.com:19302"]}return e})(),rh=(()=>{class e{constructor(){this.api=Ob.Api;let n=this.api+"live";this.connection=(new IF).withUrl(n).build()}setName(n){localStorage.setItem("userName",n)}ConfiguredConnection(n){let r=localStorage.getItem("userName");r&&this.startConnection(r,n)}startConnection(n,r){this.connection.state!=lt.Connected&&this.connection.start().then(i=>{this.connection.send("GetConnectionId",n)}),this.connection.on("NewConnectionConfigured",i=>{localStorage.setItem("connectionId",i),r.userId=localStorage.getItem("connectionId")}),this.FoundMatch(r),this.RecieveMessage(r),this.callDisconnected(r),this.GetRemoteStream(r),this.RecivedICECandidate(r),this.callAnswered(r)}sendMessage(n,r){this.connection.send("SendMessage",n,r)}sendICECandidate(n,r){return this.connection.send("SendICECandidate",n,r)}sendStreamingOffer(n,r){this.connection.send("SendStreamRequest",n.sdp,n.type,r)}AnswerStreamingCall(n,r){this.connection.send("AnswerStreamingCall",JSON.stringify(n),r)}EndCall(){this.connection.send("EndCall")}GoLive(){this.connection.send("AddRequest")}RecieveMessage(n){this.connection.on("RecivedMessage",r=>{console.log(r),n.chatCommunication.push(r),setTimeout(()=>{let i=document.getElementsByClassName("chat-scroller")[0];i&&i.scrollBy({behavior:"smooth",top:i.scrollHeight+i.clientHeight})},5)})}callDisconnected(n){this.connection.on("Disconnected",r=>{n.LeftCall(r)})}FoundMatch(n){this.connection.on("FoundMatch",r=>{n.MatchHandler(r)})}GetRemoteStream(n){this.connection.on("AcceptStreamRequest",r=>{n.AcceptStreamRequest(r)})}RecivedICECandidate(n){this.connection.on("RecivedICECandidate",r=>{n.RecivedICECandidate(r)})}callAnswered(n){this.connection.on("CallAccepted",r=>{n.SetAcceptedOffer(r)})}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),PF=(()=>{class e{constructor(n,r){this.chatService=n,this.router=r,this.NameController=new zc("",[Sw.required])}Configure(){this.chatService.setName(this.NameController.value),this.router.navigate(["/chat"])}static#e=this.\u0275fac=function(r){return new(r||e)(ee(rh),ee(Xt))};static#t=this.\u0275cmp=gi({type:e,selectors:[["app-chat-confirmation"]],decls:59,vars:2,consts:[[1,"Guidelines"],["type","checkbox"],["aggreeRef",""],[1,"row"],[1,"input-field","col","s6"],["id","Name","type","text",1,"validate",2,"color","white","font-size","15px",3,"formControl"],["for","Name"],[1,"col","s6","action-grid"],["autocomplete","none",1,"Std-Buttons",3,"disabled","click"],["ref",""]],template:function(r,i){if(1&r&&(se(0,"div",0)(1,"h5"),ye(2," Interactive Communication Protocol: Community Guidelines"),ae(),se(3,"ol")(4,"li")(5,"strong"),ye(6,"Respect and Kindness:"),ae(),ye(7," Treat others with respect and kindness at all times. Avoid offensive language, bullying, harassment, or any form of discrimination."),ae(),se(8,"li")(9,"strong"),ye(10,"Privacy and Confidentiality:"),ae(),ye(11," Respect the privacy and confidentiality of others. Do not share personal information or sensitive data without consent."),ae(),se(12,"li")(13,"strong"),ye(14,"Appropriate Content:"),ae(),ye(15," Refrain from sharing or discussing inappropriate content, including but not limited to explicit language, graphic images, or any material that could be considered offensive or inappropriate for the community."),ae(),se(16,"li")(17,"strong"),ye(18,"Constructive Communication:"),ae(),ye(19," Engage in constructive communication and discussions. Refrain from engaging in arguments, trolling, or any behavior that disrupts the conversation or the community's atmosphere."),ae(),se(20,"li")(21,"strong"),ye(22,"Compliance with Laws and Regulations:"),ae(),ye(23," Ensure that all interactions and content shared adhere to relevant laws and regulations. Avoid engaging in any illegal activities or promoting harmful behavior."),ae(),se(24,"li")(25,"strong"),ye(26,"No Spamming or Solicitation:"),ae(),ye(27," Do not spam the chat with excessive messages or solicitations. Respect others' time and avoid promoting products, services, or external links without permission."),ae(),se(28,"li")(29,"strong"),ye(30,"Mutual Respect for Diversity:"),ae(),ye(31," Embrace diversity and cultural differences within the community. Avoid making derogatory remarks or assumptions based on race, ethnicity, gender, religion, sexual orientation, or any other characteristic."),ae(),se(32,"li")(33,"strong"),ye(34,"Reporting and Moderation:"),ae(),ye(35," Report any violations of these guidelines to the moderators or administrators promptly. Trust the moderators to enforce the guidelines fairly and appropriately."),ae(),se(36,"li")(37,"strong"),ye(38,"Be Mindful of Bandwidth and Resources:"),ae(),ye(39," In video calls, be mindful of bandwidth and resources, especially in group calls. Avoid unnecessary background activities that may disrupt the call quality for others."),ae(),se(40,"li")(41,"strong"),ye(42,"Have Fun Responsibly:"),ae(),ye(43," Enjoy your interactions within the community, but do so responsibly. Remember that your actions impact others, so strive to create a positive and inclusive environment for everyone."),ae()(),se(44,"p")(45,"label"),at(46,"input",1,2),se(48,"span"),ye(49," I agree to abide by the following guidelines and adhere to the rules throughout our conversations."),ae()()(),se(50,"div",3)(51,"div",4),at(52,"input",5),se(53,"label",6),ye(54," Name* "),ae()(),se(55,"div",7)(56,"button",8,9),it("click",function(){return i.Configure()}),ye(58," Setup And Proceed "),ae()()()()),2&r){const o=function Dm(e){return function wi(e,t){return e[t]}(function QD(){return ke.lFrame.contextLView}(),dt+e)}(47);Je(52),Xe("formControl",i.NameController),Je(4),Xe("disabled",i.NameController.errors||!o.checked)}},dependencies:[Ts,kf,Wc],styles:[".Guidelines[_ngcontent-%COMP%]{padding:40px 40px 100px}.Guidelines[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:20px;font-size:14px}.Guidelines[_ngcontent-%COMP%]   .action-grid[_ngcontent-%COMP%]{display:flex;align-items:center;height:9cap;justify-content:flex-end}.Guidelines[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#fff;font-weight:700}"]})}return e})();w(7746);let RF=(()=>{class e{constructor(n){this.chatConnectivity=n}ConfigureDataChannel(n){let r=n.createDataChannel("myDataChannel");r.onopen=()=>{console.log("Data channel opened"),r.send("Hello, World!")},r.onmessage=i=>{console.log("Received message: "+i.data)},r.onerror=i=>{console.error("Data channel error: "+i)}}ConfigurePeerConnection(n,r){let i;if(i=new RTCPeerConnection({iceServers:[{urls:Ob.Webrtc}],iceCandidatePoolSize:2,bundlePolicy:"max-bundle",rtcpMuxPolicy:"require",iceTransportPolicy:"all"}),i.onconnectionstatechange=a=>{},r.stream)for(let a of r.stream.getTracks())i.addTrack(a,r.stream);i.ontrack=a=>{console.log("track from remote",a),n.stream=a.streams[0]},n.peerConnection=i,i.onicecandidate=a=>{console.log(a),a.candidate&&this.chatConnectivity.sendICECandidate(JSON.stringify({candidate:a.candidate,id:r.userId}),n.id)},i.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0}).then(a=>{i?.setLocalDescription(a),this.chatConnectivity.sendStreamingOffer(a,n.id)})}AcceptOfferFromOtherPeers(n,r){n.peerConnection&&(n.peerConnection.setRemoteDescription(new RTCSessionDescription(r)),n.peerConnection.createAnswer().then(i=>{n.peerConnection?.setLocalDescription(i),this.chatConnectivity.AnswerStreamingCall(JSON.stringify(r),n.id),n.peerConnection&&this.ConfigureDataChannel(n.peerConnection)}))}static#e=this.\u0275fac=function(r){return new(r||e)(Ee(rh))};static#t=this.\u0275prov=Se({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function OF(e,t){if(1&e&&(se(0,"div"),at(1,"video",13),ae()),2&e){const n=Vt().$implicit;Je(1),Xe("srcObject",n.stream)}}function xF(e,t){if(1&e&&(Nn(0),Mt(1,OF,2,1,"div",8),Fn()),2&e){const n=t.$implicit;Je(1),Xe("ngIf",n.stream)}}function kF(e,t){if(1&e&&(se(0,"div",16),ye(1),ae()),2&e){const n=Vt().$implicit;Je(1),xa(' " ',n.name,' " \xa0Joined\xa0call ')}}const NF=function(e,t){return{"chat-users":e,"chat-others":t}};function FF(e,t){if(1&e&&(se(0,"div",17)(1,"div",18)(2,"span"),ye(3),ae(),se(4,"span"),ye(5),ae()()()),2&e){const n=Vt().$implicit,r=Vt(3);Je(1),Xe("ngClass",ty(3,NF,n.connectionId==r.userId,n.connectionId!=r.userId)),Je(2),Oa(n.name),Je(2),Oa(n.message)}}function LF(e,t){if(1&e&&(Nn(0),Mt(1,kF,2,1,"div",14),Mt(2,FF,6,6,"div",15),Fn()),2&e){const n=t.$implicit;Je(1),Xe("ngIf","info"==n.type),Je(1),Xe("ngIf",!n.type)}}function VF(e,t){if(1&e&&(Nn(0),Mt(1,LF,3,2,"ng-container",5),Fn()),2&e){const n=Vt(2);Je(1),Xe("ngForOf",n.chatCommunication)}}function jF(e,t){if(1&e){const n=ei();se(0,"img",21),it("click",function(){return Rr(n),Or(Vt(3).setMicState(!1))}),ae()}}function BF(e,t){if(1&e){const n=ei();se(0,"img",22),it("click",function(){return Rr(n),Or(Vt(3).setMicState(!0))}),ae()}}function UF(e,t){if(1&e&&(Nn(0),Mt(1,jF,1,0,"img",19),Mt(2,BF,1,0,"img",20),Fn()),2&e){const n=Vt(2);Je(1),Xe("ngIf",n.micState),Je(1),Xe("ngIf",!n.micState)}}function $F(e,t){if(1&e){const n=ei();se(0,"img",25),it("click",function(){return Rr(n),Or(Vt(3).setVCState(!0))}),ae()}}function HF(e,t){if(1&e){const n=ei();se(0,"img",26),it("click",function(){return Rr(n),Or(Vt(3).setVCState(!1))}),ae()}}function GF(e,t){if(1&e&&(Nn(0),Mt(1,$F,1,0,"img",23),Mt(2,HF,1,0,"img",24),Fn()),2&e){const n=Vt(2);Je(1),Xe("ngIf",!n.VcState),Je(1),Xe("ngIf",n.VcState)}}function zF(e,t){if(1&e){const n=ei();se(0,"div",2)(1,"div",3)(2,"div"),at(3,"video",4),ae(),Mt(4,xF,2,1,"ng-container",5),ae(),se(5,"div",6)(6,"div",7),Mt(7,VF,2,1,"ng-container",8),ae(),se(8,"div",9)(9,"textarea",10),it("keyup",function(i){return Rr(n),Or(Vt().processText(i))}),ye(10,"\n           "),ae()()(),se(11,"div",11),Mt(12,UF,3,2,"ng-container",8),se(13,"img",12),it("click",function(){return Rr(n),Or(Vt().EndCall())}),ae(),Mt(14,GF,3,2,"ng-container",8),ae()()}if(2&e){const n=Vt();Je(3),Xe("srcObject",n.stream)("volume",0),Je(1),Xe("ngForOf",n.connections),Je(3),Xe("ngIf",n.chatCommunication),Je(2),Xe("formControl",n.textController),Je(3),Xe("ngIf",n.stream),Je(2),Xe("ngIf",n.stream)}}function WF(e,t){1&e&&(Nn(0),ye(1," Ready to shine? One click away from connecting with your perfect chat companion. "),at(2,"br"),ye(3," Hit \xa0'Go Live'\xa0 and let the magic begin! "),Fn())}function qF(e,t){1&e&&(Nn(0),ye(1," Wait till we are choosing you a Chat companion "),Fn())}function JF(e,t){1&e&&(Nn(0),ye(1," Call Ended "),Fn())}function ZF(e,t){if(1&e){const n=ei();se(0,"button",33),it("click",function(){return Rr(n),Or(Vt(2).GoLive())}),ye(1,"GO LIVE"),ae()}}function KF(e,t){1&e&&at(0,"img",34)}function YF(e,t){if(1&e&&(se(0,"div",27)(1,"div",28)(2,"div"),ye(3," let's Randummmm "),ae(),se(4,"div"),at(5,"img",29),ae(),se(6,"div"),Mt(7,WF,4,0,"ng-container",8),Mt(8,qF,2,0,"ng-container",8),ae(),se(9,"div",30),Mt(10,JF,2,0,"ng-container",8),ae(),se(11,"div"),Mt(12,ZF,2,0,"button",31),Mt(13,KF,1,0,"img",32),ae()()()),2&e){const n=Vt();Je(7),Xe("ngIf",!n.LiveRequest),Je(1),Xe("ngIf",n.LiveRequest),Je(2),Xe("ngIf",n.endCall),Je(2),Xe("ngIf",!n.LiveRequest),Je(1),Xe("ngIf",n.LiveRequest)}}const QF=[{component:PF,path:"chatSetup",pathMatch:"full"},{component:Bk,path:"",pathMatch:"full"},{component:(()=>{class e{constructor(n,r,i,o){this.chatService=n,this.router=r,this.zone=i,this.liveStreamingService=o,this.userId=null,this.connections=[],this.endCall=!1,this.chatCommunication=[],this.textController=new zc("",[Sw.required]),this.LiveRequest=!1,this.micState=!0,this.VcState=!0,this.stream=void 0,this.peerConnections=[],localStorage.getItem("userName")?this.chatService.ConfiguredConnection(this):this.router.navigate(["/chatSetup"])}LeftCall(n){this.connections=this.connections.filter(r=>r.id!=n),0==this.connections.length&&(this.endCall=!0,this.chatCommunication=[],this.stream&&(this.stream.getAudioTracks().forEach(r=>r.stop()),this.stream.getVideoTracks().forEach(r=>r.stop())))}MatchHandler(n){let r={id:n.connectionId,name:n.name};this.connections.length?this.liveStreamingService.ConfigurePeerConnection(r,this):this.SetupCall(r),this.connections.push(r),this.chatCommunication.push({name:n.name,connectionId:n.connectionId,type:"info",time:"",message:""}),this.LiveRequest=!1}EndCall(){this.chatService.EndCall(),this.endCall=!1,this.chatCommunication=[],this.connections=[],this.stream&&(this.stream.getAudioTracks().forEach(n=>n.stop()),this.stream.getVideoTracks().forEach(n=>n.stop()))}GoLive(){this.chatService.GoLive(),this.LiveRequest=!0,this.endCall=!1,this.chatCommunication=[],this.connections=[]}processText(n){if("Enter"==n.key){n.preventDefault();for(let r of this.connections)this.textController.valid&&r.id&&this.chatService.sendMessage(r.id,this.textController.value);this.textController.reset()}}SetupCall(n){this.stream&&(this.stream.getAudioTracks().forEach(r=>r.stop()),this.stream.getVideoTracks().forEach(r=>r.stop())),navigator.mediaDevices.getUserMedia({audio:!0,video:!0}).then(r=>{this.stream=r,this.liveStreamingService.ConfigurePeerConnection(n,this)}).catch(()=>{navigator.mediaDevices.getDisplayMedia({audio:!0,video:!0}).then(r=>{this.stream=r,this.liveStreamingService.ConfigurePeerConnection(n,this)})})}setMicState(n){this.micState=n}setVCState(n){this.VcState=n}AcceptStreamRequest(n){let r=setInterval(()=>{let i=this.connections.filter(o=>o.id==n.id)[0];i&&i.peerConnection&&(this.liveStreamingService.AcceptOfferFromOtherPeers(i,n.streamOffer),clearInterval(r),clearTimeout(r))},100)}RecivedICECandidate(n){console.log(this.connections);let r=JSON.parse(n),i=setInterval(()=>{let o=this.connections.filter(s=>s.id==r.id)[0];o&&(o.peerConnection?.addIceCandidate(r.candidate),clearInterval(i),clearTimeout(i))},100)}SetAcceptedOffer(n){let r=JSON.parse(n);console.log("offer recived");let i=setInterval(()=>{this.connections.filter(s=>s.id==r.id)[0]&&(clearInterval(i),clearTimeout(i))},100)}static#e=this.\u0275fac=function(r){return new(r||e)(ee(rh),ee(Xt),ee(Ct),ee(RF))};static#t=this.\u0275cmp=gi({type:e,selectors:[["app-chat"]],decls:2,vars:2,consts:[["class","grid-divider",4,"ngIf"],["class","NewChatRequest",4,"ngIf"],[1,"grid-divider"],[1,"video-window"],["autoplay","true",3,"srcObject","volume"],[4,"ngFor","ngForOf"],[1,"chat-window"],[1,"chat-scroller"],[4,"ngIf"],[1,"input-field","col","s12","textBox"],["rows","1","placeholder","type to text something",2,"color","white",3,"formControl","keyup"],["id","action-container"],["src","/assets/Img/hangup.png","id","hangup",3,"click"],["id","peer-video","autoplay","true","playsInline","","controls","true",3,"srcObject"],["class","info",4,"ngIf"],["class","chat-container",4,"ngIf"],[1,"info"],[1,"chat-container"],[1,"chat",3,"ngClass"],["id","microphone","src","/assets/Img/mic.png",3,"click",4,"ngIf"],["id","microphone","src","/assets/Img/mute.png",3,"click",4,"ngIf"],["id","microphone","src","/assets/Img/mic.png",3,"click"],["id","microphone","src","/assets/Img/mute.png",3,"click"],["id","microphone","src","/assets/Img/camera.png",3,"click",4,"ngIf"],["id","microphone","src","/assets/Img/camera_off.png",3,"click",4,"ngIf"],["id","microphone","src","/assets/Img/camera.png",3,"click"],["id","microphone","src","/assets/Img/camera_off.png",3,"click"],[1,"NewChatRequest"],[1,"intro-container"],["src","/assets/Img/convoBoo.png"],[2,"margin-top","70px"],["class","Std-Buttons",3,"click",4,"ngIf"],["src","/assets//Img/load_pikachu.gif","class","pikachu",4,"ngIf"],[1,"Std-Buttons",3,"click"],["src","/assets//Img/load_pikachu.gif",1,"pikachu"]],template:function(r,i){1&r&&(Mt(0,zF,15,7,"div",0),Mt(1,YF,14,5,"div",1)),2&r&&(Xe("ngIf",i.connections.length>0),Je(1),Xe("ngIf",!(null!=i.connections&&i.connections.length)))},dependencies:[Fd,IC,PC,Ts,kf,Wc],styles:['@import"https://fonts.googleapis.com/css2?family=Satisfy&display=swap";.grid-divider[_ngcontent-%COMP%]{display:grid;border:1px solid rgb(120,102,102);margin:10px;height:95vh;grid-template-columns:60% 40%;position:relative}.grid-divider[_ngcontent-%COMP%]   #action-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-around;position:absolute;bottom:10px;height:60px;width:60%;border:none}.grid-divider[_ngcontent-%COMP%]   #action-container[_ngcontent-%COMP%]   #microphone[_ngcontent-%COMP%]{height:50px;border-radius:50px}.grid-divider[_ngcontent-%COMP%]   #action-container[_ngcontent-%COMP%]   #microphone[_ngcontent-%COMP%]:hover{scale:1.2;transition:.2s ease}.grid-divider[_ngcontent-%COMP%]   #action-container[_ngcontent-%COMP%]   #hangup[_ngcontent-%COMP%]{height:50px;border-radius:50px}.grid-divider[_ngcontent-%COMP%]   #action-container[_ngcontent-%COMP%]   #hangup[_ngcontent-%COMP%]:hover{scale:1.2;transition:.2s ease}.grid-divider[_ngcontent-%COMP%]   .video-window[_ngcontent-%COMP%]{display:grid;grid-template-rows:50% 50%}.grid-divider[_ngcontent-%COMP%]   .video-window[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative;border-bottom:1px solid rgb(51,20,20)}.grid-divider[_ngcontent-%COMP%]   .video-window[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   video[_ngcontent-%COMP%]{padding:10px;width:100%;height:100%;background-color:#2a2a2a}.grid-divider[_ngcontent-%COMP%]   .chat-window[_ngcontent-%COMP%]{max-height:95vh;border-left:1px solid rgb(70,21,21)}.grid-divider[_ngcontent-%COMP%]   .chat-window[_ngcontent-%COMP%]   .chat-scroller[_ngcontent-%COMP%]{max-height:calc(97% - 80px);overflow:auto}.grid-divider[_ngcontent-%COMP%]   .chat-window[_ngcontent-%COMP%]   .chat-scroller[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{margin:40px 10px;text-align:center}.grid-divider[_ngcontent-%COMP%]   .textBox[_ngcontent-%COMP%]{padding:10px;position:absolute;bottom:-12px;width:100%}.grid-divider[_ngcontent-%COMP%]   .textBox[_ngcontent-%COMP%]   textarea[_ngcontent-%COMP%]{resize:none;padding:10px;color:#fff;overflow:hidden;font-size:14px}.grid-divider[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.chat-container[_ngcontent-%COMP%]{display:grid;margin-top:20px}.chat-container[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]{padding:10px;border:1px solid white;border-radius:20px;color:#fff;width:-moz-fit-content;width:fit-content;font-size:14px;margin-top:10px;max-width:80%}.chat-container[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:block}.chat-container[_ngcontent-%COMP%]   .chat[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(1){font-weight:600;font-size:14px;padding-bottom:2px}.chat-container[_ngcontent-%COMP%]   .chat-users[_ngcontent-%COMP%]{justify-self:right;margin-right:10px}.chat-container[_ngcontent-%COMP%]   .chat-others[_ngcontent-%COMP%]{margin-left:10px}.NewChatRequest[_ngcontent-%COMP%]{display:grid;place-items:center;height:100%}.NewChatRequest[_ngcontent-%COMP%]   .intro-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.NewChatRequest[_ngcontent-%COMP%]   .intro-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:center;font-family:Satisfy,cursive;font-weight:400;font-style:normal}.NewChatRequest[_ngcontent-%COMP%]   .intro-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){font-size:3rem}.NewChatRequest[_ngcontent-%COMP%]   .intro-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){font-size:1.5rem;text-align:center}.NewChatRequest[_ngcontent-%COMP%]   .intro-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:last-child{margin-top:40px}.NewChatRequest[_ngcontent-%COMP%]   .pikachu[_ngcontent-%COMP%]{height:100px}.NewChatRequest[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:300px;filter:drop-shadow(3px 3px 4px white)}']})}return e})(),path:"chat",pathMatch:"full"}];let XF=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Jn({type:e});static#n=this.\u0275inj=Pn({imports:[Cw.forRoot(QF),Cw]})}return e})(),eL=(()=>{class e{constructor(){this.title="Randummmm"}resetView(){window.scrollTo(0,0)}static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275cmp=gi({type:e,selectors:[["app-root"]],decls:2,vars:0,consts:[[3,"activate"]],template:function(r,i){1&r&&(se(0,"body")(1,"router-outlet",0),it("activate",function(){return i.resetView()}),ae()())},dependencies:[vf]})}return e})(),tL=(()=>{class e{static#e=this.\u0275fac=function(r){return new(r||e)};static#t=this.\u0275mod=Jn({type:e,bootstrap:[eL]});static#n=this.\u0275inj=Pn({imports:[QO,XF,HN]})}return e})();YO().bootstrapModule(tL).catch(e=>console.error(e))},5834:(N,T,w)=>{"use strict";var u=w(5203),b=w(5685),D=b(u("String.prototype.indexOf"));N.exports=function(g,C){var v=u(g,!!C);return"function"==typeof v&&D(g,".prototype.")>-1?b(v):v}},5685:(N,T,w)=>{"use strict";var u=w(4444),b=w(5203),D=w(9511),y=w(2844),g=b("%Function.prototype.apply%"),C=b("%Function.prototype.call%"),v=b("%Reflect.apply%",!0)||u.call(C,g),d=w(3907),f=b("%Math.max%");N.exports=function(S){if("function"!=typeof S)throw new y("a function is required");var I=v(u,C,arguments);return D(I,1+f(0,S.length-(arguments.length-1)),!0)};var h=function(){return v(u,g,arguments)};d?d(N.exports,"apply",{value:h}):N.exports.apply=h},7484:(N,T,w)=>{"use strict";var u=w(3907),b=w(5917),D=w(2844),y=w(7378);N.exports=function(C,v,d){if(!C||"object"!=typeof C&&"function"!=typeof C)throw new D("`obj` must be an object or a function`");if("string"!=typeof v&&"symbol"!=typeof v)throw new D("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new D("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new D("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new D("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new D("`loose`, if provided, must be a boolean");var f=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,_=arguments.length>5?arguments[5]:null,S=arguments.length>6&&arguments[6],I=!!y&&y(C,v);if(u)u(C,v,{configurable:null===_&&I?I.configurable:!_,enumerable:null===f&&I?I.enumerable:!f,value:d,writable:null===h&&I?I.writable:!h});else{if(!S&&(f||h||_))throw new b("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");C[v]=d}}},3907:(N,T,w)=>{"use strict";var b=w(5203)("%Object.defineProperty%",!0)||!1;if(b)try{b({},"a",{value:1})}catch{b=!1}N.exports=b},3644:N=>{"use strict";N.exports=EvalError},1847:N=>{"use strict";N.exports=Error},1298:N=>{"use strict";N.exports=RangeError},2681:N=>{"use strict";N.exports=ReferenceError},5917:N=>{"use strict";N.exports=SyntaxError},2844:N=>{"use strict";N.exports=TypeError},7289:N=>{"use strict";N.exports=URIError},3375:(N,T,w)=>{var u=w(2069),b=w(6788);function D(g){u.call(this);var v,C=g||{};for(v in this.config={chunksize:16384,pacing:0},C)this.config[v]=C[v];this.file=null,this.channel=null}function y(){u.call(this),this.receiveBuffer=[],this.received=0,this.metadata={},this.channel=null}b.inherits(D,u),D.prototype.send=function(g,C){var v=this;this.file=g,this.channel=C;var d="number"!=typeof C.bufferedAmountLowThreshold,f=0,h=function(){var _=new window.FileReader;_.onload=function(I){v.channel.send(I.target.result),v.emit("progress",f,g.size,I.target.result),g.size>f+I.target.result.byteLength?d?window.setTimeout(h,v.config.pacing):C.bufferedAmount<=C.bufferedAmountLowThreshold&&window.setTimeout(h,0):(v.emit("progress",g.size,g.size,null),v.emit("sentFile")),f+=v.config.chunksize};var S=g.slice(f,f+v.config.chunksize);_.readAsArrayBuffer(S)};d||(C.bufferedAmountLowThreshold=8*this.config.chunksize,C.addEventListener("bufferedamountlow",h)),window.setTimeout(h,0)},b.inherits(y,u),y.prototype.receive=function(g,C){var v=this;g&&(this.metadata=g),this.channel=C,C.binaryType="arraybuffer",this.channel.onmessage=function(d){v.received+=d.data.byteLength,v.receiveBuffer.push(d.data),v.emit("progress",v.received,v.metadata.size,d.data),v.received===v.metadata.size?(v.emit("receivedFile",new window.Blob(v.receiveBuffer),v.metadata),v.receiveBuffer=[]):v.received>v.metadata.size&&(console.error("received more than expected, discarding..."),v.receiveBuffer=[])}},N.exports={},N.exports.support=typeof window<"u"&&window&&window.File&&window.FileReader&&window.Blob,N.exports.Sender=D,N.exports.Receiver=y},9435:(N,T,w)=>{"use strict";var u=w(7566),b=Object.prototype.toString,D=Object.prototype.hasOwnProperty,y=function(f,h,_){for(var S=0,I=f.length;S<I;S++)D.call(f,S)&&(null==_?h(f[S],S,f):h.call(_,f[S],S,f))},g=function(f,h,_){for(var S=0,I=f.length;S<I;S++)null==_?h(f.charAt(S),S,f):h.call(_,f.charAt(S),S,f)},C=function(f,h,_){for(var S in f)D.call(f,S)&&(null==_?h(f[S],S,f):h.call(_,f[S],S,f))};N.exports=function(f,h,_){if(!u(h))throw new TypeError("iterator must be a function");var S;arguments.length>=3&&(S=_),"[object Array]"===b.call(f)?y(f,h,S):"string"==typeof f?g(f,h,S):C(f,h,S)}},3457:N=>{"use strict";var T="Function.prototype.bind called on incompatible ",w=Object.prototype.toString,u=Math.max,b="[object Function]",D=function(v,d){for(var f=[],h=0;h<v.length;h+=1)f[h]=v[h];for(var _=0;_<d.length;_+=1)f[_+v.length]=d[_];return f},y=function(v,d){for(var f=[],h=d||0,_=0;h<v.length;h+=1,_+=1)f[_]=v[h];return f},g=function(C,v){for(var d="",f=0;f<C.length;f+=1)d+=C[f],f+1<C.length&&(d+=v);return d};N.exports=function(v){var d=this;if("function"!=typeof d||w.apply(d)!==b)throw new TypeError(T+d);for(var h,f=y(arguments,1),S=u(0,d.length-f.length),I=[],A=0;A<S;A++)I[A]="$"+A;if(h=Function("binder","return function ("+g(I,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof h){var L=d.apply(this,D(f,arguments));return Object(L)===L?L:this}return d.apply(v,D(f,arguments))}),d.prototype){var O=function(){};O.prototype=d.prototype,h.prototype=new O,O.prototype=null}return h}},4444:(N,T,w)=>{"use strict";var u=w(3457);N.exports=Function.prototype.bind||u},5203:(N,T,w)=>{"use strict";var u,b=w(1847),D=w(3644),y=w(1298),g=w(2681),C=w(5917),v=w(2844),d=w(7289),f=Function,h=function(ue){try{return f('"use strict"; return ('+ue+").constructor;")()}catch{}},_=Object.getOwnPropertyDescriptor;if(_)try{_({},"")}catch{_=null}var S=function(){throw new v},I=_?function(){try{return S}catch{try{return _(arguments,"callee").get}catch{return S}}}():S,A=w(2969)(),O=w(9757)(),L=Object.getPrototypeOf||(O?function(ue){return ue.__proto__}:null),j={},m=typeof Uint8Array>"u"||!L?u:L(Uint8Array),M={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?u:ArrayBuffer,"%ArrayIteratorPrototype%":A&&L?L([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":j,"%AsyncGenerator%":j,"%AsyncGeneratorFunction%":j,"%AsyncIteratorPrototype%":j,"%Atomics%":typeof Atomics>"u"?u:Atomics,"%BigInt%":typeof BigInt>"u"?u:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?u:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?u:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":b,"%eval%":eval,"%EvalError%":D,"%Float32Array%":typeof Float32Array>"u"?u:Float32Array,"%Float64Array%":typeof Float64Array>"u"?u:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?u:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":j,"%Int8Array%":typeof Int8Array>"u"?u:Int8Array,"%Int16Array%":typeof Int16Array>"u"?u:Int16Array,"%Int32Array%":typeof Int32Array>"u"?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":A&&L?L(L([][Symbol.iterator]())):u,"%JSON%":"object"==typeof JSON?JSON:u,"%Map%":typeof Map>"u"?u:Map,"%MapIteratorPrototype%":typeof Map>"u"||!A||!L?u:L((new Map)[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?u:Promise,"%Proxy%":typeof Proxy>"u"?u:Proxy,"%RangeError%":y,"%ReferenceError%":g,"%Reflect%":typeof Reflect>"u"?u:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?u:Set,"%SetIteratorPrototype%":typeof Set>"u"||!A||!L?u:L((new Set)[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":A&&L?L(""[Symbol.iterator]()):u,"%Symbol%":A?Symbol:u,"%SyntaxError%":C,"%ThrowTypeError%":I,"%TypedArray%":m,"%TypeError%":v,"%Uint8Array%":typeof Uint8Array>"u"?u:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?u:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?u:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?u:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?u:WeakMap,"%WeakRef%":typeof WeakRef>"u"?u:WeakRef,"%WeakSet%":typeof WeakSet>"u"?u:WeakSet};if(L)try{null.error}catch(ue){var R=L(L(ue));M["%Error.prototype%"]=R}var k=function ue(oe){var Ce;if("%AsyncFunction%"===oe)Ce=h("async function () {}");else if("%GeneratorFunction%"===oe)Ce=h("function* () {}");else if("%AsyncGeneratorFunction%"===oe)Ce=h("async function* () {}");else if("%AsyncGenerator%"===oe){var we=ue("%AsyncGeneratorFunction%");we&&(Ce=we.prototype)}else if("%AsyncIteratorPrototype%"===oe){var F=ue("%AsyncGenerator%");F&&L&&(Ce=L(F.prototype))}return M[oe]=Ce,Ce},V={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},q=w(4444),U=w(7699),G=q.call(Function.call,Array.prototype.concat),fe=q.call(Function.apply,Array.prototype.splice),$=q.call(Function.call,String.prototype.replace),W=q.call(Function.call,String.prototype.slice),ne=q.call(Function.call,RegExp.prototype.exec),te=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,de=/\\(\\)?/g,ve=function(oe){var Ce=W(oe,0,1),we=W(oe,-1);if("%"===Ce&&"%"!==we)throw new C("invalid intrinsic syntax, expected closing `%`");if("%"===we&&"%"!==Ce)throw new C("invalid intrinsic syntax, expected opening `%`");var F=[];return $(oe,te,function(H,Y,ce,_e){F[F.length]=ce?$(_e,de,"$1"):Y||H}),F},he=function(oe,Ce){var F,we=oe;if(U(V,we)&&(we="%"+(F=V[we])[0]+"%"),U(M,we)){var H=M[we];if(H===j&&(H=k(we)),typeof H>"u"&&!Ce)throw new v("intrinsic "+oe+" exists, but is not available. Please file an issue!");return{alias:F,name:we,value:H}}throw new C("intrinsic "+oe+" does not exist!")};N.exports=function(oe,Ce){if("string"!=typeof oe||0===oe.length)throw new v("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof Ce)throw new v('"allowMissing" argument must be a boolean');if(null===ne(/^%?[^%]*%?$/,oe))throw new C("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var we=ve(oe),F=we.length>0?we[0]:"",H=he("%"+F+"%",Ce),Y=H.name,ce=H.value,_e=!1,He=H.alias;He&&(F=He[0],fe(we,G([0,1],He)));for(var le=1,Pe=!0;le<we.length;le+=1){var Ve=we[le],nt=W(Ve,0,1),tn=W(Ve,-1);if(('"'===nt||"'"===nt||"`"===nt||'"'===tn||"'"===tn||"`"===tn)&&nt!==tn)throw new C("property names with quotes must have matching quotes");if(("constructor"===Ve||!Pe)&&(_e=!0),U(M,Y="%"+(F+="."+Ve)+"%"))ce=M[Y];else if(null!=ce){if(!(Ve in ce)){if(!Ce)throw new v("base intrinsic for "+oe+" exists, but the property is not available.");return}if(_&&le+1>=we.length){var An=_(ce,Ve);ce=(Pe=!!An)&&"get"in An&&!("originalValue"in An.get)?An.get:ce[Ve]}else Pe=U(ce,Ve),ce=ce[Ve];Pe&&!_e&&(M[Y]=ce)}}return ce}},6703:(N,T,w)=>{var u=w(2612),b={};N.exports=function(D,y){var v,g=2===arguments.length,C=g?y:D;if(typeof window>"u"||"http:"===window.location.protocol)return(v=new Error("NavigatorUserMediaError")).name="HTTPS_REQUIRED",C(v);if(window.navigator.userAgent.match("Chrome")){var d=parseInt(window.navigator.userAgent.match(/Chrome\/(.*) /)[1],10),f=33,h=!window.chrome.webstore;if(window.navigator.userAgent.match("Linux")&&(f=35),sessionStorage.getScreenMediaJSExtensionId)chrome.runtime.sendMessage(sessionStorage.getScreenMediaJSExtensionId,{type:"getScreen",id:1},null,function(I){if(I&&""!==I.sourceId)(D=g&&D||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3}}}).video.mandatory.chromeMediaSourceId=I.sourceId,u(D,C);else{var A=new Error("NavigatorUserMediaError");A.name="PERMISSION_DENIED",C(A)}});else if(window.cefGetScreenMedia)window.cefGetScreenMedia(function(I){if(I)(D=g&&D||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=I,u(D,C);else{var A=new Error("cefGetScreenMediaError");A.name="CEF_GETSCREENMEDIA_CANCELED",C(A)}});else if(h||d>=26&&d<=f)D=g&&D||{video:{mandatory:{googLeakyBucket:!0,maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3,chromeMediaSource:"screen"}}},u(D,C);else{var _=window.setTimeout(function(){return(v=new Error("NavigatorUserMediaError")).name="EXTENSION_UNAVAILABLE",C(v)},1e3);b[_]=[C,g?D:null],window.postMessage({type:"getScreen",id:_},"*")}}else window.navigator.userAgent.match("Firefox")&&(parseInt(window.navigator.userAgent.match(/Firefox\/(.*)/)[1],10)>=33?u(D=g&&D||{video:{mozMediaSource:"window",mediaSource:"window"}},function(I,A){if(C(I,A),!I)var O=A.currentTime,L=window.setInterval(function(){A||window.clearInterval(L),A.currentTime==O&&(window.clearInterval(L),A.onended&&A.onended()),O=A.currentTime},500)}):(v=new Error("NavigatorUserMediaError")).name="EXTENSION_UNAVAILABLE")},typeof window<"u"&&window.addEventListener("message",function(D){if(D.origin==window.location.origin)if("gotScreen"==D.data.type&&b[D.data.id]){var y=b[D.data.id],g=y[1],C=y[0];if(delete b[D.data.id],""===D.data.sourceId){var v=new Error("NavigatorUserMediaError");v.name="PERMISSION_DENIED",C(v)}else(g=g||{audio:!1,video:{mandatory:{chromeMediaSource:"desktop",maxWidth:window.screen.width,maxHeight:window.screen.height,maxFrameRate:3},optional:[{googLeakyBucket:!0},{googTemporalLayeredScreencast:!0}]}}).video.mandatory.chromeMediaSourceId=D.data.sourceId,u(g,C)}else"getScreenPending"==D.data.type&&window.clearTimeout(D.data.id)})},2612:(N,T,w)=>{w(6043),N.exports=function(b,D){var y,v="PermissionDeniedError",f="ConstraintNotSatisfiedError";return 2===arguments.length||(D=b,b={video:!0,audio:!0}),typeof navigator>"u"||!navigator.getUserMedia?((y=new Error("MediaStreamError")).name="NotSupportedError",setTimeout(function(){D(y)},0)):b.audio||b.video?void navigator.mediaDevices.getUserMedia(b).then(function(h){D(null,h)}).catch(function(h){var _;"string"==typeof h?(_=new Error("MediaStreamError")).name=h===v||"PERMISSION_DENIED"===h?v:f:(_=h).name||(h.name=_[v]?v:f),D(_)}):((y=new Error("MediaStreamError")).name="NoMediaRequestedError",setTimeout(function(){D(y)},0))}},6043:(N,T,w)=>{"use strict";!function(){var u=w(8179).log,b=w(8179).browserDetails;N.exports.browserDetails=b,N.exports.extractVersion=w(8179).extractVersion,N.exports.disableLog=w(8179).disableLog;var D=w(4047)||null,y=w(849)||null,g=w(9234)||null,C=w(6083)||null;switch(b.browser){case"opera":case"chrome":if(!D||!D.shimPeerConnection)return void u("Chrome shim is not included in this adapter release.");u("adapter.js shimming chrome."),N.exports.browserShim=D,D.shimGetUserMedia(),D.shimMediaStream(),D.shimSourceObject(),D.shimPeerConnection(),D.shimOnTrack();break;case"firefox":if(!g||!g.shimPeerConnection)return void u("Firefox shim is not included in this adapter release.");u("adapter.js shimming firefox."),N.exports.browserShim=g,g.shimGetUserMedia(),g.shimSourceObject(),g.shimPeerConnection(),g.shimOnTrack();break;case"edge":if(!y||!y.shimPeerConnection)return void u("MS edge shim is not included in this adapter release.");u("adapter.js shimming edge."),N.exports.browserShim=y,y.shimGetUserMedia(),y.shimPeerConnection();break;case"safari":if(!C)return void u("Safari shim is not included in this adapter release.");u("adapter.js shimming safari."),N.exports.browserShim=C,C.shimGetUserMedia();break;default:u("Unsupported browser!")}}()},4047:(N,T,w)=>{"use strict";var u=w(8179).log,b=w(8179).browserDetails,D={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"==typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(y){var g=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=y),this.addEventListener("addstream",this._ontrackpoly=function(C){C.stream.addEventListener("addtrack",function(v){var d=new Event("track");d.track=v.track,d.receiver={track:v.track},d.streams=[C.stream],g.dispatchEvent(d)}),C.stream.getTracks().forEach(function(v){var d=new Event("track");d.track=v,d.receiver={track:v},d.streams=[C.stream],this.dispatchEvent(d)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(y){var g=this;this._srcObject=y,this.src&&URL.revokeObjectURL(this.src),y?(this.src=URL.createObjectURL(y),y.addEventListener("addtrack",function(){g.src&&URL.revokeObjectURL(g.src),g.src=URL.createObjectURL(y)}),y.addEventListener("removetrack",function(){g.src&&URL.revokeObjectURL(g.src),g.src=URL.createObjectURL(y)})):this.src=""}})},shimPeerConnection:function(){window.RTCPeerConnection=function(g,C){u("PeerConnection"),g&&g.iceTransportPolicy&&(g.iceTransports=g.iceTransportPolicy);var v=new webkitRTCPeerConnection(g,C),d=v.getStats.bind(v);return v.getStats=function(f,h,_){var S=this,I=arguments;if(arguments.length>0&&"function"==typeof f)return d(f,h);var A=function(j){var m={};return j.result().forEach(function(R){var k={id:R.id,timestamp:R.timestamp,type:R.type};R.names().forEach(function(V){k[V]=R.stat(V)}),m[k.id]=k}),m},O=function(j,m){var M=new Map(Object.keys(j).map(function(R){return[R,j[R]]}));return m=m||j,Object.keys(m).forEach(function(R){M[R]=m[R]}),M};return arguments.length>=2?d.apply(this,[function(j){I[1](O(A(j)))},arguments[0]]):new Promise(function(j,m){d.apply(S,1===I.length&&"object"==typeof f?[function(M){j(O(A(M)))},m]:[function(M){j(O(A(M),M.result()))},m])}).then(h,_)},v},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(g){var C=webkitRTCPeerConnection.prototype[g];webkitRTCPeerConnection.prototype[g]=function(){var v=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var d=1===arguments.length?arguments[0]:void 0;return new Promise(function(f,h){C.apply(v,[f,h,d])})}return C.apply(this,arguments)}}),b.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(g){var C=webkitRTCPeerConnection.prototype[g];webkitRTCPeerConnection.prototype[g]=function(){var v=arguments,d=this,f=new Promise(function(h,_){C.apply(d,[v[0],h,_])});return v.length<2?f:f.then(function(){v[1].apply(null,[])},function(h){v.length>=3&&v[2].apply(null,[h])})}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(g){var C=webkitRTCPeerConnection.prototype[g];webkitRTCPeerConnection.prototype[g]=function(){return arguments[0]=new("addIceCandidate"===g?RTCIceCandidate:RTCSessionDescription)(arguments[0]),C.apply(this,arguments)}});var y=RTCPeerConnection.prototype.addIceCandidate;RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?y.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}};N.exports={shimMediaStream:D.shimMediaStream,shimOnTrack:D.shimOnTrack,shimSourceObject:D.shimSourceObject,shimPeerConnection:D.shimPeerConnection,shimGetUserMedia:w(51)}},51:(N,T,w)=>{"use strict";var u=w(8179).log;N.exports=function(){var b=function(d){if("object"!=typeof d||d.mandatory||d.optional)return d;var f={};return Object.keys(d).forEach(function(h){if("require"!==h&&"advanced"!==h&&"mediaSource"!==h){var _="object"==typeof d[h]?d[h]:{ideal:d[h]};void 0!==_.exact&&"number"==typeof _.exact&&(_.min=_.max=_.exact);var S=function(A,O){return A?A+O.charAt(0).toUpperCase()+O.slice(1):"deviceId"===O?"sourceId":O};if(void 0!==_.ideal){f.optional=f.optional||[];var I={};"number"==typeof _.ideal?(I[S("min",h)]=_.ideal,f.optional.push(I),(I={})[S("max",h)]=_.ideal,f.optional.push(I)):(I[S("",h)]=_.ideal,f.optional.push(I))}void 0!==_.exact&&"number"!=typeof _.exact?(f.mandatory=f.mandatory||{},f.mandatory[S("",h)]=_.exact):["min","max"].forEach(function(A){void 0!==_[A]&&(f.mandatory=f.mandatory||{},f.mandatory[S(A,h)]=_[A])})}}),d.advanced&&(f.optional=(f.optional||[]).concat(d.advanced)),f},D=function(d,f){if((d=JSON.parse(JSON.stringify(d)))&&d.audio&&(d.audio=b(d.audio)),d&&"object"==typeof d.video){var h=d.video.facingMode;if((h=h&&("object"==typeof h?h:{ideal:h}))&&("user"===h.exact||"environment"===h.exact||"user"===h.ideal||"environment"===h.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete d.video.facingMode,"environment"===h.exact||"environment"===h.ideal))return navigator.mediaDevices.enumerateDevices().then(function(_){var S=(_=_.filter(function(I){return"videoinput"===I.kind})).find(function(I){return-1!==I.label.toLowerCase().indexOf("back")})||_.length&&_[_.length-1];return S&&(d.video.deviceId=h.exact?{exact:S.deviceId}:{ideal:S.deviceId}),d.video=b(d.video),u("chrome: "+JSON.stringify(d)),f(d)});d.video=b(d.video)}return u("chrome: "+JSON.stringify(d)),f(d)},y=function(d){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[d.name]||d.name,message:d.message,constraint:d.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};navigator.getUserMedia=function(d,f,h){D(d,function(_){navigator.webkitGetUserMedia(_,f,function(S){h(y(S))})})};var C=function(d){return new Promise(function(f,h){navigator.getUserMedia(d,f,h)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:C,enumerateDevices:function(){return new Promise(function(d){var f={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(h){d(h.map(function(_){return{label:_.label,kind:f[_.kind],deviceId:_.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var v=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(d){return D(d,function(f){return v(f).then(function(h){if(f.audio&&!h.getAudioTracks().length||f.video&&!h.getVideoTracks().length)throw h.getTracks().forEach(function(_){_.stop()}),new DOMException("","NotFoundError");return h},function(h){return Promise.reject(y(h))})})}}else navigator.mediaDevices.getUserMedia=function(d){return C(d)};typeof navigator.mediaDevices.addEventListener>"u"&&(navigator.mediaDevices.addEventListener=function(){u("Dummy mediaDevices.addEventListener called.")}),typeof navigator.mediaDevices.removeEventListener>"u"&&(navigator.mediaDevices.removeEventListener=function(){u("Dummy mediaDevices.removeEventListener called.")})}},849:(N,T,w)=>{"use strict";var u=w(7463),b=w(8179).browserDetails;N.exports={shimPeerConnection:function(){if(window.RTCIceGatherer){window.RTCIceCandidate||(window.RTCIceCandidate=function(g){return g}),window.RTCSessionDescription||(window.RTCSessionDescription=function(g){return g});var y=Object.getOwnPropertyDescriptor(MediaStreamTrack.prototype,"enabled");Object.defineProperty(MediaStreamTrack.prototype,"enabled",{set:function(g){y.set.call(this,g);var C=new Event("enabled");C.enabled=g,this.dispatchEvent(C)}})}window.RTCPeerConnection=function(g){var C=this,v=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(f){C[f]=v[f].bind(v)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return C.localStreams},this.getRemoteStreams=function(){return C.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},g&&g.iceTransportPolicy)switch(g.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=g.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}if(this.usingBundle=g&&"max-bundle"===g.bundlePolicy,g&&g.iceServers){var d=JSON.parse(JSON.stringify(g.iceServers));this.iceOptions.iceServers=d.filter(function(f){if(f&&f.urls){var h=f.urls;return"string"==typeof h&&(h=[h]),!!(h=h.filter(function(_){return 0===_.indexOf("turn:")&&-1!==_.indexOf("transport=udp")&&-1===_.indexOf("turn:[")||0===_.indexOf("stun:")&&b.version>=14393})[0])}return!1})}this._config=g,this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var g=this,C=u.splitSections(g.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(v){if(v.candidate&&0!==Object.keys(v.candidate).length)-1===v.candidate.candidate.indexOf("typ endOfCandidates")&&(C[v.candidate.sdpMLineIndex+1]+="a="+v.candidate.candidate+"\r\n");else for(var f=1;f<C.length;f++)-1===C[f].indexOf("\r\na=end-of-candidates\r\n")&&(C[f]+="a=end-of-candidates\r\n");g.localDescription.sdp=C.join(""),g.dispatchEvent(v),null!==g.onicecandidate&&g.onicecandidate(v),v.candidate||"complete"===g.iceGatheringState||g.transceivers.every(function(_){return _.iceGatherer&&"completed"===_.iceGatherer.state})&&(g.iceGatheringState="complete")}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.getConfiguration=function(){return this._config},window.RTCPeerConnection.prototype.addStream=function(g){var C=g.clone();g.getTracks().forEach(function(v,d){var f=C.getTracks()[d];v.addEventListener("enabled",function(h){f.enabled=h.enabled})}),this.localStreams.push(C),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(g){var C=this.localStreams.indexOf(g);C>-1&&(this.localStreams.splice(C,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(g){return!!g.rtpSender}).map(function(g){return g.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(g){return!!g.rtpReceiver}).map(function(g){return g.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(g,C){var v={codecs:[],headerExtensions:[],fecMechanisms:[]};return g.codecs.forEach(function(d){for(var f=0;f<C.codecs.length;f++){var h=C.codecs[f];if(d.name.toLowerCase()===h.name.toLowerCase()&&d.clockRate===h.clockRate){h.numChannels=Math.min(d.numChannels,h.numChannels),v.codecs.push(h),h.rtcpFeedback=h.rtcpFeedback.filter(function(_){for(var S=0;S<d.rtcpFeedback.length;S++)if(d.rtcpFeedback[S].type===_.type&&d.rtcpFeedback[S].parameter===_.parameter)return!0;return!1});break}}}),g.headerExtensions.forEach(function(d){for(var f=0;f<C.headerExtensions.length;f++){var h=C.headerExtensions[f];if(d.uri===h.uri){v.headerExtensions.push(h);break}}}),v},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(g,C){var v=this,d=new RTCIceGatherer(v.iceOptions),f=new RTCIceTransport(d);d.onlocalcandidate=function(_){var S=new Event("icecandidate");S.candidate={sdpMid:g,sdpMLineIndex:C};var I=_.candidate,A=!I||0===Object.keys(I).length;A?(void 0===d.state&&(d.state="completed"),S.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(I.component="RTCP"===f.component?2:1,S.candidate.candidate=u.writeCandidate(I));var O=u.splitSections(v.localDescription.sdp);-1===S.candidate.candidate.indexOf("typ endOfCandidates")?O[S.candidate.sdpMLineIndex+1]+="a="+S.candidate.candidate+"\r\n":O[S.candidate.sdpMLineIndex+1]+="a=end-of-candidates\r\n",v.localDescription.sdp=O.join("");var L=v.transceivers.every(function(j){return j.iceGatherer&&"completed"===j.iceGatherer.state});switch(v.iceGatheringState){case"new":v._localIceCandidatesBuffer.push(S),A&&L&&v._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":v._emitBufferedCandidates(),v.dispatchEvent(S),null!==v.onicecandidate&&v.onicecandidate(S),L&&(v.dispatchEvent(new Event("icecandidate")),null!==v.onicecandidate&&v.onicecandidate(new Event("icecandidate")),v.iceGatheringState="complete")}},f.onicestatechange=function(){v._updateConnectionState()};var h=new RTCDtlsTransport(f);return h.ondtlsstatechange=function(){v._updateConnectionState()},h.onerror=function(){h.state="failed",v._updateConnectionState()},{iceGatherer:d,iceTransport:f,dtlsTransport:h}},window.RTCPeerConnection.prototype._transceive=function(g,C,v){var d=this._getCommonCapabilities(g.localCapabilities,g.remoteCapabilities);C&&g.rtpSender&&(d.encodings=g.sendEncodingParameters,d.rtcp={cname:u.localCName},g.recvEncodingParameters.length&&(d.rtcp.ssrc=g.recvEncodingParameters[0].ssrc),g.rtpSender.send(d)),v&&g.rtpReceiver&&("video"===g.kind&&g.recvEncodingParameters&&g.recvEncodingParameters.forEach(function(f){delete f.rtx}),d.encodings=g.recvEncodingParameters,d.rtcp={cname:g.cname},g.sendEncodingParameters.length&&(d.rtcp.ssrc=g.sendEncodingParameters[0].ssrc),g.rtpReceiver.receive(d))},window.RTCPeerConnection.prototype.setLocalDescription=function(g){var v,d,C=this;if("offer"===g.type)this._pendingOffer&&(v=u.splitSections(g.sdp),d=v.shift(),v.forEach(function(I,A){var O=u.parseRtpParameters(I);C._pendingOffer[A].localCapabilities=O}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===g.type){v=u.splitSections(C.remoteDescription.sdp),d=v.shift();var f=u.matchPrefix(d,"a=ice-lite").length>0;v.forEach(function(I,A){var O=C.transceivers[A],L=O.iceGatherer,j=O.iceTransport,m=O.dtlsTransport,M=O.localCapabilities,R=O.remoteCapabilities;if("0"!==I.split("\n",1)[0].split(" ",2)[1]&&!O.isDatachannel){var V=u.getIceParameters(I,d);if(f){var q=u.matchPrefix(I,"a=candidate:").map(function(fe){return u.parseCandidate(fe)}).filter(function(fe){return"1"===fe.component});q.length&&j.setRemoteCandidates(q)}var U=u.getDtlsParameters(I,d);f&&(U.role="server"),(!C.usingBundle||0===A)&&(j.start(L,V,f?"controlling":"controlled"),m.start(U));var G=C._getCommonCapabilities(M,R);C._transceive(O,G.codecs.length>0,!1)}})}switch(this.localDescription={type:g.type,sdp:g.sdp},g.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+g.type+'"')}var h=arguments.length>1&&"function"==typeof arguments[1];if(h){var _=arguments[1];window.setTimeout(function(){_(),"new"===C.iceGatheringState&&(C.iceGatheringState="gathering"),C._emitBufferedCandidates()},0)}var S=Promise.resolve();return S.then(function(){h||("new"===C.iceGatheringState&&(C.iceGatheringState="gathering"),window.setTimeout(C._emitBufferedCandidates.bind(C),500))}),S},window.RTCPeerConnection.prototype.setRemoteDescription=function(g){var C=this,v=new MediaStream,d=[],f=u.splitSections(g.sdp),h=f.shift(),_=u.matchPrefix(h,"a=ice-lite").length>0;switch(this.usingBundle=u.matchPrefix(h,"a=group:BUNDLE ").length>0,f.forEach(function(S,I){var O=u.splitLines(S)[0].substr(2).split(" "),L=O[0],j="0"===O[1],m=u.getDirection(S,h),M=u.matchPrefix(S,"a=mid:");if(M=M.length?M[0].substr(6):u.generateIdentifier(),"application"!==L||"DTLS/SCTP"!==O[2]){var R,k,V,q,U,G,fe,$,W,ne,de,ve,te=u.parseRtpParameters(S);j||(de=u.getIceParameters(S,h),(ve=u.getDtlsParameters(S,h)).role="client"),$=u.parseRtpEncodingParameters(S);var he,ue=u.matchPrefix(S,"a=ssrc:").map(function(H){return u.parseSsrcMedia(H)}).filter(function(H){return"cname"===H.attribute})[0];ue&&(he=ue.value);var oe=u.matchPrefix(S,"a=end-of-candidates",h).length>0,Ce=u.matchPrefix(S,"a=candidate:").map(function(H){return u.parseCandidate(H)}).filter(function(H){return"1"===H.component});if("offer"!==g.type||j)"answer"===g.type&&!j&&(k=(R=C.transceivers[I]).iceGatherer,V=R.iceTransport,q=R.dtlsTransport,U=R.rtpSender,G=R.rtpReceiver,fe=R.sendEncodingParameters,W=R.localCapabilities,C.transceivers[I].recvEncodingParameters=$,C.transceivers[I].remoteCapabilities=te,C.transceivers[I].cname=he,(_||oe)&&Ce.length&&V.setRemoteCandidates(Ce),(!C.usingBundle||0===I)&&(V.start(k,de,"controlling"),q.start(ve)),C._transceive(R,"sendrecv"===m||"recvonly"===m,"sendrecv"===m||"sendonly"===m),!G||"sendrecv"!==m&&"sendonly"!==m?delete R.rtpReceiver:(d.push([ne=G.track,G]),v.addTrack(ne)));else{var F,we=C.usingBundle&&I>0?{iceGatherer:C.transceivers[0].iceGatherer,iceTransport:C.transceivers[0].iceTransport,dtlsTransport:C.transceivers[0].dtlsTransport}:C._createIceAndDtlsTransports(M,I);oe&&we.iceTransport.setRemoteCandidates(Ce),(W=RTCRtpReceiver.getCapabilities(L)).codecs=W.codecs.filter(function(H){return"rtx"!==H.name}),fe=[{ssrc:1001*(2*I+2)}],G=new RTCRtpReceiver(we.dtlsTransport,L),d.push([ne=G.track,G]),v.addTrack(ne),C.localStreams.length>0&&C.localStreams[0].getTracks().length>=I&&("audio"===L?F=C.localStreams[0].getAudioTracks()[0]:"video"===L&&(F=C.localStreams[0].getVideoTracks()[0]),F&&(U=new RTCRtpSender(F,we.dtlsTransport))),C.transceivers[I]={iceGatherer:we.iceGatherer,iceTransport:we.iceTransport,dtlsTransport:we.dtlsTransport,localCapabilities:W,remoteCapabilities:te,rtpSender:U,rtpReceiver:G,kind:L,mid:M,cname:he,sendEncodingParameters:fe,recvEncodingParameters:$},C._transceive(C.transceivers[I],!1,"sendrecv"===m||"sendonly"===m)}}else C.transceivers[I]={mid:M,isDatachannel:!0}}),this.remoteDescription={type:g.type,sdp:g.sdp},g.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+g.type+'"')}return v.getTracks().length&&(C.remoteStreams.push(v),window.setTimeout(function(){var S=new Event("addstream");S.stream=v,C.dispatchEvent(S),null!==C.onaddstream&&window.setTimeout(function(){C.onaddstream(S)},0),d.forEach(function(I){var A=I[0],O=I[1],L=new Event("track");L.track=A,L.receiver=O,L.streams=[v],C.dispatchEvent(S),null!==C.ontrack&&window.setTimeout(function(){C.ontrack(L)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(g){g.iceTransport&&g.iceTransport.stop(),g.dtlsTransport&&g.dtlsTransport.stop(),g.rtpSender&&g.rtpSender.stop(),g.rtpReceiver&&g.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(g){this.signalingState=g;var C=new Event("signalingstatechange");this.dispatchEvent(C),null!==this.onsignalingstatechange&&this.onsignalingstatechange(C)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var g=new Event("negotiationneeded");this.dispatchEvent(g),null!==this.onnegotiationneeded&&this.onnegotiationneeded(g)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var C,v={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(f){v[f.iceTransport.state]++,v[f.dtlsTransport.state]++}),v.connected+=v.completed,C="new",v.failed>0?C="failed":v.connecting>0||v.checking>0?C="connecting":v.disconnected>0?C="disconnected":v.new>0?C="new":(v.connected>0||v.completed>0)&&(C="connected"),C!==this.iceConnectionState){this.iceConnectionState=C;var d=new Event("iceconnectionstatechange");this.dispatchEvent(d),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(d)}},window.RTCPeerConnection.prototype.createOffer=function(){var C,g=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!=typeof arguments[0]?C=arguments[0]:3===arguments.length&&(C=arguments[2]);var v=[],d=0,f=0;if(this.localStreams.length&&(d=this.localStreams[0].getAudioTracks().length,f=this.localStreams[0].getVideoTracks().length),C){if(C.mandatory||C.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==C.offerToReceiveAudio&&(d=C.offerToReceiveAudio),void 0!==C.offerToReceiveVideo&&(f=C.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(I){v.push({kind:I.kind,track:I,wantReceive:"audio"===I.kind?d>0:f>0}),"audio"===I.kind?d--:"video"===I.kind&&f--});d>0||f>0;)d>0&&(v.push({kind:"audio",wantReceive:!0}),d--),f>0&&(v.push({kind:"video",wantReceive:!0}),f--);var h=u.writeSessionBoilerplate(),_=[];v.forEach(function(I,A){var O=I.track,L=I.kind,j=u.generateIdentifier(),m=g.usingBundle&&A>0?{iceGatherer:_[0].iceGatherer,iceTransport:_[0].iceTransport,dtlsTransport:_[0].dtlsTransport}:g._createIceAndDtlsTransports(j,A),M=RTCRtpSender.getCapabilities(L);M.codecs=M.codecs.filter(function(q){return"rtx"!==q.name}),M.codecs.forEach(function(q){"H264"===q.name&&void 0===q.parameters["level-asymmetry-allowed"]&&(q.parameters["level-asymmetry-allowed"]="1")});var R,k,V=[{ssrc:1001*(2*A+1)}];O&&(R=new RTCRtpSender(O,m.dtlsTransport)),I.wantReceive&&(k=new RTCRtpReceiver(m.dtlsTransport,L)),_[A]={iceGatherer:m.iceGatherer,iceTransport:m.iceTransport,dtlsTransport:m.dtlsTransport,localCapabilities:M,remoteCapabilities:null,rtpSender:R,rtpReceiver:k,kind:L,mid:j,sendEncodingParameters:V,recvEncodingParameters:null}}),this.usingBundle&&(h+="a=group:BUNDLE "+_.map(function(I){return I.mid}).join(" ")+"\r\n"),v.forEach(function(I,A){var O=_[A];h+=u.writeMediaSection(O,O.localCapabilities,"offer",g.localStreams[0])}),this._pendingOffer=_;var S=new RTCSessionDescription({type:"offer",sdp:h});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,S),Promise.resolve(S)},window.RTCPeerConnection.prototype.createAnswer=function(){var g=this,C=u.writeSessionBoilerplate();this.usingBundle&&(C+="a=group:BUNDLE "+this.transceivers.map(function(d){return d.mid}).join(" ")+"\r\n"),this.transceivers.forEach(function(d){if(d.isDatachannel)C+="m=application 0 DTLS/SCTP 5000\r\nc=IN IP4 0.0.0.0\r\na=mid:"+d.mid+"\r\n";else{var f=g._getCommonCapabilities(d.localCapabilities,d.remoteCapabilities);C+=u.writeMediaSection(d,f,"answer",g.localStreams[0])}});var v=new RTCSessionDescription({type:"answer",sdp:C});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,v),Promise.resolve(v)},window.RTCPeerConnection.prototype.addIceCandidate=function(g){if(g){var C=g.sdpMLineIndex;if(g.sdpMid)for(var v=0;v<this.transceivers.length;v++)if(this.transceivers[v].mid===g.sdpMid){C=v;break}var d=this.transceivers[C];if(d){var f=Object.keys(g.candidate).length>0?u.parseCandidate(g.candidate):{};if("tcp"===f.protocol&&(0===f.port||9===f.port)||"1"!==f.component)return;"endOfCandidates"===f.type&&(f={}),d.iceTransport.addRemoteCandidate(f);var h=u.splitSections(this.remoteDescription.sdp);h[C+1]+=(f.type?g.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=h.join("")}}else this.transceivers.forEach(function(_){_.iceTransport.addRemoteCandidate({})});return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var g=[];this.transceivers.forEach(function(v){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(d){v[d]&&g.push(v[d].getStats())})});var C=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(v){var d=new Map;Promise.all(g).then(function(f){f.forEach(function(h){Object.keys(h).forEach(function(_){d.set(_,h[_]),d[_]=h[_]})}),C&&window.setTimeout(C,0,d),v(d)})})}},shimGetUserMedia:w(9498)}},9498:N=>{"use strict";N.exports=function(){var w=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(u){return w(u).catch(function(b){return Promise.reject(function(u){return{name:{PermissionDeniedError:"NotAllowedError"}[u.name]||u.name,message:u.message,constraint:u.constraint,toString:function(){return this.name}}}(b))})}}},9234:(N,T,w)=>{"use strict";var u=w(8179).browserDetails,b={shimOnTrack:function(){"object"==typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(D){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=D),this.addEventListener("addstream",this._ontrackpoly=function(y){y.stream.getTracks().forEach(function(g){var C=new Event("track");C.track=g,C.receiver={track:g},C.streams=[y.stream],this.dispatchEvent(C)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(D){this.mozSrcObject=D}})},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(C,v){if(u.version<38&&C&&C.iceServers){for(var d=[],f=0;f<C.iceServers.length;f++){var h=C.iceServers[f];if(h.hasOwnProperty("urls"))for(var _=0;_<h.urls.length;_++){var S={url:h.urls[_]};0===h.urls[_].indexOf("turn")&&(S.username=h.username,S.credential=h.credential),d.push(S)}else d.push(C.iceServers[f])}C.iceServers=d}return new mozRTCPeerConnection(C,v)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(C){var v=RTCPeerConnection.prototype[C];RTCPeerConnection.prototype[C]=function(){return arguments[0]=new("addIceCandidate"===C?RTCIceCandidate:RTCSessionDescription)(arguments[0]),v.apply(this,arguments)}});var D=RTCPeerConnection.prototype.addIceCandidate;if(RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?D.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())},u.version<48){var g=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(C,v,d){return g.apply(this,[C||null]).then(function(f){return function(C){var v=new Map;return Object.keys(C).forEach(function(d){v.set(d,C[d]),v[d]=C[d]}),v}(f)}).then(v,d)}}}}};N.exports={shimOnTrack:b.shimOnTrack,shimSourceObject:b.shimSourceObject,shimPeerConnection:b.shimPeerConnection,shimGetUserMedia:w(8708)}},8708:(N,T,w)=>{"use strict";var u=w(8179).log,b=w(8179).browserDetails;N.exports=function(){var D=function(d){return{name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[d.name]||d.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[d.message]||d.message,constraint:d.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},y=function(d,f,h){var _=function(S){if("object"!=typeof S||S.require)return S;var I=[];return Object.keys(S).forEach(function(A){if("require"!==A&&"advanced"!==A&&"mediaSource"!==A){var O=S[A]="object"==typeof S[A]?S[A]:{ideal:S[A]};if((void 0!==O.min||void 0!==O.max||void 0!==O.exact)&&I.push(A),void 0!==O.exact&&("number"==typeof O.exact?O.min=O.max=O.exact:S[A]=O.exact,delete O.exact),void 0!==O.ideal){S.advanced=S.advanced||[];var L={};L[A]="number"==typeof O.ideal?{min:O.ideal,max:O.ideal}:O.ideal,S.advanced.push(L),delete O.ideal,Object.keys(O).length||delete S[A]}}}),I.length&&(S.require=I),S};return d=JSON.parse(JSON.stringify(d)),b.version<38&&(u("spec: "+JSON.stringify(d)),d.audio&&(d.audio=_(d.audio)),d.video&&(d.video=_(d.video)),u("ff37: "+JSON.stringify(d))),navigator.mozGetUserMedia(d,f,function(S){h(D(S))})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(d){return new Promise(function(f,h){y(d,f,h)})},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(d){d([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},b.version<41){var C=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return C().then(void 0,function(d){if("NotFoundError"===d.name)return[];throw d})}}if(b.version<49){var v=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(d){return v(d).then(function(f){if(d.audio&&!f.getAudioTracks().length||d.video&&!f.getVideoTracks().length)throw f.getTracks().forEach(function(h){h.stop()}),new DOMException("The object can not be found here.","NotFoundError");return f},function(f){return Promise.reject(D(f))})}}navigator.getUserMedia=function(d,f,h){if(b.version<44)return y(d,f,h);console.warn("navigator.getUserMedia has been replaced by navigator.mediaDevices.getUserMedia"),navigator.mediaDevices.getUserMedia(d).then(f,h)}}},6083:N=>{"use strict";N.exports={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}}},8179:N=>{"use strict";var T=!0,w={disableLog:function(u){return"boolean"!=typeof u?new Error("Argument type: "+typeof u+". Please use a boolean."):(T=u,u?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(T)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(u,b,D){var y=u.match(b);return y&&y.length>=D&&parseInt(y[D],10)},detectBrowser:function(){var u={browser:null,version:null};if(typeof window>"u"||!window.navigator)return u.browser="Not a browser.",u;if(navigator.mozGetUserMedia)u.browser="firefox",u.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1);else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)u.browser="chrome",u.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2);else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return u.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",u;u.browser="safari",u.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1)}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return u.browser="Not a supported browser.",u;u.browser="edge",u.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2)}return u}};N.exports={log:w.log,disableLog:w.disableLog,browserDetails:w.detectBrowser(),extractVersion:w.extractVersion}},9590:(N,T,w)=>{w(6868),N.exports=function(b,D){var y,v="PermissionDeniedError",f="ConstraintNotSatisfiedError";return 2===arguments.length||(D=b,b={video:!0,audio:!0}),typeof navigator>"u"||!navigator.getUserMedia?((y=new Error("MediaStreamError")).name="NotSupportedError",setTimeout(function(){D(y)},0)):b.audio||b.video?(localStorage&&"true"===localStorage.useFirefoxFakeDevice&&(b.fake=!0),void navigator.mediaDevices.getUserMedia(b).then(function(h){D(null,h)}).catch(function(h){var _;"string"==typeof h?(_=new Error("MediaStreamError")).name=h===v||"PERMISSION_DENIED"===h?v:f:(_=h).name||(h.name=_[v]?v:f),D(_)})):((y=new Error("MediaStreamError")).name="NoMediaRequestedError",setTimeout(function(){D(y)},0))}},7378:(N,T,w)=>{"use strict";var b=w(5203)("%Object.getOwnPropertyDescriptor%",!0);if(b)try{b([],"length")}catch{b=null}N.exports=b},5164:(N,T,w)=>{var D,u=w(2069);typeof window<"u"&&(D=window.AudioContext||window.webkitAudioContext);var y=null;N.exports=function(g,d){var v=new u;if(!D)return v;var O,L,j,f=(d=d||{}).smoothing||.1,h=d.interval||50,_=d.threshold,S=d.play,I=d.history||10,A=!0;y=d.audioContext||y||new D,(j=y.createAnalyser()).fftSize=512,j.smoothingTimeConstant=f,L=new Float32Array(j.frequencyBinCount),g.jquery&&(g=g[0]),g instanceof HTMLAudioElement||g instanceof HTMLVideoElement?(O=y.createMediaElementSource(g),typeof S>"u"&&(S=!0),_=_||-50):(O=y.createMediaStreamSource(g),_=_||-50),O.connect(j),S&&j.connect(y.destination),v.speaking=!1,v.suspend=function(){return y.suspend()},v.resume=function(){return y.resume()},Object.defineProperty(v,"state",{get:function(){return y.state}}),y.onstatechange=function(){v.emit("state_change",y.state)},v.setThreshold=function(R){_=R},v.setInterval=function(R){h=R},v.stop=function(){A=!1,v.emit("volume_change",-100,_),v.speaking&&(v.speaking=!1,v.emit("stopped_speaking")),j.disconnect(),O.disconnect()},v.speakingHistory=[];for(var m=0;m<I;m++)v.speakingHistory.push(0);var M=function(){setTimeout(function(){if(A){var R=function b(g,C){var v=-1/0;g.getFloatFrequencyData(C);for(var d=4,f=C.length;d<f;d++)C[d]>v&&C[d]<0&&(v=C[d]);return v}(j,L);v.emit("volume_change",R,_);var k=0;if(R>_&&!v.speaking){for(var V=v.speakingHistory.length-3;V<v.speakingHistory.length;V++)k+=v.speakingHistory[V];k>=2&&(v.speaking=!0,v.emit("speaking"))}else if(R<_&&v.speaking){for(V=0;V<v.speakingHistory.length;V++)k+=v.speakingHistory[V];0==k&&(v.speaking=!1,v.emit("stopped_speaking"))}v.speakingHistory.shift(),v.speakingHistory.push(0+(R>_)),M()}},h)};return M(),v}},7027:(N,T,w)=>{"use strict";var u=w(3907),b=function(){return!!u};b.hasArrayLengthDefineBug=function(){if(!u)return null;try{return 1!==u([],"length",{value:1}).length}catch{return!0}},N.exports=b},9757:N=>{"use strict";var T={__proto__:null,foo:{}},w=Object;N.exports=function(){return{__proto__:T}.foo===T.foo&&!(T instanceof w)}},2969:(N,T,w)=>{"use strict";var u=typeof Symbol<"u"&&Symbol,b=w(1983);N.exports=function(){return"function"==typeof u&&"function"==typeof Symbol&&"symbol"==typeof u("foo")&&"symbol"==typeof Symbol("bar")&&b()}},1983:N=>{"use strict";N.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var w={},u=Symbol("test"),b=Object(u);if("string"==typeof u||"[object Symbol]"!==Object.prototype.toString.call(u)||"[object Symbol]"!==Object.prototype.toString.call(b))return!1;for(u in w[u]=42,w)return!1;if("function"==typeof Object.keys&&0!==Object.keys(w).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(w).length)return!1;var y=Object.getOwnPropertySymbols(w);if(1!==y.length||y[0]!==u||!Object.prototype.propertyIsEnumerable.call(w,u))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var g=Object.getOwnPropertyDescriptor(w,u);if(42!==g.value||!0!==g.enumerable)return!1}return!0}},6259:(N,T,w)=>{"use strict";var u=w(1983);N.exports=function(){return u()&&!!Symbol.toStringTag}},7699:(N,T,w)=>{"use strict";var u=Function.prototype.call,b=Object.prototype.hasOwnProperty,D=w(4444);N.exports=D.call(u,b)},3894:N=>{N.exports="function"==typeof Object.create?function(w,u){u&&(w.super_=u,w.prototype=Object.create(u.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}))}:function(w,u){if(u){w.super_=u;var b=function(){};b.prototype=u.prototype,w.prototype=new b,w.prototype.constructor=w}}},3407:(N,T,w)=>{"use strict";var u=w(6259)(),D=w(5834)("Object.prototype.toString"),y=function(d){return!(u&&d&&"object"==typeof d&&Symbol.toStringTag in d)&&"[object Arguments]"===D(d)},g=function(d){return!!y(d)||null!==d&&"object"==typeof d&&"number"==typeof d.length&&d.length>=0&&"[object Array]"!==D(d)&&"[object Function]"===D(d.callee)},C=function(){return y(arguments)}();y.isLegacyArguments=g,N.exports=C?y:g},7566:N=>{"use strict";var u,b,T=Function.prototype.toString,w="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof w&&"function"==typeof Object.defineProperty)try{u=Object.defineProperty({},"length",{get:function(){throw b}}),b={},w(function(){throw 42},null,u)}catch(j){j!==b&&(w=null)}else w=null;var D=/^\s*class\b/,y=function(m){try{var M=T.call(m);return D.test(M)}catch{return!1}},g=function(m){try{return!y(m)&&(T.call(m),!0)}catch{return!1}},C=Object.prototype.toString,I="function"==typeof Symbol&&!!Symbol.toStringTag,A=!(0 in[,]),O=function(){return!1};if("object"==typeof document){var L=document.all;C.call(L)===C.call(document.all)&&(O=function(m){if((A||!m)&&(typeof m>"u"||"object"==typeof m))try{var M=C.call(m);return("[object HTMLAllCollection]"===M||"[object HTML document.all class]"===M||"[object HTMLCollection]"===M||"[object Object]"===M)&&null==m("")}catch{}return!1})}N.exports=w?function(m){if(O(m))return!0;if(!m||"function"!=typeof m&&"object"!=typeof m)return!1;try{w(m,null,u)}catch(M){if(M!==b)return!1}return!y(m)&&g(m)}:function(m){if(O(m))return!0;if(!m||"function"!=typeof m&&"object"!=typeof m)return!1;if(I)return g(m);if(y(m))return!1;var M=C.call(m);return!("[object Function]"!==M&&"[object GeneratorFunction]"!==M&&!/^\[object HTML/.test(M))&&g(m)}},110:(N,T,w)=>{"use strict";var v,u=Object.prototype.toString,b=Function.prototype.toString,D=/^\s*(?:function)?\*/,y=w(6259)(),g=Object.getPrototypeOf;N.exports=function(f){if("function"!=typeof f)return!1;if(D.test(b.call(f)))return!0;if(!y)return"[object GeneratorFunction]"===u.call(f);if(!g)return!1;if(typeof v>"u"){var _=function(){if(!y)return!1;try{return Function("return function*() {}")()}catch{}}();v=!!_&&g(_)}return g(f)===v}},597:(N,T,w)=>{"use strict";var u=w(2031);N.exports=function(D){return!!u(D)}},530:(N,T,w)=>{var u=w(6788),b=w(5164),D=w(5009),y=w(9590),g=w(6703),C=w(2069),v=w(8664),d=w(2957);function f(h){C.call(this);var S,_=this.config={autoAdjustMic:!1,detectSpeakingEvents:!1,audioFallback:!1,media:{audio:!0,video:!0},logger:d};for(S in h)this.config[S]=h[S];this.logger=_.logger,this._log=this.logger.log.bind(this.logger,"LocalMedia:"),this._logerror=this.logger.error.bind(this.logger,"LocalMedia:"),this.screenSharingSupport=D.screenSharing,this.localStreams=[],this.localScreens=[],D.supportGetUserMedia||this._logerror("Your browser does not support local media capture.")}u.inherits(f,C),f.prototype.start=function(h,_){var S=this,I=h||this.config.media;y(I,function(A,O){if(A){if(S.config.audioFallback&&"DevicesNotFoundError"===A.name&&!1!==I.video)return I.video=!1,void S.start(I,_)}else I.audio&&S.config.detectSpeakingEvents&&S.setupAudioMonitor(O,S.config.harkOptions),S.localStreams.push(O),S.config.autoAdjustMic&&(S.gainController=new v(O),S.setMicIfEnabled(.5)),O.onended=function(){},S.emit("localStream",O);if(_)return _(A,O)})},f.prototype.stop=function(h){var _=this;if(h){h.getTracks().forEach(function(I){I.stop()});var S=_.localStreams.indexOf(h);S>-1?(_.emit("localStreamStopped",h),_.localStreams=_.localStreams.splice(S,1)):(S=_.localScreens.indexOf(h))>-1&&(_.emit("localScreenStopped",h),_.localScreens=_.localScreens.splice(S,1))}else this.stopStreams(),this.stopScreenShare()},f.prototype.stopStreams=function(){var h=this;this.audioMonitor&&(this.audioMonitor.stop(),delete this.audioMonitor),this.localStreams.forEach(function(_){_.getTracks().forEach(function(S){S.stop()}),h.emit("localStreamStopped",_)}),this.localStreams=[]},f.prototype.startScreenShare=function(h){var _=this;g(function(S,I){if(S||(_.localScreens.push(I),I.onended=function(){var A=_.localScreens.indexOf(I);A>-1&&_.localScreens.splice(A,1),_.emit("localScreenStopped",I)},_.emit("localScreen",I)),h)return h(S,I)})},f.prototype.stopScreenShare=function(h){var _=this;h?(h.getTracks().forEach(function(S){S.stop()}),this.emit("localScreenStopped",h)):(this.localScreens.forEach(function(S){S.getTracks().forEach(function(I){I.stop()}),_.emit("localScreenStopped",S)}),this.localScreens=[])},f.prototype.mute=function(){this._audioEnabled(!1),this.hardMuted=!0,this.emit("audioOff")},f.prototype.unmute=function(){this._audioEnabled(!0),this.hardMuted=!1,this.emit("audioOn")},f.prototype.setupAudioMonitor=function(h,_){this._log("Setup audio");var A,S=this.audioMonitor=b(h,_),I=this;S.on("speaking",function(){I.emit("speaking"),!I.hardMuted&&I.setMicIfEnabled(1)}),S.on("stopped_speaking",function(){A&&clearTimeout(A),A=setTimeout(function(){I.emit("stoppedSpeaking"),!I.hardMuted&&I.setMicIfEnabled(.5)},1e3)}),S.on("volume_change",function(O,L){I.emit("volumeChange",O,L)})},f.prototype.setMicIfEnabled=function(h){this.config.autoAdjustMic&&this.gainController.setGain(h)},f.prototype.pauseVideo=function(){this._videoEnabled(!1),this.emit("videoOff")},f.prototype.resumeVideo=function(){this._videoEnabled(!0),this.emit("videoOn")},f.prototype.pause=function(){this.mute(),this.pauseVideo()},f.prototype.resume=function(){this.unmute(),this.resumeVideo()},f.prototype._audioEnabled=function(h){this.setMicIfEnabled(h?1:0),this.localStreams.forEach(function(_){_.getAudioTracks().forEach(function(S){S.enabled=!!h})})},f.prototype._videoEnabled=function(h){this.localStreams.forEach(function(_){_.getVideoTracks().forEach(function(S){S.enabled=!!h})})},f.prototype.isAudioEnabled=function(){var h=!0;return this.localStreams.forEach(function(_){_.getAudioTracks().forEach(function(S){h=h&&S.enabled})}),h},f.prototype.isVideoEnabled=function(){var h=!0;return this.localStreams.forEach(function(_){_.getVideoTracks().forEach(function(S){h=h&&S.enabled})}),h},f.prototype.startLocalMedia=f.prototype.start,f.prototype.stopLocalMedia=f.prototype.stop,Object.defineProperty(f.prototype,"localStream",{get:function(){return this.localStreams.length>0?this.localStreams[0]:null}}),Object.defineProperty(f.prototype,"localScreen",{get:function(){return this.localScreens.length>0?this.localScreens[0]:null}}),N.exports=f},5009:N=>{var T,w;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(T="moz",w=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(T="webkit",w=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var u=window.RTCPeerConnection||window.mozRTCPeerConnection||window.webkitRTCPeerConnection,b=window.mozRTCIceCandidate||window.RTCIceCandidate,D=window.mozRTCSessionDescription||window.RTCSessionDescription,y=window.webkitMediaStream||window.MediaStream,g="https:"===window.location.protocol&&("webkit"===T&&w>=26||"moz"===T&&w>=33),C=window.AudioContext||window.webkitAudioContext,v=document.createElement("video"),d=v&&v.canPlayType&&"probably"===v.canPlayType('video/webm; codecs="vp8", vorbis'),f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;N.exports={prefix:T,browserVersion:w,support:!!u&&!!f,supportRTCPeerConnection:!!u,supportVp8:d,supportGetUserMedia:!!f,supportDataChannel:!!(u&&u.prototype&&u.prototype.createDataChannel),supportWebAudio:!(!C||!C.prototype.createMediaStreamSource),supportMediaStream:!(!y||!y.prototype.removeTrack),supportScreenSharing:!!g,AudioContext:C,PeerConnection:u,SessionDescription:D,IceCandidate:b,MediaStream:y,getUserMedia:f}},3731:N=>{N.exports=function T(w,u){for(var b=-1,D=w.length;++b<D&&!1!==u(w[b],b,w););return w}},2489:N=>{N.exports=function T(w,u){for(var b=-1,D=w.length,y=Array(D);++b<D;)y[b]=u(w[b],b,w);return y}},1530:(N,T,w)=>{var u=w(2456),b=w(7661),D=w(3062),y=w(9253),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,C=/^\w*$/,v=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,d=/\\(\\)?/g;function _($,W,ne){if(null!=$){void 0!==ne&&ne in k($)&&(W=[ne]);for(var te=0,de=W.length;null!=$&&te<de;)$=$[W[te++]];return te&&te==de?$:void 0}}function M($,W){var ne=typeof $;return!!("string"==ne&&C.test($)||"number"==ne)||!D($)&&(!g.test($)||null!=W&&$ in k(W))}function R($){return $==$&&!U($)}function k($){return U($)?$:Object($)}function V($){if(D($))return $;var W=[];return function f($){return null==$?"":$+""}($).replace(v,function(ne,te,de,ve){W.push(de?ve.replace(d,"$1"):te||ne)}),W}function U($){var W=typeof $;return!!$&&("object"==W||"function"==W)}function G($){return $}N.exports=function h($,W,ne){var te=typeof $;return"function"==te?void 0===W?$:b($,W,ne):null==$?G:"object"==te?function I($){var W=function m($){for(var W=y($),ne=W.length;ne--;)W[ne][2]=R(W[ne][1]);return W}($);if(1==W.length&&W[0][2]){var ne=W[0][0],te=W[0][1];return function(de){return null!=de&&de[ne]===te&&(void 0!==te||ne in k(de))}}return function(de){return function S($,W,ne){var te=W.length,de=te,ve=!ne;if(null==$)return!de;for($=k($);te--;){var he=W[te];if(ve&&he[2]?he[1]!==$[he[0]]:!(he[0]in $))return!1}for(;++te<de;){var ue=(he=W[te])[0],oe=$[ue],Ce=he[1];if(ve&&he[2]){if(void 0===oe&&!(ue in $))return!1}else{var we=ne?ne(oe,Ce,ue):void 0;if(!(void 0===we?u(Ce,oe,ne,!0):we))return!1}}return!0}(de,W)}}($):void 0===W?function fe($){return M($)?function O($){return function(W){return W?.[$]}}($):function L($){var W=$+"";return $=V($),function(ne){return _(ne,$,W)}}($)}($):function A($,W){var ne=D($),te=M($)&&R(W),de=$+"";return $=V($),function(ve){if(null==ve)return!1;var he=de;if(ve=k(ve),(ne||!te)&&!(he in ve)){if(ve=1==$.length?ve:_(ve,function j($,W,ne){var te=-1,de=$.length;(W=null==W?0:+W||0)<0&&(W=-W>de?0:de+W),(ne=void 0===ne||ne>de?de:+ne||0)<0&&(ne+=de),de=W>ne?0:ne-W>>>0,W>>>=0;for(var ve=Array(de);++te<de;)ve[te]=$[te+W];return ve}($,0,-1)),null==ve)return!1;he=function q($){var W=$?$.length:0;return W?$[W-1]:void 0}($),ve=k(ve)}return ve[he]===W?void 0!==W||he in ve:u(W,ve[he],void 0,!0)}}($,W)}},7604:(N,T,w)=>{var u=w(5235),D=function v(I,A){return function(O,L){var j=O?f(O):0;if(!function h(I){return"number"==typeof I&&I>-1&&I%1==0&&I<=9007199254740991}(j))return I(O,L);for(var m=A?j:-1,M=_(O);(A?m--:++m<j)&&!1!==L(M[m],m,M););return O}}(function g(I,A){return y(I,A,u)}),y=function d(I){return function(A,O,L){for(var j=_(A),m=L(A),M=m.length,R=I?M:-1;I?R--:++R<M;){var k=m[R];if(!1===O(j[k],k,j))break}return A}}(),f=function C(I){return function(A){return A?.[I]}}("length");function _(I){return function S(I){var A=typeof I;return!!I&&("object"==A||"function"==A)}(I)?I:Object(I)}N.exports=D},3945:N=>{N.exports=function T(b,D,y){if(null!=b){void 0!==y&&y in function w(b){return function u(b){var D=typeof b;return!!b&&("object"==D||"function"==D)}(b)?b:Object(b)}(b)&&(D=[y]);for(var g=0,C=D.length;null!=b&&g<C;)b=b[D[g++]];return g&&g==C?b:void 0}}},2456:(N,T,w)=>{var u=w(3062),b=w(4603),D=w(5235),y="[object Arguments]",g="[object Array]",h="[object Object]",A=Object.prototype,O=A.hasOwnProperty,L=A.toString;function j(U,G){for(var fe=-1,$=U.length;++fe<$;)if(G(U[fe],fe,U))return!0;return!1}function R(U,G,fe,$,W,ne,te){var de=-1,ve=U.length,he=G.length;if(ve!=he&&!(W&&he>ve))return!1;for(;++de<ve;){var ue=U[de],oe=G[de],Ce=$?$(W?oe:ue,W?ue:oe,de):void 0;if(void 0!==Ce){if(Ce)continue;return!1}if(W){if(!j(G,function(we){return ue===we||fe(ue,we,$,W,ne,te)}))return!1}else if(ue!==oe&&!fe(ue,oe,$,W,ne,te))return!1}return!0}function V(U,G,fe,$,W,ne,te){var de=D(U),ve=de.length;if(ve!=D(G).length&&!W)return!1;for(var oe=ve;oe--;){var Ce=de[oe];if(!(W?Ce in G:O.call(G,Ce)))return!1}for(var we=W;++oe<ve;){var F=U[Ce=de[oe]],H=G[Ce],Y=$?$(W?H:F,W?F:H,Ce):void 0;if(!(void 0===Y?fe(F,H,$,W,ne,te):Y))return!1;we||(we="constructor"==Ce)}if(!we){var ce=U.constructor,_e=G.constructor;if(ce!=_e&&"constructor"in U&&"constructor"in G&&!("function"==typeof ce&&ce instanceof ce&&"function"==typeof _e&&_e instanceof _e))return!1}return!0}N.exports=function m(U,G,fe,$,W,ne){return U===G||(null==U||null==G||!function q(U){var G=typeof U;return!!U&&("object"==G||"function"==G)}(U)&&!function I(U){return!!U&&"object"==typeof U}(G)?U!=U&&G!=G:function M(U,G,fe,$,W,ne,te){var de=u(U),ve=u(G),he=g,ue=g;de||((he=L.call(U))==y?he=h:he!=h&&(de=b(U))),ve||((ue=L.call(G))==y?ue=h:ue!=h&&(ve=b(G)));var oe=he==h,Ce=ue==h,we=he==ue;if(we&&!de&&!oe)return function k(U,G,fe){switch(fe){case"[object Boolean]":case"[object Date]":return+U==+G;case"[object Error]":return U.name==G.name&&U.message==G.message;case"[object Number]":return U!=+U?G!=+G:U==+G;case"[object RegExp]":case"[object String]":return U==G+""}return!1}(U,G,he);if(!W){var F=oe&&O.call(U,"__wrapped__"),H=Ce&&O.call(G,"__wrapped__");if(F||H)return fe(F?U.value():U,H?G.value():G,$,W,ne,te)}if(!we)return!1;ne||(ne=[]),te||(te=[]);for(var Y=ne.length;Y--;)if(ne[Y]==U)return te[Y]==G;ne.push(U),te.push(G);var ce=(de?R:V)(U,G,fe,$,W,ne,te);return ne.pop(),te.pop(),ce}(U,G,m,fe,$,W,ne))}},7661:N=>{function w(u){return u}N.exports=function T(u,b,D){if("function"!=typeof u)return w;if(void 0===b)return u;switch(D){case 1:return function(y){return u.call(b,y)};case 3:return function(y,g,C){return u.call(b,y,g,C)};case 4:return function(y,g,C,v){return u.call(b,y,g,C,v)};case 5:return function(y,g,C,v,d){return u.call(b,y,g,C,v,d)}}return function(){return u.apply(b,arguments)}}},7371:N=>{var w=/^\[object .+?Constructor\]$/,b=Object.prototype,D=Function.prototype.toString,g=b.toString,C=RegExp("^"+D.call(b.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");N.exports=function v(_,S){var I=_?.[S];return function h(_){return null!=_&&(function d(_){return function f(_){var S=typeof _;return!!_&&("object"==S||"function"==S)}(_)&&"[object Function]"==g.call(_)}(_)?C.test(D.call(_)):function u(_){return!!_&&"object"==typeof _}(_)&&w.test(_))}(I)?I:void 0}},8962:(N,T,w)=>{var u=w(3062),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,D=/\\(\\)?/g;N.exports=function g(C){if(u(C))return C;var v=[];return function y(C){return null==C?"":C+""}(C).replace(b,function(d,f,h,_){v.push(h?_.replace(D,"$1"):f||d)}),v}},3877:(N,T,w)=>{var u=w(3731),b=w(7604),D=w(7661),y=w(3062),C=function g(v,d){return function(f,h,_){return"function"==typeof h&&void 0===_&&y(f)?v(f,h):d(f,D(h,_,3))}}(u,b);N.exports=C},7698:N=>{var D=Object.prototype,y=D.hasOwnProperty,g=D.toString,C=D.propertyIsEnumerable;N.exports=function v(A){return function f(A){return function I(A){return!!A&&"object"==typeof A}(A)&&function d(A){return null!=A&&function _(A){return"number"==typeof A&&A>-1&&A%1==0&&A<=9007199254740991}(A.length)&&!function h(A){var O=function S(A){var O=typeof A;return!!A&&("object"==O||"function"==O)}(A)?g.call(A):"";return"[object Function]"==O||"[object GeneratorFunction]"==O}(A)}(A)}(A)&&y.call(A,"callee")&&(!C.call(A,"callee")||"[object Arguments]"==g.call(A))}},3062:N=>{var u=/^\[object .+?Constructor\]$/;function b(L){return!!L&&"object"==typeof L}var D=Object.prototype,y=Function.prototype.toString,C=D.toString,v=RegExp("^"+y.call(D.hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),d=function h(L,j){var m=L?.[j];return function O(L){return null!=L&&(function I(L){return function A(L){var j=typeof L;return!!L&&("object"==j||"function"==j)}(L)&&"[object Function]"==C.call(L)}(L)?v.test(y.call(L)):b(L)&&u.test(L))}(m)?m:void 0}(Array,"isArray");N.exports=d||function(L){return b(L)&&function _(L){return"number"==typeof L&&L>-1&&L%1==0&&L<=9007199254740991}(L.length)&&"[object Array]"==C.call(L)}},4603:N=>{var U={};U["[object Float32Array]"]=U["[object Float64Array]"]=U["[object Int8Array]"]=U["[object Int16Array]"]=U["[object Int32Array]"]=U["[object Uint8Array]"]=U["[object Uint8ClampedArray]"]=U["[object Uint16Array]"]=U["[object Uint32Array]"]=!0,U["[object Arguments]"]=U["[object Array]"]=U["[object ArrayBuffer]"]=U["[object Boolean]"]=U["[object DataView]"]=U["[object Date]"]=U["[object Error]"]=U["[object Function]"]=U["[object Map]"]=U["[object Number]"]=U["[object Object]"]=U["[object RegExp]"]=U["[object Set]"]=U["[object String]"]=U["[object WeakMap]"]=!1;var fe=Object.prototype.toString;N.exports=function ne(te){return function W(te){return!!te&&"object"==typeof te}(te)&&function $(te){return"number"==typeof te&&te>-1&&te%1==0&&te<=9007199254740991}(te.length)&&!!U[fe.call(te)]}},5235:(N,T,w)=>{var u=w(7371),b=w(7698),D=w(3062),y=/^\d+$/,C=Object.prototype.hasOwnProperty,v=u(Object,"keys"),d=9007199254740991,h=function f(m){return function(M){return M?.[m]}}("length");function S(m,M){return m="number"==typeof m||y.test(m)?+m:-1,M=M??d,m>-1&&m%1==0&&m<M}function I(m){return"number"==typeof m&&m>-1&&m%1==0&&m<=d}function A(m){for(var M=function j(m){if(null==m)return[];O(m)||(m=Object(m));var M=m.length;M=M&&I(M)&&(D(m)||b(m))&&M||0;for(var R=m.constructor,k=-1,V="function"==typeof R&&R.prototype===m,q=Array(M),U=M>0;++k<M;)q[k]=k+"";for(var G in m)(!U||!S(G,M))&&("constructor"!=G||!V&&C.call(m,G))&&q.push(G);return q}(m),R=M.length,k=R&&m.length,V=!!k&&I(k)&&(D(m)||b(m)),q=-1,U=[];++q<R;){var G=M[q];(V&&S(G,k)||C.call(m,G))&&U.push(G)}return U}function O(m){var M=typeof m;return!!m&&("object"==M||"function"==M)}N.exports=v?function(m){var M=m?.constructor;return"function"==typeof M&&M.prototype===m||"function"!=typeof m&&function _(m){return null!=m&&I(h(m))}(m)?A(m):O(m)?v(m):[]}:A},5952:(N,T,w)=>{var u=w(2489),b=w(1530),D=w(7604),y=w(3062),g=9007199254740991;function C(S,I){var A=-1,O=function f(S){return null!=S&&function h(S){return"number"==typeof S&&S>-1&&S%1==0&&S<=g}(d(S))}(S)?Array(S.length):[];return D(S,function(L,j,m){O[++A]=I(L,j,m)}),O}var d=function v(S){return function(I){return I?.[S]}}("length");N.exports=function _(S,I,A){return(y(S)?u:C)(S,I=b(I,A,3))}},9253:(N,T,w)=>{var u=w(5235);N.exports=function y(g){g=function b(g){return function D(g){var C=typeof g;return!!g&&("object"==C||"function"==C)}(g)?g:Object(g)}(g);for(var C=-1,v=u(g),d=v.length,f=Array(d);++C<d;){var h=v[C];f[C]=[h,g[h]]}return f}},4720:(N,T,w)=>{var u=w(3945),b=w(8962),D=w(3062),y=w(5952),g=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,C=/^\w*$/;N.exports=function _(A,O){return y(A,function I(A){return function f(A,O){var L=typeof A;return!!("string"==L&&C.test(A)||"number"==L)||!D(A)&&(!g.test(A)||null!=O&&A in function h(A){return function S(A){var O=typeof A;return!!A&&("object"==O||"function"==O)}(A)?A:Object(A)}(O))}(A)?function v(A){return function(O){return O?.[A]}}(A):function d(A){var O=A+"";return A=b(A),function(L){return u(L,A,O)}}(A)}(O))}},8664:(N,T,w)=>{var u=w(9627);function b(D){if(this.support=u.webAudio&&u.mediaStream,this.gain=1,this.support){var y=this.context=new u.AudioContext;this.microphone=y.createMediaStreamSource(D),this.gainFilter=y.createGain(),this.destination=y.createMediaStreamDestination(),this.outputStream=this.destination.stream,this.microphone.connect(this.gainFilter),this.gainFilter.connect(this.destination),D.addTrack(this.outputStream.getAudioTracks()[0]),D.removeTrack(D.getAudioTracks()[0])}this.stream=D}b.prototype.setGain=function(D){this.support&&(this.gainFilter.gain.value=D,this.gain=D)},b.prototype.getGain=function(){return this.gain},b.prototype.off=function(){return this.setGain(0)},b.prototype.on=function(){this.setGain(1)},N.exports=b},2957:N=>{for(var T="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profileEnd,time,timeEnd,trace,warn".split(","),w=T.length,u=function(){},b={};w--;)b[T[w]]=u;N.exports=b},3846:N=>{"use strict";N.exports=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]},1393:(N,T,w)=>{var u=w(6788),b=w(3877),D=w(4720),y=w(290),g=w(2069),C=w(7855),v=w(3824);function d(f,h){var S,_=this;for(S in g.call(this),(f=f||{}).iceServers=f.iceServers||[],this.enableChromeNativeSimulcast=!1,h&&h.optional&&"chrome"===v.webrtcDetectedBrowser&&null===navigator.appVersion.match(/Chromium\//)&&h.optional.forEach(function(I){I.enableChromeNativeSimulcast&&(_.enableChromeNativeSimulcast=!0)}),this.enableMultiStreamHacks=!1,h&&h.optional&&"chrome"===v.webrtcDetectedBrowser&&h.optional.forEach(function(I){I.enableMultiStreamHacks&&(_.enableMultiStreamHacks=!0)}),this.restrictBandwidth=0,h&&h.optional&&h.optional.forEach(function(I){I.andyetRestrictBandwidth&&(_.restrictBandwidth=I.andyetRestrictBandwidth)}),this.batchIceCandidates=0,h&&h.optional&&h.optional.forEach(function(I){I.andyetBatchIce&&(_.batchIceCandidates=I.andyetBatchIce)}),this.batchedIceCandidates=[],h&&h.optional&&"chrome"===v.webrtcDetectedBrowser&&h.optional.forEach(function(I){I.andyetFasterICE&&(_.eliminateDuplicateCandidates=I.andyetFasterICE)}),h&&h.optional&&h.optional.forEach(function(I){I.andyetDontSignalCandidates&&(_.dontSignalCandidates=I.andyetDontSignalCandidates)}),this.assumeSetLocalSuccess=!1,h&&h.optional&&h.optional.forEach(function(I){I.andyetAssumeSetLocalSuccess&&(_.assumeSetLocalSuccess=I.andyetAssumeSetLocalSuccess)}),"firefox"===v.webrtcDetectedBrowser&&h&&h.optional&&(this.wtFirefox=0,h.optional.forEach(function(I){I.andyetFirefoxMakesMeSad&&(_.wtFirefox=I.andyetFirefoxMakesMeSad,_.wtFirefox>0&&(_.firefoxcandidatebuffer=[]))})),this.pc=new C(f,h),this.getLocalStreams=this.pc.getLocalStreams.bind(this.pc),this.getRemoteStreams=this.pc.getRemoteStreams.bind(this.pc),this.addStream=this.pc.addStream.bind(this.pc),this.removeStream=this.pc.removeStream.bind(this.pc),this.pc.on("*",function(){_.emit.apply(_,arguments)}),this.pc.onremovestream=this.emit.bind(this,"removeStream"),this.pc.onaddstream=this.emit.bind(this,"addStream"),this.pc.onnegotiationneeded=this.emit.bind(this,"negotiationNeeded"),this.pc.oniceconnectionstatechange=this.emit.bind(this,"iceConnectionStateChange"),this.pc.onsignalingstatechange=this.emit.bind(this,"signalingStateChange"),this.pc.onicecandidate=this._onIce.bind(this),this.pc.ondatachannel=this._onDataChannel.bind(this),this.localDescription={contents:[]},this.remoteDescription={contents:[]},this.config={debug:!1,ice:{},sid:"",isInitiator:!0,sdpSessionID:Date.now(),useJingle:!1},f)this.config[S]=f[S];this.config.debug&&this.on("*",function(){(f.logger||console).log("PeerConnection event:",arguments)}),this.hadLocalStunCandidate=!1,this.hadRemoteStunCandidate=!1,this.hadLocalRelayCandidate=!1,this.hadRemoteRelayCandidate=!1,this.hadLocalIPv6Candidate=!1,this.hadRemoteIPv6Candidate=!1,this._remoteDataChannels=[],this._localDataChannels=[],this._candidateBuffer=[]}u.inherits(d,g),Object.defineProperty(d.prototype,"signalingState",{get:function(){return this.pc.signalingState}}),Object.defineProperty(d.prototype,"iceConnectionState",{get:function(){return this.pc.iceConnectionState}}),d.prototype._role=function(){return this.isInitiator?"initiator":"responder"},d.prototype.addStream=function(f){this.localStream=f,this.pc.addStream(f)},d.prototype._checkLocalCandidate=function(f){var h=y.toCandidateJSON(f);"srflx"==h.type?this.hadLocalStunCandidate=!0:"relay"==h.type&&(this.hadLocalRelayCandidate=!0),-1!=h.ip.indexOf(":")&&(this.hadLocalIPv6Candidate=!0)},d.prototype._checkRemoteCandidate=function(f){var h=y.toCandidateJSON(f);"srflx"==h.type?this.hadRemoteStunCandidate=!0:"relay"==h.type&&(this.hadRemoteRelayCandidate=!0),-1!=h.ip.indexOf(":")&&(this.hadRemoteIPv6Candidate=!0)},d.prototype.processIce=function(f,h){h=h||function(){};var _=this;if("closed"===this.pc.signalingState)return h();if(f.contents||f.jingle&&f.jingle.contents){var S=D(this.remoteDescription.contents,"name");(f.contents||f.jingle.contents).forEach(function(A){var L=(A.transport||{}).candidates||[],j=S.indexOf(A.name),m=A.name;L.forEach(function(M){var R=y.toCandidateSDP(M)+"\r\n";_.pc.addIceCandidate(new RTCIceCandidate({candidate:R,sdpMLineIndex:j,sdpMid:m}),function(){},function(k){_.emit("error",k)}),_._checkRemoteCandidate(R)})})}else{if(f.candidate&&0!==f.candidate.candidate.indexOf("a=")&&(f.candidate.candidate="a="+f.candidate.candidate),this.wtFirefox&&null!==this.firefoxcandidatebuffer&&this.pc.localDescription&&"offer"===this.pc.localDescription.type)return this.firefoxcandidatebuffer.push(f.candidate),h();_.pc.addIceCandidate(new RTCIceCandidate(f.candidate),function(){},function(A){_.emit("error",A)}),_._checkRemoteCandidate(f.candidate.candidate)}h()},d.prototype.offer=function(f,h){var _=this,S=2===arguments.length,I=S&&f?f:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}};if(h=(h=S?h:f)||function(){},"closed"===this.pc.signalingState)return h("Already closed");this.pc.createOffer(function(A){var O={type:"offer",sdp:A.sdp};_.assumeSetLocalSuccess&&(_.emit("offer",O),h(null,O)),_._candidateBuffer=[],_.pc.setLocalDescription(A,function(){var L;_.config.useJingle&&((L=y.toSessionJSON(A.sdp,{role:_._role(),direction:"outgoing"})).sid=_.config.sid,_.localDescription=L,b(L.contents,function(j){var m=j.transport||{};m.ufrag&&(_.config.ice[j.name]={ufrag:m.ufrag,pwd:m.pwd})}),O.jingle=L),O.sdp.split("\r\n").forEach(function(j){0===j.indexOf("a=candidate:")&&_._checkLocalCandidate(j)}),_.assumeSetLocalSuccess||(_.emit("offer",O),h(null,O))},function(L){_.emit("error",L),h(L)})},function(A){_.emit("error",A),h(A)},I)},d.prototype.handleOffer=function(f,h){h=h||function(){};var _=this;if(f.type="offer",f.jingle){if(this.enableChromeNativeSimulcast&&f.jingle.contents.forEach(function(A){"video"===A.name&&(A.description.googConferenceFlag=!0)}),this.enableMultiStreamHacks&&f.jingle.contents.forEach(function(A){if("video"===A.name){var O=A.description.sources||[];(0===O.length||"3735928559"!==O[0].ssrc)&&(O.unshift({ssrc:"3735928559",parameters:[{key:"cname",value:"deadbeef"},{key:"msid",value:"mixyourfecintothis please"}]}),A.description.sources=O)}}),_.restrictBandwidth>0&&f.jingle.contents.length>=2&&"video"===f.jingle.contents[1].name){var S=f.jingle.contents[1];S.description&&S.description.bandwidth||(f.jingle.contents[1].description.bandwidth={type:"AS",bandwidth:_.restrictBandwidth.toString()},f.sdp=y.toSessionSDP(f.jingle,{sid:_.config.sdpSessionID,role:_._role(),direction:"outgoing"}))}f.sdp=y.toSessionSDP(f.jingle,{sid:_.config.sdpSessionID,role:_._role(),direction:"incoming"}),_.remoteDescription=f.jingle}f.sdp.split("\r\n").forEach(function(A){0===A.indexOf("a=candidate:")&&_._checkRemoteCandidate(A)}),_.pc.setRemoteDescription(new RTCSessionDescription(f),function(){h()},h)},d.prototype.answerAudioOnly=function(f){this._answer({mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!1}},f)},d.prototype.answerBroadcastOnly=function(f){this._answer({mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}},f)},d.prototype.answer=function(f,h){var _=2===arguments.length;this._answer(_&&f?f:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},_?h:f)},d.prototype.handleAnswer=function(f,h){h=h||function(){};var _=this;f.jingle&&(f.sdp=y.toSessionSDP(f.jingle,{sid:_.config.sdpSessionID,role:_._role(),direction:"incoming"}),_.remoteDescription=f.jingle),f.sdp.split("\r\n").forEach(function(S){0===S.indexOf("a=candidate:")&&_._checkRemoteCandidate(S)}),_.pc.setRemoteDescription(new RTCSessionDescription(f),function(){_.wtFirefox&&window.setTimeout(function(){_.firefoxcandidatebuffer.forEach(function(S){_.pc.addIceCandidate(new RTCIceCandidate(S),function(){},function(I){_.emit("error",I)}),_._checkRemoteCandidate(S.candidate)}),_.firefoxcandidatebuffer=null},_.wtFirefox),h(null)},h)},d.prototype.close=function(){this.pc.close(),this._localDataChannels=[],this._remoteDataChannels=[],this.emit("close")},d.prototype._answer=function(f,h){h=h||function(){};var _=this;if(!this.pc.remoteDescription)throw new Error("remoteDescription not set");if("closed"===this.pc.signalingState)return h("Already closed");_.pc.createAnswer(function(S){var I=[];if(_.enableChromeNativeSimulcast&&(S.jingle=y.toSessionJSON(S.sdp,{role:_._role(),direction:"outgoing"}),S.jingle.contents.length>=2&&"video"===S.jingle.contents[1].name)){var A=S.jingle.contents[1].description.sourceGroups||[],O=!1;if(A.forEach(function(M){"SIM"==M.semantics&&(O=!0)}),!O&&S.jingle.contents[1].description.sources.length){var L=JSON.parse(JSON.stringify(S.jingle.contents[1].description.sources[0]));L.ssrc=""+Math.floor(4294967295*Math.random()),S.jingle.contents[1].description.sources.push(L),I.push(S.jingle.contents[1].description.sources[0].ssrc),I.push(L.ssrc),A.push({semantics:"SIM",sources:I});var j=JSON.parse(JSON.stringify(L));j.ssrc=""+Math.floor(4294967295*Math.random()),S.jingle.contents[1].description.sources.push(j),A.push({semantics:"FID",sources:[L.ssrc,j.ssrc]}),S.jingle.contents[1].description.sourceGroups=A,S.sdp=y.toSessionSDP(S.jingle,{sid:_.config.sdpSessionID,role:_._role(),direction:"outgoing"})}}var m={type:"answer",sdp:S.sdp};_.assumeSetLocalSuccess&&(_.emit("answer",m),h(null,m)),_._candidateBuffer=[],_.pc.setLocalDescription(S,function(){if(_.config.useJingle){var M=y.toSessionJSON(S.sdp,{role:_._role(),direction:"outgoing"});M.sid=_.config.sid,_.localDescription=M,m.jingle=M}_.enableChromeNativeSimulcast&&(m.jingle||(m.jingle=y.toSessionJSON(S.sdp,{role:_._role(),direction:"outgoing"})),m.jingle.contents[1].description.sources.forEach(function(R,k){R.parameters=R.parameters.map(function(V){return"msid"===V.key&&(V.value+="-"+Math.floor(k/2)),V})}),m.sdp=y.toSessionSDP(m.jingle,{sid:_.sdpSessionID,role:_._role(),direction:"outgoing"})),m.sdp.split("\r\n").forEach(function(R){0===R.indexOf("a=candidate:")&&_._checkLocalCandidate(R)}),_.assumeSetLocalSuccess||(_.emit("answer",m),h(null,m))},function(M){_.emit("error",M),h(M)})},function(S){_.emit("error",S),h(S)},f)},d.prototype._onIce=function(f){var h=this;if(f.candidate){if(this.dontSignalCandidates)return;var _=f.candidate,S={candidate:{candidate:_.candidate,sdpMid:_.sdpMid,sdpMLineIndex:_.sdpMLineIndex}};this._checkLocalCandidate(_.candidate);var A,O,I=y.toCandidateJSON(_.candidate);if(this.eliminateDuplicateCandidates&&"relay"===I.type&&(O=(A=this._candidateBuffer.filter(function(j){return"relay"===j.type}).map(function(j){return j.foundation+":"+j.component})).indexOf(I.foundation+":"+I.component))>-1&&I.priority>>24>=A[O].priority>>24||"max-bundle"===this.config.bundlePolicy&&(O=(A=this._candidateBuffer.filter(function(j){return I.type===j.type}).map(function(j){return j.address+":"+j.port})).indexOf(I.address+":"+I.port))>-1||"require"===this.config.rtcpMuxPolicy&&"2"===I.component)return;if(this._candidateBuffer.push(I),h.config.useJingle){if(_.sdpMid||(_.sdpMid=h.pc.remoteDescription&&"offer"===h.pc.remoteDescription.type?h.remoteDescription.contents[_.sdpMLineIndex].name:h.localDescription.contents[_.sdpMLineIndex].name),!h.config.ice[_.sdpMid]){var L=y.toSessionJSON(h.pc.localDescription.sdp,{role:h._role(),direction:"outgoing"});b(L.contents,function(j){var m=j.transport||{};m.ufrag&&(h.config.ice[j.name]={ufrag:m.ufrag,pwd:m.pwd})})}if(S.jingle={contents:[{name:_.sdpMid,creator:h._role(),transport:{transType:"iceUdp",ufrag:h.config.ice[_.sdpMid].ufrag,pwd:h.config.ice[_.sdpMid].pwd,candidates:[I]}}]},h.batchIceCandidates>0)return 0===h.batchedIceCandidates.length&&window.setTimeout(function(){var j={};h.batchedIceCandidates.forEach(function(M){j[(M=M.contents[0]).name]||(j[M.name]=M),j[M.name].transport.candidates.push(M.transport.candidates[0])});var m={jingle:{contents:[]}};Object.keys(j).forEach(function(M){m.jingle.contents.push(j[M])}),h.batchedIceCandidates=[],h.emit("ice",m)},h.batchIceCandidates),void h.batchedIceCandidates.push(S.jingle)}this.emit("ice",S)}else this.emit("endOfCandidates")},d.prototype._onDataChannel=function(f){var h=f.channel;this._remoteDataChannels.push(h),this.emit("addChannel",h)},d.prototype.createDataChannel=function(f,h){var _=this.pc.createDataChannel(f,h);return this._localDataChannels.push(_),_},d.prototype.getStats=function(f){"firefox"===v.webrtcDetectedBrowser?this.pc.getStats(function(h){var _=[];for(var S in h)"object"==typeof h[S]&&_.push(h[S]);f(null,_)},f):this.pc.getStats(function(h){var _=[];h.result().forEach(function(S){var I={};S.names().forEach(function(A){I[A]=S.stat(A)}),I.id=S.id,I.type=S.type,I.timestamp=S.timestamp,_.push(I)}),f(null,_)})},N.exports=d},290:(N,T,w)=>{var u=w(2880),b=w(3533);T.toIncomingSDPOffer=function(D){return u.toSessionSDP(D,{role:"responder",direction:"incoming"})},T.toOutgoingSDPOffer=function(D){return u.toSessionSDP(D,{role:"initiator",direction:"outgoing"})},T.toIncomingSDPAnswer=function(D){return u.toSessionSDP(D,{role:"initiator",direction:"incoming"})},T.toOutgoingSDPAnswer=function(D){return u.toSessionSDP(D,{role:"responder",direction:"outgoing"})},T.toIncomingMediaSDPOffer=function(D){return u.toMediaSDP(D,{role:"responder",direction:"incoming"})},T.toOutgoingMediaSDPOffer=function(D){return u.toMediaSDP(D,{role:"initiator",direction:"outgoing"})},T.toIncomingMediaSDPAnswer=function(D){return u.toMediaSDP(D,{role:"initiator",direction:"incoming"})},T.toOutgoingMediaSDPAnswer=function(D){return u.toMediaSDP(D,{role:"responder",direction:"outgoing"})},T.toCandidateSDP=u.toCandidateSDP,T.toMediaSDP=u.toMediaSDP,T.toSessionSDP=u.toSessionSDP,T.toIncomingJSONOffer=function(D,y){return b.toSessionJSON(D,{role:"responder",direction:"incoming",creators:y})},T.toOutgoingJSONOffer=function(D,y){return b.toSessionJSON(D,{role:"initiator",direction:"outgoing",creators:y})},T.toIncomingJSONAnswer=function(D,y){return b.toSessionJSON(D,{role:"initiator",direction:"incoming",creators:y})},T.toOutgoingJSONAnswer=function(D,y){return b.toSessionJSON(D,{role:"responder",direction:"outgoing",creators:y})},T.toIncomingMediaJSONOffer=function(D,y){return b.toMediaJSON(D,{role:"responder",direction:"incoming",creator:y})},T.toOutgoingMediaJSONOffer=function(D,y){return b.toMediaJSON(D,{role:"initiator",direction:"outgoing",creator:y})},T.toIncomingMediaJSONAnswer=function(D,y){return b.toMediaJSON(D,{role:"initiator",direction:"incoming",creator:y})},T.toOutgoingMediaJSONAnswer=function(D,y){return b.toMediaJSON(D,{role:"responder",direction:"outgoing",creator:y})},T.toCandidateJSON=b.toCandidateJSON,T.toMediaJSON=b.toMediaJSON,T.toSessionJSON=b.toSessionJSON},2497:(N,T)=>{T.lines=function(w){return w.split("\r\n").filter(function(u){return u.length>0})},T.findLine=function(w,u,b){for(var D=w.length,y=0;y<u.length;y++)if(u[y].substr(0,D)===w)return u[y];if(!b)return!1;for(var g=0;g<b.length;g++)if(b[g].substr(0,D)===w)return b[g];return!1},T.findLines=function(w,u,b){for(var D=[],y=w.length,g=0;g<u.length;g++)u[g].substr(0,y)===w&&D.push(u[g]);if(D.length||!b)return D;for(var C=0;C<b.length;C++)b[C].substr(0,y)===w&&D.push(b[C]);return D},T.mline=function(w){for(var u=w.substr(2).split(" "),b={media:u[0],port:u[1],proto:u[2],formats:[]},D=3;D<u.length;D++)u[D]&&b.formats.push(u[D]);return b},T.rtpmap=function(w){var u=w.substr(9).split(" "),b={id:u.shift()};return u=u[0].split("/"),b.name=u[0],b.clockrate=u[1],b.channels=3==u.length?u[2]:"1",b},T.sctpmap=function(w){var u=w.substr(10).split(" ");return{number:u.shift(),protocol:u.shift(),streams:u.shift()}},T.fmtp=function(w){for(var u,b,D,y=w.substr(w.indexOf(" ")+1).split(";"),g=[],C=0;C<y.length;C++)b=(u=y[C].split("="))[0].trim(),D=u[1],b&&D?g.push({key:b,value:D}):b&&g.push({key:"",value:b});return g},T.crypto=function(w){var u=w.substr(9).split(" ");return{tag:u[0],cipherSuite:u[1],keyParams:u[2],sessionParams:u.slice(3).join(" ")}},T.fingerprint=function(w){var u=w.substr(14).split(" ");return{hash:u[0],value:u[1]}},T.extmap=function(w){var u=w.substr(9).split(" "),b={},D=u.shift(),y=D.indexOf("/");return y>=0?(b.id=D.substr(0,y),b.senders=D.substr(y+1)):(b.id=D,b.senders="sendrecv"),b.uri=u.shift()||"",b},T.rtcpfb=function(w){var u=w.substr(10).split(" "),b={};return b.id=u.shift(),b.type=u.shift(),"trr-int"===b.type?b.value=u.shift():b.subtype=u.shift()||"",b.parameters=u,b},T.candidate=function(w){for(var u,b={foundation:(u=0===w.indexOf("a=candidate:")?w.substring(12).split(" "):w.substring(10).split(" "))[0],component:u[1],protocol:u[2].toLowerCase(),priority:u[3],ip:u[4],port:u[5],type:u[7],generation:"0"},D=8;D<u.length;D+=2)"raddr"===u[D]?b.relAddr=u[D+1]:"rport"===u[D]?b.relPort=u[D+1]:"generation"===u[D]?b.generation=u[D+1]:"tcptype"===u[D]&&(b.tcpType=u[D+1]);return b.network="1",b},T.sourceGroups=function(w){for(var u=[],b=0;b<w.length;b++){var D=w[b].substr(13).split(" ");u.push({semantics:D.shift(),sources:D})}return u},T.sources=function(w){for(var u=[],b={},D=0;D<w.length;D++){var y=w[D].substr(7).split(" "),g=y.shift();if(!b[g]){var C={ssrc:g,parameters:[]};u.push(C),b[g]=C}var v=(y=y.join(" ").split(":")).shift(),d=y.join(":")||null;b[g].parameters.push({key:v,value:d})}return u},T.groups=function(w){for(var b,u=[],D=0;D<w.length;D++)b=w[D].substr(8).split(" "),u.push({semantics:b.shift(),contents:b});return u},T.bandwidth=function(w){var u=w.substr(2).split(":"),b={};return b.type=u.shift(),b.bandwidth=u.shift(),b},T.msid=function(w){var u=w.substr(7),b=u.split(" ");return{msid:u,mslabel:b[0],label:b[1]}}},1091:N=>{N.exports={initiator:{incoming:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"},outgoing:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"}},responder:{incoming:{initiator:"sendonly",responder:"recvonly",both:"sendrecv",none:"inactive",recvonly:"responder",sendonly:"initiator",sendrecv:"both",inactive:"none"},outgoing:{initiator:"recvonly",responder:"sendonly",both:"sendrecv",none:"inactive",recvonly:"initiator",sendonly:"responder",sendrecv:"both",inactive:"none"}}}},3533:(N,T,w)=>{var u=w(1091),b=w(2497),D=Math.random();T._setIdCounter=function(y){D=y},T.toSessionJSON=function(y,g){var C,v=g.creators||[],d=g.role||"initiator",f=g.direction||"outgoing",h=y.split("\r\nm=");for(C=1;C<h.length;C++)h[C]="m="+h[C],C!==h.length-1&&(h[C]+="\r\n");var _=h.shift()+"\r\n",S=b.lines(_),I={},A=[];for(C=0;C<h.length;C++)A.push(T.toMediaJSON(h[C],_,{role:d,direction:f,creator:v[C]||"initiator"}));I.contents=A;var O=b.findLines("a=group:",S);return O.length&&(I.groups=b.groups(O)),I},T.toMediaJSON=function(y,g,C){var v=C.creator||"initiator",d=C.role||"initiator",f=C.direction||"outgoing",h=b.lines(y),_=b.lines(g),S=b.mline(h[0]),I={creator:v,name:S.media,description:{descType:"rtp",media:S.media,payloads:[],encryption:[],feedback:[],headerExtensions:[]},transport:{transType:"iceUdp",candidates:[],fingerprints:[]}};"application"==S.media&&(I.description={descType:"datachannel"},I.transport.sctp=[]);var A=I.description,O=I.transport,L=b.findLine("a=mid:",h);if(L&&(I.name=L.substr(6)),b.findLine("a=sendrecv",h,_)?I.senders="both":b.findLine("a=sendonly",h,_)?I.senders=u[d][f].sendonly:b.findLine("a=recvonly",h,_)?I.senders=u[d][f].recvonly:b.findLine("a=inactive",h,_)&&(I.senders="none"),"rtp"==A.descType){var j=b.findLine("b=",h);j&&(A.bandwidth=b.bandwidth(j));var m=b.findLine("a=ssrc:",h);m&&(A.ssrc=m.substr(7).split(" ")[0]),b.findLines("a=rtpmap:",h).forEach(function(ue){var oe=b.rtpmap(ue);oe.parameters=[],oe.feedback=[],b.findLines("a=fmtp:"+oe.id,h).forEach(function(F){oe.parameters=b.fmtp(F)}),b.findLines("a=rtcp-fb:"+oe.id,h).forEach(function(F){oe.feedback.push(b.rtcpfb(F))}),A.payloads.push(oe)}),b.findLines("a=crypto:",h,_).forEach(function(ue){A.encryption.push(b.crypto(ue))}),b.findLine("a=rtcp-mux",h)&&(A.mux=!0),b.findLines("a=rtcp-fb:*",h).forEach(function(ue){A.feedback.push(b.rtcpfb(ue))}),b.findLines("a=extmap:",h).forEach(function(ue){var oe=b.extmap(ue);oe.senders=u[d][f][oe.senders],A.headerExtensions.push(oe)});var q=b.findLines("a=ssrc-group:",h);A.sourceGroups=b.sourceGroups(q||[]);var U=b.findLines("a=ssrc:",h),G=A.sources=b.sources(U||[]),fe=b.findLine("a=msid:",h);if(fe){var $=b.msid(fe);["msid","mslabel","label"].forEach(function(ue){for(var oe=0;oe<G.length;oe++){for(var Ce=!1,we=0;we<G[oe].parameters.length;we++)G[oe].parameters[we].key===ue&&(Ce=!0);Ce||G[oe].parameters.push({key:ue,value:$[ue]})}})}b.findLine("a=x-google-flag:conference",h,_)&&(A.googConferenceFlag=!0)}var W=b.findLines("a=fingerprint:",h,_),ne=b.findLine("a=setup:",h,_);W.forEach(function(ue){var oe=b.fingerprint(ue);ne&&(oe.setup=ne.substr(8)),O.fingerprints.push(oe)});var te=b.findLine("a=ice-ufrag:",h,_),de=b.findLine("a=ice-pwd:",h,_);return te&&de&&(O.ufrag=te.substr(12),O.pwd=de.substr(10),O.candidates=[],b.findLines("a=candidate:",h,_).forEach(function(ue){O.candidates.push(T.toCandidateJSON(ue))})),"datachannel"==A.descType&&b.findLines("a=sctpmap:",h).forEach(function(ue){var oe=b.sctpmap(ue);O.sctp.push(oe)}),I},T.toCandidateJSON=function(y){var g=b.candidate(y.split("\r\n")[0]);return g.id=(D++).toString(36).substr(0,12),g}},2880:(N,T,w)=>{var u=w(1091);T.toSessionSDP=function(b,D){var d=["v=0","o=- "+(D.sid||b.sid||Date.now())+" "+(D.time||Date.now())+" IN IP4 0.0.0.0","s=-","t=0 0"],f=b.contents||[],h=!1;return f.forEach(function(S){S.description.sources&&S.description.sources.length&&(h=!0)}),h&&d.push("a=msid-semantic: WMS *"),(b.groups||[]).forEach(function(S){d.push("a=group:"+S.semantics+" "+S.contents.join(" "))}),f.forEach(function(S){d.push(T.toMediaSDP(S,D))}),d.join("\r\n")+"\r\n"},T.toMediaSDP=function(b,D){var y=[],g=D.role||"initiator",C=D.direction||"outgoing",v=b.description,d=b.transport,f=v.payloads||[],h=d&&d.fingerprints||[],_=[];return"datachannel"==v.descType?(_.push("application"),_.push("1"),_.push("DTLS/SCTP"),d.sctp&&d.sctp.forEach(function(m){_.push(m.number)})):(_.push(v.media),_.push("1"),_.push(h.length>0?"UDP/TLS/RTP/SAVPF":v.encryption&&v.encryption.length>0?"RTP/SAVPF":"RTP/AVPF"),f.forEach(function(m){_.push(m.id)})),y.push("m="+_.join(" ")),y.push("c=IN IP4 0.0.0.0"),v.bandwidth&&v.bandwidth.type&&v.bandwidth.bandwidth&&y.push("b="+v.bandwidth.type+":"+v.bandwidth.bandwidth),"rtp"==v.descType&&y.push("a=rtcp:1 IN IP4 0.0.0.0"),d&&(d.ufrag&&y.push("a=ice-ufrag:"+d.ufrag),d.pwd&&y.push("a=ice-pwd:"+d.pwd),h.forEach(function(m){y.push("a=fingerprint:"+m.hash+" "+m.value),m.setup&&y.push("a=setup:"+m.setup)}),d.sctp&&d.sctp.forEach(function(m){y.push("a=sctpmap:"+m.number+" "+m.protocol+" "+m.streams)})),"rtp"==v.descType&&y.push("a="+(u[g][C][b.senders]||"sendrecv")),y.push("a=mid:"+b.name),v.sources&&v.sources.length&&(v.sources[0].parameters||[]).forEach(function(m){"msid"===m.key&&y.push("a=msid:"+m.value)}),v.mux&&y.push("a=rtcp-mux"),(v.encryption||[]).forEach(function(m){y.push("a=crypto:"+m.tag+" "+m.cipherSuite+" "+m.keyParams+(m.sessionParams?" "+m.sessionParams:""))}),v.googConferenceFlag&&y.push("a=x-google-flag:conference"),f.forEach(function(m){var M="a=rtpmap:"+m.id+" "+m.name+"/"+m.clockrate;if(m.channels&&"1"!=m.channels&&(M+="/"+m.channels),y.push(M),m.parameters&&m.parameters.length){var R=["a=fmtp:"+m.id],k=[];m.parameters.forEach(function(V){k.push((V.key?V.key+"=":"")+V.value)}),R.push(k.join(";")),y.push(R.join(" "))}m.feedback&&m.feedback.forEach(function(V){y.push("trr-int"===V.type?"a=rtcp-fb:"+m.id+" trr-int "+(V.value?V.value:"0"):"a=rtcp-fb:"+m.id+" "+V.type+(V.subtype?" "+V.subtype:""))})}),v.feedback&&v.feedback.forEach(function(m){y.push("trr-int"===m.type?"a=rtcp-fb:* trr-int "+(m.value?m.value:"0"):"a=rtcp-fb:* "+m.type+(m.subtype?" "+m.subtype:""))}),(v.headerExtensions||[]).forEach(function(m){y.push("a=extmap:"+m.id+(m.senders?"/"+u[g][C][m.senders]:"")+" "+m.uri)}),(v.sourceGroups||[]).forEach(function(m){y.push("a=ssrc-group:"+m.semantics+" "+m.sources.join(" "))}),(v.sources||[]).forEach(function(m){for(var M=0;M<m.parameters.length;M++){var R=m.parameters[M];y.push("a=ssrc:"+(m.ssrc||v.ssrc)+" "+R.key+(R.value?":"+R.value:""))}}),(d.candidates||[]).forEach(function(m){y.push(T.toCandidateSDP(m))}),y.join("\r\n")},T.toCandidateSDP=function(b){var D=[];D.push(b.foundation),D.push(b.component),D.push(b.protocol.toUpperCase()),D.push(b.priority),D.push(b.ip),D.push(b.port);var y=b.type;return D.push("typ"),D.push(y),("srflx"===y||"prflx"===y||"relay"===y)&&b.relAddr&&b.relPort&&(D.push("raddr"),D.push(b.relAddr),D.push("rport"),D.push(b.relPort)),b.tcpType&&"TCP"==b.protocol.toUpperCase()&&(D.push("tcptype"),D.push(b.tcpType)),D.push("generation"),D.push(b.generation||"0"),"a=candidate:"+D.join(" ")}},7463:N=>{"use strict";var T={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};T.localCName=T.generateIdentifier(),T.splitLines=function(w){return w.trim().split("\n").map(function(u){return u.trim()})},T.splitSections=function(w){return w.split("\nm=").map(function(b,D){return(D>0?"m="+b:b).trim()+"\r\n"})},T.matchPrefix=function(w,u){return T.splitLines(w).filter(function(b){return 0===b.indexOf(u)})},T.parseCandidate=function(w){for(var u,b={foundation:(u=0===w.indexOf("a=candidate:")?w.substring(12).split(" "):w.substring(10).split(" "))[0],component:u[1],protocol:u[2].toLowerCase(),priority:parseInt(u[3],10),ip:u[4],port:parseInt(u[5],10),type:u[7]},D=8;D<u.length;D+=2)switch(u[D]){case"raddr":b.relatedAddress=u[D+1];break;case"rport":b.relatedPort=parseInt(u[D+1],10);break;case"tcptype":b.tcpType=u[D+1];break;default:b[u[D]]=u[D+1]}return b},T.writeCandidate=function(w){var u=[];u.push(w.foundation),u.push(w.component),u.push(w.protocol.toUpperCase()),u.push(w.priority),u.push(w.ip),u.push(w.port);var b=w.type;return u.push("typ"),u.push(b),"host"!==b&&w.relatedAddress&&w.relatedPort&&(u.push("raddr"),u.push(w.relatedAddress),u.push("rport"),u.push(w.relatedPort)),w.tcpType&&"tcp"===w.protocol.toLowerCase()&&(u.push("tcptype"),u.push(w.tcpType)),"candidate:"+u.join(" ")},T.parseIceOptions=function(w){return w.substr(14).split(" ")},T.parseRtpMap=function(w){var u=w.substr(9).split(" "),b={payloadType:parseInt(u.shift(),10)};return u=u[0].split("/"),b.name=u[0],b.clockRate=parseInt(u[1],10),b.numChannels=3===u.length?parseInt(u[2],10):1,b},T.writeRtpMap=function(w){var u=w.payloadType;return void 0!==w.preferredPayloadType&&(u=w.preferredPayloadType),"a=rtpmap:"+u+" "+w.name+"/"+w.clockRate+(1!==w.numChannels?"/"+w.numChannels:"")+"\r\n"},T.parseExtmap=function(w){var u=w.substr(9).split(" ");return{id:parseInt(u[0],10),direction:u[0].indexOf("/")>0?u[0].split("/")[1]:"sendrecv",uri:u[1]}},T.writeExtmap=function(w){return"a=extmap:"+(w.id||w.preferredId)+(w.direction&&"sendrecv"!==w.direction?"/"+w.direction:"")+" "+w.uri+"\r\n"},T.parseFmtp=function(w){for(var b,u={},D=w.substr(w.indexOf(" ")+1).split(";"),y=0;y<D.length;y++)u[(b=D[y].trim().split("="))[0].trim()]=b[1];return u},T.writeFmtp=function(w){var u="",b=w.payloadType;if(void 0!==w.preferredPayloadType&&(b=w.preferredPayloadType),w.parameters&&Object.keys(w.parameters).length){var D=[];Object.keys(w.parameters).forEach(function(y){D.push(y+"="+w.parameters[y])}),u+="a=fmtp:"+b+" "+D.join(";")+"\r\n"}return u},T.parseRtcpFb=function(w){var u=w.substr(w.indexOf(" ")+1).split(" ");return{type:u.shift(),parameter:u.join(" ")}},T.writeRtcpFb=function(w){var u="",b=w.payloadType;return void 0!==w.preferredPayloadType&&(b=w.preferredPayloadType),w.rtcpFeedback&&w.rtcpFeedback.length&&w.rtcpFeedback.forEach(function(D){u+="a=rtcp-fb:"+b+" "+D.type+(D.parameter&&D.parameter.length?" "+D.parameter:"")+"\r\n"}),u},T.parseSsrcMedia=function(w){var u=w.indexOf(" "),b={ssrc:parseInt(w.substr(7,u-7),10)},D=w.indexOf(":",u);return D>-1?(b.attribute=w.substr(u+1,D-u-1),b.value=w.substr(D+1)):b.attribute=w.substr(u+1),b},T.getMid=function(w){var u=T.matchPrefix(w,"a=mid:")[0];if(u)return u.substr(6)},T.parseFingerprint=function(w){var u=w.substr(14).split(" ");return{algorithm:u[0].toLowerCase(),value:u[1]}},T.getDtlsParameters=function(w,u){return{role:"auto",fingerprints:T.matchPrefix(w+u,"a=fingerprint:").map(T.parseFingerprint)}},T.writeDtlsParameters=function(w,u){var b="a=setup:"+u+"\r\n";return w.fingerprints.forEach(function(D){b+="a=fingerprint:"+D.algorithm+" "+D.value+"\r\n"}),b},T.getIceParameters=function(w,u){var b=T.splitLines(w);return{usernameFragment:(b=b.concat(T.splitLines(u))).filter(function(y){return 0===y.indexOf("a=ice-ufrag:")})[0].substr(12),password:b.filter(function(y){return 0===y.indexOf("a=ice-pwd:")})[0].substr(10)}},T.writeIceParameters=function(w){return"a=ice-ufrag:"+w.usernameFragment+"\r\na=ice-pwd:"+w.password+"\r\n"},T.parseRtpParameters=function(w){for(var u={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},D=T.splitLines(w)[0].split(" "),y=3;y<D.length;y++){var g=D[y],C=T.matchPrefix(w,"a=rtpmap:"+g+" ")[0];if(C){var v=T.parseRtpMap(C),d=T.matchPrefix(w,"a=fmtp:"+g+" ");switch(v.parameters=d.length?T.parseFmtp(d[0]):{},v.rtcpFeedback=T.matchPrefix(w,"a=rtcp-fb:"+g+" ").map(T.parseRtcpFb),u.codecs.push(v),v.name.toUpperCase()){case"RED":case"ULPFEC":u.fecMechanisms.push(v.name.toUpperCase())}}}return T.matchPrefix(w,"a=extmap:").forEach(function(f){u.headerExtensions.push(T.parseExtmap(f))}),u},T.writeRtpDescription=function(w,u){var b="";b+="m="+w+" ",b+=u.codecs.length>0?"9":"0",b+=" UDP/TLS/RTP/SAVPF ",b+=u.codecs.map(function(y){return void 0!==y.preferredPayloadType?y.preferredPayloadType:y.payloadType}).join(" ")+"\r\n",b+="c=IN IP4 0.0.0.0\r\n",b+="a=rtcp:9 IN IP4 0.0.0.0\r\n",u.codecs.forEach(function(y){b+=T.writeRtpMap(y),b+=T.writeFmtp(y),b+=T.writeRtcpFb(y)});var D=0;return u.codecs.forEach(function(y){y.maxptime>D&&(D=y.maxptime)}),D>0&&(b+="a=maxptime:"+D+"\r\n"),b+="a=rtcp-mux\r\n",u.headerExtensions.forEach(function(y){b+=T.writeExtmap(y)}),b},T.parseRtpEncodingParameters=function(w){var v,u=[],b=T.parseRtpParameters(w),D=-1!==b.fecMechanisms.indexOf("RED"),y=-1!==b.fecMechanisms.indexOf("ULPFEC"),g=T.matchPrefix(w,"a=ssrc:").map(function(h){return T.parseSsrcMedia(h)}).filter(function(h){return"cname"===h.attribute}),C=g.length>0&&g[0].ssrc,d=T.matchPrefix(w,"a=ssrc-group:FID").map(function(h){var _=h.split(" ");return _.shift(),_.map(function(S){return parseInt(S,10)})});d.length>0&&d[0].length>1&&d[0][0]===C&&(v=d[0][1]),b.codecs.forEach(function(h){if("RTX"===h.name.toUpperCase()&&h.parameters.apt){var _={ssrc:C,codecPayloadType:parseInt(h.parameters.apt,10),rtx:{ssrc:v}};u.push(_),D&&((_=JSON.parse(JSON.stringify(_))).fec={ssrc:v,mechanism:y?"red+ulpfec":"red"},u.push(_))}}),0===u.length&&C&&u.push({ssrc:C});var f=T.matchPrefix(w,"b=");return f.length&&(0===f[0].indexOf("b=TIAS:")?f=parseInt(f[0].substr(7),10):0===f[0].indexOf("b=AS:")&&(f=parseInt(f[0].substr(5),10)),u.forEach(function(h){h.maxBitrate=f})),u},T.parseRtcpParameters=function(w){var u={},D=T.matchPrefix(w,"a=ssrc:").map(function(C){return T.parseSsrcMedia(C)}).filter(function(C){return"cname"===C.attribute})[0];D&&(u.cname=D.value,u.ssrc=D.ssrc);var y=T.matchPrefix(w,"a=rtcp-rsize");u.reducedSize=y.length>0,u.compound=0===y.length;var g=T.matchPrefix(w,"a=rtcp-mux");return u.mux=g.length>0,u},T.parseMsid=function(w){var u,b=T.matchPrefix(w,"a=msid:");if(1===b.length)return{stream:(u=b[0].substr(7).split(" "))[0],track:u[1]};var D=T.matchPrefix(w,"a=ssrc:").map(function(y){return T.parseSsrcMedia(y)}).filter(function(y){return"msid"===y.attribute});return D.length>0?{stream:(u=D[0].value.split(" "))[0],track:u[1]}:void 0},T.writeSessionBoilerplate=function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},T.writeMediaSection=function(w,u,b,D){var y=T.writeRtpDescription(w.kind,u);if(y+=T.writeIceParameters(w.iceGatherer.getLocalParameters()),y+=T.writeDtlsParameters(w.dtlsTransport.getLocalParameters(),"offer"===b?"actpass":"active"),y+="a=mid:"+w.mid+"\r\n",y+=w.direction?"a="+w.direction+"\r\n":w.rtpSender&&w.rtpReceiver?"a=sendrecv\r\n":w.rtpSender?"a=sendonly\r\n":w.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",w.rtpSender){var g="msid:"+D.id+" "+w.rtpSender.track.id+"\r\n";y+="a="+g,y+="a=ssrc:"+w.sendEncodingParameters[0].ssrc+" "+g,w.sendEncodingParameters[0].rtx&&(y+="a=ssrc:"+w.sendEncodingParameters[0].rtx.ssrc+" "+g,y+="a=ssrc-group:FID "+w.sendEncodingParameters[0].ssrc+" "+w.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return y+="a=ssrc:"+w.sendEncodingParameters[0].ssrc+" cname:"+T.localCName+"\r\n",w.rtpSender&&w.sendEncodingParameters[0].rtx&&(y+="a=ssrc:"+w.sendEncodingParameters[0].rtx.ssrc+" cname:"+T.localCName+"\r\n"),y},T.getDirection=function(w,u){for(var b=T.splitLines(w),D=0;D<b.length;D++)switch(b[D]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return b[D].substr(2)}return u?T.getDirection(u):"sendrecv"},T.getKind=function(w){return T.splitLines(w)[0].split(" ")[0].substr(2)},T.isRejected=function(w){return"0"===w.split(" ",2)[1]},N.exports=T},9511:(N,T,w)=>{"use strict";var u=w(5203),b=w(7484),D=w(7027)(),y=w(7378),g=w(2844),C=u("%Math.floor%");N.exports=function(d,f){if("function"!=typeof d)throw new g("`fn` is not a function");if("number"!=typeof f||f<0||f>4294967295||C(f)!==f)throw new g("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],_=!0,S=!0;if("length"in d&&y){var I=y(d,"length");I&&!I.configurable&&(_=!1),I&&!I.writable&&(S=!1)}return(_||S||!h)&&(D?b(d,"length",f,!0,!0):b(d,"length",f)),d}},7855:(N,T,w)=>{var u=w(6788),D=(w(6868),w(2069));function y(v){return{type:v.type,sdp:v.sdp}}function g(v){var d={label:v.id};return v.getAudioTracks().length&&(d.audio=v.getAudioTracks().map(function(f){return f.id})),v.getVideoTracks().length&&(d.video=v.getVideoTracks().map(function(f){return f.id})),d}function C(v,d){var f=this;D.call(this),this.peerconnection=new window.RTCPeerConnection(v,d),this.trace=function(h,_){f.emit("PeerConnectionTrace",{time:new Date,type:h,value:_||""})},this.onicecandidate=null,this.peerconnection.onicecandidate=function(h){f.trace("onicecandidate",h.candidate),null!==f.onicecandidate&&f.onicecandidate(h)},this.onaddstream=null,this.peerconnection.onaddstream=function(h){f.trace("onaddstream",g(h.stream)),null!==f.onaddstream&&f.onaddstream(h)},this.onremovestream=null,this.peerconnection.onremovestream=function(h){f.trace("onremovestream",g(h.stream)),null!==f.onremovestream&&f.onremovestream(h)},this.onsignalingstatechange=null,this.peerconnection.onsignalingstatechange=function(h){f.trace("onsignalingstatechange",f.signalingState),null!==f.onsignalingstatechange&&f.onsignalingstatechange(h)},this.oniceconnectionstatechange=null,this.peerconnection.oniceconnectionstatechange=function(h){f.trace("oniceconnectionstatechange",f.iceConnectionState),null!==f.oniceconnectionstatechange&&f.oniceconnectionstatechange(h)},this.onnegotiationneeded=null,this.peerconnection.onnegotiationneeded=function(h){f.trace("onnegotiationneeded"),null!==f.onnegotiationneeded&&f.onnegotiationneeded(h)},f.ondatachannel=null,this.peerconnection.ondatachannel=function(h){f.trace("ondatachannel",h),null!==f.ondatachannel&&f.ondatachannel(h)},this.getLocalStreams=this.peerconnection.getLocalStreams.bind(this.peerconnection),this.getRemoteStreams=this.peerconnection.getRemoteStreams.bind(this.peerconnection)}u.inherits(C,D),["signalingState","iceConnectionState","localDescription","remoteDescription"].forEach(function(v){Object.defineProperty(C.prototype,v,{get:function(){return this.peerconnection[v]}})}),C.prototype.addStream=function(v){this.trace("addStream",g(v)),this.peerconnection.addStream(v)},C.prototype.removeStream=function(v){this.trace("removeStream",g(v)),this.peerconnection.removeStream(v)},C.prototype.createDataChannel=function(v,d){return this.trace("createDataChannel",v,d),this.peerconnection.createDataChannel(v,d)},C.prototype.setLocalDescription=function(v,d,f){var h=this;return this.trace("setLocalDescription",y(v)),this.peerconnection.setLocalDescription(v).then(function(){h.trace("setLocalDescriptionOnSuccess"),d&&d()},function(_){h.trace("setLocalDescriptionOnFailure",_),f&&f(_)})},C.prototype.setRemoteDescription=function(v,d,f){var h=this;return this.trace("setRemoteDescription",y(v)),this.peerconnection.setRemoteDescription(v).then(function(){h.trace("setRemoteDescriptionOnSuccess"),d&&d()},function(_){h.trace("setRemoteDescriptionOnFailure",_),f&&f(_)})},C.prototype.close=function(){this.trace("stop"),"closed"!=this.peerconnection.signalingState&&this.peerconnection.close()},C.prototype.createOffer=function(v,d,f){var h=this;return this.trace("createOffer",f),this.peerconnection.createOffer(f).then(function(_){h.trace("createOfferOnSuccess",y(_)),v&&v(_)},function(_){h.trace("createOfferOnFailure",_),d&&d(_)})},C.prototype.createAnswer=function(v,d,f){var h=this;return this.trace("createAnswer",f),this.peerconnection.createAnswer(f).then(function(_){h.trace("createAnswerOnSuccess",y(_)),v&&v(_)},function(_){h.trace("createAnswerOnFailure",_),d&&d(_)})},C.prototype.addIceCandidate=function(v,d,f){var h=this;return this.trace("addIceCandidate",v),this.peerconnection.addIceCandidate(v).then(function(){d&&d()},function(_){h.trace("addIceCandidateOnFailure",_),f&&f(_)})},C.prototype.getStats=function(){this.peerconnection.getStats.apply(this.peerconnection,arguments)},N.exports=C},1451:N=>{N.exports=function(w){return w&&"object"==typeof w&&"function"==typeof w.copy&&"function"==typeof w.fill&&"function"==typeof w.readUInt8}},8791:(N,T,w)=>{"use strict";var u=w(3407),b=w(110),D=w(2031),y=w(597);function g(X){return X.call.bind(X)}var C=typeof BigInt<"u",v=typeof Symbol<"u",d=g(Object.prototype.toString),f=g(Number.prototype.valueOf),h=g(String.prototype.valueOf),_=g(Boolean.prototype.valueOf);if(C)var S=g(BigInt.prototype.valueOf);if(v)var I=g(Symbol.prototype.valueOf);function A(X,Ns){if("object"!=typeof X)return!1;try{return Ns(X),!0}catch{return!1}}function W(X){return"[object Map]"===d(X)}function te(X){return"[object Set]"===d(X)}function ve(X){return"[object WeakMap]"===d(X)}function ue(X){return"[object WeakSet]"===d(X)}function Ce(X){return"[object ArrayBuffer]"===d(X)}function we(X){return!(typeof ArrayBuffer>"u")&&(Ce.working?Ce(X):X instanceof ArrayBuffer)}function F(X){return"[object DataView]"===d(X)}function H(X){return!(typeof DataView>"u")&&(F.working?F(X):X instanceof DataView)}T.isArgumentsObject=u,T.isGeneratorFunction=b,T.isTypedArray=y,T.isPromise=function O(X){return typeof Promise<"u"&&X instanceof Promise||null!==X&&"object"==typeof X&&"function"==typeof X.then&&"function"==typeof X.catch},T.isArrayBufferView=function L(X){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(X):y(X)||H(X)},T.isUint8Array=function j(X){return"Uint8Array"===D(X)},T.isUint8ClampedArray=function m(X){return"Uint8ClampedArray"===D(X)},T.isUint16Array=function M(X){return"Uint16Array"===D(X)},T.isUint32Array=function R(X){return"Uint32Array"===D(X)},T.isInt8Array=function k(X){return"Int8Array"===D(X)},T.isInt16Array=function V(X){return"Int16Array"===D(X)},T.isInt32Array=function q(X){return"Int32Array"===D(X)},T.isFloat32Array=function U(X){return"Float32Array"===D(X)},T.isFloat64Array=function G(X){return"Float64Array"===D(X)},T.isBigInt64Array=function fe(X){return"BigInt64Array"===D(X)},T.isBigUint64Array=function $(X){return"BigUint64Array"===D(X)},W.working=typeof Map<"u"&&W(new Map),T.isMap=function ne(X){return!(typeof Map>"u")&&(W.working?W(X):X instanceof Map)},te.working=typeof Set<"u"&&te(new Set),T.isSet=function de(X){return!(typeof Set>"u")&&(te.working?te(X):X instanceof Set)},ve.working=typeof WeakMap<"u"&&ve(new WeakMap),T.isWeakMap=function he(X){return!(typeof WeakMap>"u")&&(ve.working?ve(X):X instanceof WeakMap)},ue.working=typeof WeakSet<"u"&&ue(new WeakSet),T.isWeakSet=function oe(X){return ue(X)},Ce.working=typeof ArrayBuffer<"u"&&Ce(new ArrayBuffer),T.isArrayBuffer=we,F.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&F(new DataView(new ArrayBuffer(1),0,1)),T.isDataView=H;var Y=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ce(X){return"[object SharedArrayBuffer]"===d(X)}function _e(X){return!(typeof Y>"u")&&(typeof ce.working>"u"&&(ce.working=ce(new Y)),ce.working?ce(X):X instanceof Y)}function tn(X){return A(X,f)}function An(X){return A(X,h)}function Tr(X){return A(X,_)}function mo(X){return C&&A(X,S)}function Kc(X){return v&&A(X,I)}T.isSharedArrayBuffer=_e,T.isAsyncFunction=function He(X){return"[object AsyncFunction]"===d(X)},T.isMapIterator=function le(X){return"[object Map Iterator]"===d(X)},T.isSetIterator=function Pe(X){return"[object Set Iterator]"===d(X)},T.isGeneratorObject=function Ve(X){return"[object Generator]"===d(X)},T.isWebAssemblyCompiledModule=function nt(X){return"[object WebAssembly.Module]"===d(X)},T.isNumberObject=tn,T.isStringObject=An,T.isBooleanObject=Tr,T.isBigIntObject=mo,T.isSymbolObject=Kc,T.isBoxedPrimitive=function ih(X){return tn(X)||An(X)||Tr(X)||mo(X)||Kc(X)},T.isAnyArrayBuffer=function oh(X){return typeof Uint8Array<"u"&&(we(X)||_e(X))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(X){Object.defineProperty(T,X,{enumerable:!1,value:function(){throw new Error(X+" is not supported in userland")}})})},6788:(N,T,w)=>{var u=Object.getOwnPropertyDescriptors||function(H){for(var Y=Object.keys(H),ce={},_e=0;_e<Y.length;_e++)ce[Y[_e]]=Object.getOwnPropertyDescriptor(H,Y[_e]);return ce},b=/%[sdj%]/g;T.format=function(F){if(!k(F)){for(var H=[],Y=0;Y<arguments.length;Y++)H.push(C(arguments[Y]));return H.join(" ")}Y=1;for(var ce=arguments,_e=ce.length,He=String(F).replace(b,function(Pe){if("%%"===Pe)return"%";if(Y>=_e)return Pe;switch(Pe){case"%s":return String(ce[Y++]);case"%d":return Number(ce[Y++]);case"%j":try{return JSON.stringify(ce[Y++])}catch{return"[Circular]"}default:return Pe}}),le=ce[Y];Y<_e;le=ce[++Y])m(le)||!G(le)?He+=" "+le:He+=" "+C(le);return He},T.deprecate=function(F,H){if(typeof process<"u"&&!0===process.noDeprecation)return F;if(typeof process>"u")return function(){return T.deprecate(F,H).apply(this,arguments)};var Y=!1;return function ce(){if(!Y){if(process.throwDeprecation)throw new Error(H);process.traceDeprecation?console.trace(H):console.error(H),Y=!0}return F.apply(this,arguments)}};var D={},y=/^$/;if(process.env.NODE_DEBUG){var g=process.env.NODE_DEBUG;g=g.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),y=new RegExp("^"+g+"$","i")}function C(F,H){var Y={seen:[],stylize:d};return arguments.length>=3&&(Y.depth=arguments[2]),arguments.length>=4&&(Y.colors=arguments[3]),j(H)?Y.showHidden=H:H&&T._extend(Y,H),q(Y.showHidden)&&(Y.showHidden=!1),q(Y.depth)&&(Y.depth=2),q(Y.colors)&&(Y.colors=!1),q(Y.customInspect)&&(Y.customInspect=!0),Y.colors&&(Y.stylize=v),h(Y,F,Y.depth)}function v(F,H){var Y=C.styles[H];return Y?"\x1b["+C.colors[Y][0]+"m"+F+"\x1b["+C.colors[Y][1]+"m":F}function d(F,H){return F}function h(F,H,Y){if(F.customInspect&&H&&W(H.inspect)&&H.inspect!==T.inspect&&(!H.constructor||H.constructor.prototype!==H)){var ce=H.inspect(Y,F);return k(ce)||(ce=h(F,ce,Y)),ce}var _e=function _(F,H){if(q(H))return F.stylize("undefined","undefined");if(k(H)){var Y="'"+JSON.stringify(H).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return F.stylize(Y,"string")}return R(H)?F.stylize(""+H,"number"):j(H)?F.stylize(""+H,"boolean"):m(H)?F.stylize("null","null"):void 0}(F,H);if(_e)return _e;var He=Object.keys(H),le=function f(F){var H={};return F.forEach(function(Y,ce){H[Y]=!0}),H}(He);if(F.showHidden&&(He=Object.getOwnPropertyNames(H)),$(H)&&(He.indexOf("message")>=0||He.indexOf("description")>=0))return S(H);if(0===He.length){if(W(H))return F.stylize("[Function"+(H.name?": "+H.name:"")+"]","special");if(U(H))return F.stylize(RegExp.prototype.toString.call(H),"regexp");if(fe(H))return F.stylize(Date.prototype.toString.call(H),"date");if($(H))return S(H)}var Tr,Ve="",nt=!1,tn=["{","}"];return L(H)&&(nt=!0,tn=["[","]"]),W(H)&&(Ve=" [Function"+(H.name?": "+H.name:"")+"]"),U(H)&&(Ve=" "+RegExp.prototype.toString.call(H)),fe(H)&&(Ve=" "+Date.prototype.toUTCString.call(H)),$(H)&&(Ve=" "+S(H)),0!==He.length||nt&&0!=H.length?Y<0?U(H)?F.stylize(RegExp.prototype.toString.call(H),"regexp"):F.stylize("[Object]","special"):(F.seen.push(H),Tr=nt?function I(F,H,Y,ce,_e){for(var He=[],le=0,Pe=H.length;le<Pe;++le)ue(H,String(le))?He.push(A(F,H,Y,ce,String(le),!0)):He.push("");return _e.forEach(function(Ve){Ve.match(/^\d+$/)||He.push(A(F,H,Y,ce,Ve,!0))}),He}(F,H,Y,le,He):He.map(function(mo){return A(F,H,Y,le,mo,nt)}),F.seen.pop(),function O(F,H,Y){var _e=F.reduce(function(He,le){return le.indexOf("\n"),He+le.replace(/\u001b\[\d\d?m/g,"").length+1},0);return _e>60?Y[0]+(""===H?"":H+"\n ")+" "+F.join(",\n  ")+" "+Y[1]:Y[0]+H+" "+F.join(", ")+" "+Y[1]}(Tr,Ve,tn)):tn[0]+Ve+tn[1]}function S(F){return"["+Error.prototype.toString.call(F)+"]"}function A(F,H,Y,ce,_e,He){var le,Pe,Ve;if((Ve=Object.getOwnPropertyDescriptor(H,_e)||{value:H[_e]}).get?Pe=F.stylize(Ve.set?"[Getter/Setter]":"[Getter]","special"):Ve.set&&(Pe=F.stylize("[Setter]","special")),ue(ce,_e)||(le="["+_e+"]"),Pe||(F.seen.indexOf(Ve.value)<0?(Pe=m(Y)?h(F,Ve.value,null):h(F,Ve.value,Y-1)).indexOf("\n")>-1&&(Pe=He?Pe.split("\n").map(function(nt){return"  "+nt}).join("\n").slice(2):"\n"+Pe.split("\n").map(function(nt){return"   "+nt}).join("\n")):Pe=F.stylize("[Circular]","special")),q(le)){if(He&&_e.match(/^\d+$/))return Pe;(le=JSON.stringify(""+_e)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(le=le.slice(1,-1),le=F.stylize(le,"name")):(le=le.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),le=F.stylize(le,"string"))}return le+": "+Pe}function L(F){return Array.isArray(F)}function j(F){return"boolean"==typeof F}function m(F){return null===F}function R(F){return"number"==typeof F}function k(F){return"string"==typeof F}function q(F){return void 0===F}function U(F){return G(F)&&"[object RegExp]"===te(F)}function G(F){return"object"==typeof F&&null!==F}function fe(F){return G(F)&&"[object Date]"===te(F)}function $(F){return G(F)&&("[object Error]"===te(F)||F instanceof Error)}function W(F){return"function"==typeof F}function te(F){return Object.prototype.toString.call(F)}function de(F){return F<10?"0"+F.toString(10):F.toString(10)}T.debuglog=function(F){if(F=F.toUpperCase(),!D[F])if(y.test(F)){var H=process.pid;D[F]=function(){var Y=T.format.apply(T,arguments);console.error("%s %d: %s",F,H,Y)}}else D[F]=function(){};return D[F]},T.inspect=C,C.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},C.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},T.types=w(8791),T.isArray=L,T.isBoolean=j,T.isNull=m,T.isNullOrUndefined=function M(F){return null==F},T.isNumber=R,T.isString=k,T.isSymbol=function V(F){return"symbol"==typeof F},T.isUndefined=q,T.isRegExp=U,T.types.isRegExp=U,T.isObject=G,T.isDate=fe,T.types.isDate=fe,T.isError=$,T.types.isNativeError=$,T.isFunction=W,T.isPrimitive=function ne(F){return null===F||"boolean"==typeof F||"number"==typeof F||"string"==typeof F||"symbol"==typeof F||typeof F>"u"},T.isBuffer=w(1451);var ve=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function ue(F,H){return Object.prototype.hasOwnProperty.call(F,H)}T.log=function(){console.log("%s - %s",function he(){var F=new Date,H=[de(F.getHours()),de(F.getMinutes()),de(F.getSeconds())].join(":");return[F.getDate(),ve[F.getMonth()],H].join(" ")}(),T.format.apply(T,arguments))},T.inherits=w(3894),T._extend=function(F,H){if(!H||!G(H))return F;for(var Y=Object.keys(H),ce=Y.length;ce--;)F[Y[ce]]=H[Y[ce]];return F};var oe=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;function Ce(F,H){if(!F){var Y=new Error("Promise was rejected with a falsy value");Y.reason=F,F=Y}return H(F)}T.promisify=function(H){if("function"!=typeof H)throw new TypeError('The "original" argument must be of type Function');if(oe&&H[oe]){var Y;if("function"!=typeof(Y=H[oe]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(Y,oe,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Y}function Y(){for(var ce,_e,He=new Promise(function(Ve,nt){ce=Ve,_e=nt}),le=[],Pe=0;Pe<arguments.length;Pe++)le.push(arguments[Pe]);le.push(function(Ve,nt){Ve?_e(Ve):ce(nt)});try{H.apply(this,le)}catch(Ve){_e(Ve)}return He}return Object.setPrototypeOf(Y,Object.getPrototypeOf(H)),oe&&Object.defineProperty(Y,oe,{value:Y,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(Y,u(H))},T.promisify.custom=oe,T.callbackify=function we(F){if("function"!=typeof F)throw new TypeError('The "original" argument must be of type Function');function H(){for(var Y=[],ce=0;ce<arguments.length;ce++)Y.push(arguments[ce]);var _e=Y.pop();if("function"!=typeof _e)throw new TypeError("The last argument must be of type Function");var He=this,le=function(){return _e.apply(He,arguments)};F.apply(this,Y).then(function(Pe){process.nextTick(le.bind(null,null,Pe))},function(Pe){process.nextTick(Ce.bind(null,Pe,le))})}return Object.setPrototypeOf(H,Object.getPrototypeOf(F)),Object.defineProperties(H,u(F)),H}},3824:N=>{"use strict";var T=null,w=null,u=null,b=null,D=null,y=null,g={log:function(){},extractVersion:function(m,M,R){var k=m.match(M);return k&&k.length>=R&&parseInt(k[R],10)}};if("object"==typeof window&&(window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return"mozSrcObject"in this?this.mozSrcObject:this._srcObject},set:function(m){"mozSrcObject"in this?this.mozSrcObject=m:(this._srcObject=m,this.src=URL.createObjectURL(m))}}),T=window.navigator&&window.navigator.getUserMedia),w=function(m,M){m.srcObject=M},u=function(m,M){m.srcObject=M.srcObject},typeof window>"u"||!window.navigator)g.log("This does not appear to be a browser"),b="not a browser";else if(navigator.mozGetUserMedia){if(g.log("This appears to be Firefox"),b="firefox",D=g.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),y=31,window.RTCPeerConnection||(window.RTCPeerConnection=function(m,M){if(D<38&&m&&m.iceServers){for(var R=[],k=0;k<m.iceServers.length;k++){var V=m.iceServers[k];if(V.hasOwnProperty("urls"))for(var q=0;q<V.urls.length;q++){var U={url:V.urls[q]};0===V.urls[q].indexOf("turn")&&(U.username=V.username,U.credential=V.credential),R.push(U)}else R.push(m.iceServers[k])}m.iceServers=R}return new mozRTCPeerConnection(m,M)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?mozRTCPeerConnection.generateCertificate.apply(null,arguments):mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),T=function(m,M,R){var k=function(V){if("object"!=typeof V||V.require)return V;var q=[];return Object.keys(V).forEach(function(U){if("require"!==U&&"advanced"!==U&&"mediaSource"!==U){var G=V[U]="object"==typeof V[U]?V[U]:{ideal:V[U]};if((void 0!==G.min||void 0!==G.max||void 0!==G.exact)&&q.push(U),void 0!==G.exact&&("number"==typeof G.exact?G.min=G.max=G.exact:V[U]=G.exact,delete G.exact),void 0!==G.ideal){V.advanced=V.advanced||[];var fe={};fe[U]="number"==typeof G.ideal?{min:G.ideal,max:G.ideal}:G.ideal,V.advanced.push(fe),delete G.ideal,Object.keys(G).length||delete V[U]}}}),q.length&&(V.require=q),V};return D<38&&(g.log("spec: "+JSON.stringify(m)),m.audio&&(m.audio=k(m.audio)),m.video&&(m.video=k(m.video)),g.log("ff37: "+JSON.stringify(m))),navigator.mozGetUserMedia(m,M,R)},navigator.getUserMedia=T,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:I,addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(m){m([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},D<41){var v=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return v().then(void 0,function(m){if("NotFoundError"===m.name)return[];throw m})}}}else if(navigator.webkitGetUserMedia&&window.webkitRTCPeerConnection){g.log("This appears to be Chrome"),b="chrome",D=g.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),y=38,window.RTCPeerConnection=function(m,M){m&&m.iceTransportPolicy&&(m.iceTransports=m.iceTransportPolicy);var R=new webkitRTCPeerConnection(m,M),k=R.getStats.bind(R);return R.getStats=function(V,q,U){var G=this,fe=arguments;if(arguments.length>0&&"function"==typeof V)return k(V,q);var $=function(ne){var te={};return ne.result().forEach(function(ve){var he={id:ve.id,timestamp:ve.timestamp,type:ve.type};ve.names().forEach(function(ue){he[ue]=ve.stat(ue)}),te[he.id]=he}),te};return arguments.length>=2?k.apply(this,[function(ne){fe[1]($(ne))},arguments[0]]):new Promise(function(ne,te){k.apply(G,1===fe.length&&null===V?[function(de){ne.apply(null,[$(de)])},te]:[ne,te])})},R},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return arguments.length?webkitRTCPeerConnection.generateCertificate.apply(null,arguments):webkitRTCPeerConnection.generateCertificate}}),["createOffer","createAnswer"].forEach(function(m){var M=webkitRTCPeerConnection.prototype[m];webkitRTCPeerConnection.prototype[m]=function(){var R=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var k=1===arguments.length?arguments[0]:void 0;return new Promise(function(V,q){M.apply(R,[V,q,k])})}return M.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(m){var M=webkitRTCPeerConnection.prototype[m];webkitRTCPeerConnection.prototype[m]=function(){var R=arguments,k=this;return new Promise(function(V,q){M.apply(k,[R[0],function(){V(),R.length>=2&&R[1].apply(null,[])},function(U){q(U),R.length>=3&&R[2].apply(null,[U])}])})}});var d=function(m){if("object"!=typeof m||m.mandatory||m.optional)return m;var M={};return Object.keys(m).forEach(function(R){if("require"!==R&&"advanced"!==R&&"mediaSource"!==R){var k="object"==typeof m[R]?m[R]:{ideal:m[R]};void 0!==k.exact&&"number"==typeof k.exact&&(k.min=k.max=k.exact);var V=function(U,G){return U?U+G.charAt(0).toUpperCase()+G.slice(1):"deviceId"===G?"sourceId":G};if(void 0!==k.ideal){M.optional=M.optional||[];var q={};"number"==typeof k.ideal?(q[V("min",R)]=k.ideal,M.optional.push(q),(q={})[V("max",R)]=k.ideal,M.optional.push(q)):(q[V("",R)]=k.ideal,M.optional.push(q))}void 0!==k.exact&&"number"!=typeof k.exact?(M.mandatory=M.mandatory||{},M.mandatory[V("",R)]=k.exact):["min","max"].forEach(function(U){void 0!==k[U]&&(M.mandatory=M.mandatory||{},M.mandatory[V(U,R)]=k[U])})}}),m.advanced&&(M.optional=(M.optional||[]).concat(m.advanced)),M};if(T=function(m,M,R){return m.audio&&(m.audio=d(m.audio)),m.video&&(m.video=d(m.video)),g.log("chrome: "+JSON.stringify(m)),navigator.webkitGetUserMedia(m,M,R)},navigator.getUserMedia=T,navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:I,enumerateDevices:function(){return new Promise(function(m){var M={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(R){m(R.map(function(k){return{label:k.label,kind:M[k.kind],deviceId:k.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var f=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(m){return g.log("spec:   "+JSON.stringify(m)),m.audio=d(m.audio),m.video=d(m.video),g.log("chrome: "+JSON.stringify(m)),f(m)}}else navigator.mediaDevices.getUserMedia=function(m){return I(m)};typeof navigator.mediaDevices.addEventListener>"u"&&(navigator.mediaDevices.addEventListener=function(){g.log("Dummy mediaDevices.addEventListener called.")}),typeof navigator.mediaDevices.removeEventListener>"u"&&(navigator.mediaDevices.removeEventListener=function(){g.log("Dummy mediaDevices.removeEventListener called.")}),w=function(m,M){D>=43?m.srcObject=M:typeof m.src<"u"?m.src=URL.createObjectURL(M):g.log("Error attaching stream to element.")},u=function(m,M){D>=43?m.srcObject=M.srcObject:m.src=M.src}}else if(navigator.mediaDevices&&navigator.userAgent.match(/Edge\/(\d+).(\d+)$/)){if(g.log("This appears to be Edge"),b="edge",D=g.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),y=10547,window.RTCIceGatherer){var h=function(){return Math.random().toString(36).substr(2,10)},_=h(),S={splitLines:function(m){return m.trim().split("\n").map(function(M){return M.trim()})},splitSections:function(m){return m.split("\r\nm=").map(function(R,k){return(k>0?"m="+R:R).trim()+"\r\n"})},matchPrefix:function(m,M){return S.splitLines(m).filter(function(R){return 0===R.indexOf(M)})},parseCandidate:function(m){for(var M,R={foundation:(M=0===m.indexOf("a=candidate:")?m.substring(12).split(" "):m.substring(10).split(" "))[0],component:M[1],protocol:M[2].toLowerCase(),priority:parseInt(M[3],10),ip:M[4],port:parseInt(M[5],10),type:M[7]},k=8;k<M.length;k+=2)switch(M[k]){case"raddr":R.relatedAddress=M[k+1];break;case"rport":R.relatedPort=parseInt(M[k+1],10);break;case"tcptype":R.tcpType=M[k+1]}return R},writeCandidate:function(m){var M=[];M.push(m.foundation),M.push(m.component),M.push(m.protocol.toUpperCase()),M.push(m.priority),M.push(m.ip),M.push(m.port);var R=m.type;return M.push("typ"),M.push(R),"host"!==R&&m.relatedAddress&&m.relatedPort&&(M.push("raddr"),M.push(m.relatedAddress),M.push("rport"),M.push(m.relatedPort)),m.tcpType&&"tcp"===m.protocol.toLowerCase()&&(M.push("tcptype"),M.push(m.tcpType)),"candidate:"+M.join(" ")},parseRtpMap:function(m){var M=m.substr(9).split(" "),R={payloadType:parseInt(M.shift(),10)};return M=M[0].split("/"),R.name=M[0],R.clockRate=parseInt(M[1],10),R.numChannels=3===M.length?parseInt(M[2],10):1,R},writeRtpMap:function(m){var M=m.payloadType;return void 0!==m.preferredPayloadType&&(M=m.preferredPayloadType),"a=rtpmap:"+M+" "+m.name+"/"+m.clockRate+(1!==m.numChannels?"/"+m.numChannels:"")+"\r\n"},parseFmtp:function(m){for(var R,M={},k=m.substr(m.indexOf(" ")+1).split(";"),V=0;V<k.length;V++)M[(R=k[V].trim().split("="))[0].trim()]=R[1];return M},writeFtmp:function(m){var M="",R=m.payloadType;if(void 0!==m.preferredPayloadType&&(R=m.preferredPayloadType),m.parameters&&m.parameters.length){var k=[];Object.keys(m.parameters).forEach(function(V){k.push(V+"="+m.parameters[V])}),M+="a=fmtp:"+R+" "+k.join(";")+"\r\n"}return M},parseRtcpFb:function(m){var M=m.substr(m.indexOf(" ")+1).split(" ");return{type:M.shift(),parameter:M.join(" ")}},writeRtcpFb:function(m){var M="",R=m.payloadType;return void 0!==m.preferredPayloadType&&(R=m.preferredPayloadType),m.rtcpFeedback&&m.rtcpFeedback.length&&m.rtcpFeedback.forEach(function(k){M+="a=rtcp-fb:"+R+" "+k.type+" "+k.parameter+"\r\n"}),M},parseSsrcMedia:function(m){var M=m.indexOf(" "),R={ssrc:m.substr(7,M-7)},k=m.indexOf(":",M);return k>-1?(R.attribute=m.substr(M+1,k-M-1),R.value=m.substr(k+1)):R.attribute=m.substr(M+1),R},getDtlsParameters:function(m,M){var R=S.splitLines(m),k=(R=R.concat(S.splitLines(M))).filter(function(q){return 0===q.indexOf("a=fingerprint:")})[0].substr(14);return{role:"auto",fingerprints:[{algorithm:k.split(" ")[0],value:k.split(" ")[1]}]}},writeDtlsParameters:function(m,M){var R="a=setup:"+M+"\r\n";return m.fingerprints.forEach(function(k){R+="a=fingerprint:"+k.algorithm+" "+k.value+"\r\n"}),R},getIceParameters:function(m,M){var R=S.splitLines(m);return{usernameFragment:(R=R.concat(S.splitLines(M))).filter(function(V){return 0===V.indexOf("a=ice-ufrag:")})[0].substr(12),password:R.filter(function(V){return 0===V.indexOf("a=ice-pwd:")})[0].substr(10)}},writeIceParameters:function(m){return"a=ice-ufrag:"+m.usernameFragment+"\r\na=ice-pwd:"+m.password+"\r\n"},parseRtpParameters:function(m){for(var M={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},k=S.splitLines(m)[0].split(" "),V=3;V<k.length;V++){var q=k[V],U=S.matchPrefix(m,"a=rtpmap:"+q+" ")[0];if(U){var G=S.parseRtpMap(U),fe=S.matchPrefix(m,"a=fmtp:"+q+" ");G.parameters=fe.length?S.parseFmtp(fe[0]):{},G.rtcpFeedback=S.matchPrefix(m,"a=rtcp-fb:"+q+" ").map(S.parseRtcpFb),M.codecs.push(G)}}return M},writeRtpDescription:function(m,M){var R="";return R+="m="+m+" ",R+=M.codecs.length>0?"9":"0",R+=" UDP/TLS/RTP/SAVPF ",R+=M.codecs.map(function(k){return void 0!==k.preferredPayloadType?k.preferredPayloadType:k.payloadType}).join(" ")+"\r\n",R+="c=IN IP4 0.0.0.0\r\n",R+="a=rtcp:9 IN IP4 0.0.0.0\r\n",M.codecs.forEach(function(k){R+=S.writeRtpMap(k),R+=S.writeFtmp(k),R+=S.writeRtcpFb(k)}),R+="a=rtcp-mux\r\n"},writeSessionBoilerplate:function(){return"v=0\r\no=thisisadapterortc 8169639915646943137 2 IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},writeMediaSection:function(m,M,R,k){var V=S.writeRtpDescription(m.kind,M);if(V+=S.writeIceParameters(m.iceGatherer.getLocalParameters()),V+=S.writeDtlsParameters(m.dtlsTransport.getLocalParameters(),"offer"===R?"actpass":"active"),V+="a=mid:"+m.mid+"\r\n",V+=m.rtpSender&&m.rtpReceiver?"a=sendrecv\r\n":m.rtpSender?"a=sendonly\r\n":m.rtpReceiver?"a=recvonly\r\n":"a=inactive\r\n",m.rtpSender){var q="msid:"+k.id+" "+m.rtpSender.track.id+"\r\n";V+="a="+q,V+="a=ssrc:"+m.sendSsrc+" "+q}return V+"a=ssrc:"+m.sendSsrc+" cname:"+_+"\r\n"},getDirection:function(m,M){for(var R=S.splitLines(m),k=0;k<R.length;k++)switch(R[k]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return R[k].substr(2)}return M?S.getDirection(M):"sendrecv"}};window.RTCIceCandidate||(window.RTCIceCandidate=function(m){return m}),window.RTCSessionDescription||(window.RTCSessionDescription=function(m){return m}),window.RTCPeerConnection=function(m){var M=this;if(this.onicecandidate=null,this.onaddstream=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return M.localStreams},this.getRemoteStreams=function(){return M.remoteStreams},this.localDescription=new j({type:"",sdp:""}),this.remoteDescription=new j({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},m&&m.iceTransportPolicy)switch(m.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=m.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}m&&m.iceServers&&m.iceServers.forEach(function(R){var k;R.urls&&-1!==(k="string"==typeof R.urls?R.urls:R.urls[0]).indexOf("transport=udp")&&M.iceServers.push({username:R.username,credential:R.credential,urls:k})}),this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var m=this;this._localIceCandidatesBuffer.forEach(function(M){null!==m.onicecandidate&&m.onicecandidate(M)}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(m){this.localStreams.push(m.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(m){var M=this.localStreams.indexOf(m);M>-1&&(this.localStreams.splice(M,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype._getCommonCapabilities=function(m,M){var R={codecs:[],headerExtensions:[],fecMechanisms:[]};return m.codecs.forEach(function(k){for(var V=0;V<M.codecs.length;V++){var q=M.codecs[V];if(k.name.toLowerCase()===q.name.toLowerCase()&&k.clockRate===q.clockRate&&k.numChannels===q.numChannels){R.codecs.push(q);break}}}),m.headerExtensions.forEach(function(k){for(var V=0;V<M.headerExtensions.length;V++){var q=M.headerExtensions[V];if(k.uri===q.uri){R.headerExtensions.push(q);break}}}),R},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(m,M){var R=this,k=new RTCIceGatherer(R.iceOptions),V=new RTCIceTransport(k);k.onlocalcandidate=function(U){var G={};G.candidate={sdpMid:m,sdpMLineIndex:M};var fe=U.candidate;fe&&0!==Object.keys(fe).length?(fe.component="RTCP"===V.component?2:1,G.candidate.candidate=S.writeCandidate(fe)):(void 0===k.state&&(k.state="completed"),G.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates");var $=R.transceivers.every(function(W){return W.iceGatherer&&"completed"===W.iceGatherer.state});null!==R.onicecandidate&&(R.localDescription&&""===R.localDescription.type?(R._localIceCandidatesBuffer.push(G),$&&R._localIceCandidatesBuffer.push({})):(R.onicecandidate(G),$&&R.onicecandidate({})))},V.onicestatechange=function(){R._updateConnectionState()};var q=new RTCDtlsTransport(V);return q.ondtlsstatechange=function(){R._updateConnectionState()},q.onerror=function(){q.state="failed",R._updateConnectionState()},{iceGatherer:k,iceTransport:V,dtlsTransport:q}},window.RTCPeerConnection.prototype._transceive=function(m,M,R){var k=this._getCommonCapabilities(m.localCapabilities,m.remoteCapabilities);M&&m.rtpSender&&(k.encodings=[{ssrc:m.sendSsrc}],k.rtcp={cname:_,ssrc:m.recvSsrc},m.rtpSender.send(k)),R&&m.rtpReceiver&&(k.encodings=[{ssrc:m.recvSsrc}],k.rtcp={cname:m.cname,ssrc:m.sendSsrc},m.rtpReceiver.receive(k))},window.RTCPeerConnection.prototype.setLocalDescription=function(m){var M=this;if("offer"===m.type)this._pendingOffer&&(this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===m.type){var R=S.splitSections(M.remoteDescription.sdp),k=R.shift();R.forEach(function(G,fe){var $=M.transceivers[fe],W=$.iceGatherer,ne=$.iceTransport,te=$.dtlsTransport,de=$.localCapabilities,ve=$.remoteCapabilities;if("0"!==G.split("\n",1)[0].split(" ",2)[1]){var ue=S.getIceParameters(G,k);ne.start(W,ue,"controlled");var oe=S.getDtlsParameters(G,k);te.start(oe);var Ce=M._getCommonCapabilities(de,ve);M._transceive($,Ce.codecs.length>0,!1)}})}switch(this.localDescription=m,m.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+m.type+'"')}var V=arguments.length>1&&"function"==typeof arguments[1];if(V){var q=arguments[1];window.setTimeout(function(){q(),M._emitBufferedCandidates()},0)}var U=Promise.resolve();return U.then(function(){V||window.setTimeout(M._emitBufferedCandidates.bind(M),0)}),U},window.RTCPeerConnection.prototype.setRemoteDescription=function(m){var M=this,R=new MediaStream,k=S.splitSections(m.sdp),V=k.shift();switch(k.forEach(function(q,U){var te,de,ve,he,ue,oe,Ce,we,F,Y,ce,fe=S.splitLines(q)[0].substr(2).split(" "),$=fe[0],W="0"===fe[1],ne=S.getDirection(q,V),H=S.parseRtpParameters(q);W||(Y=S.getIceParameters(q,V),ce=S.getDtlsParameters(q,V));var He,_e=S.matchPrefix(q,"a=mid:")[0].substr(6),le=S.matchPrefix(q,"a=ssrc:").map(function(nt){return S.parseSsrcMedia(nt)}).filter(function(nt){return"cname"===nt.attribute})[0];if(le&&(we=parseInt(le.ssrc,10),He=le.value),"offer"===m.type){var Pe=M._createIceAndDtlsTransports(_e,U);if(F=RTCRtpReceiver.getCapabilities($),Ce=1001*(2*U+2),oe=new RTCRtpReceiver(Pe.dtlsTransport,$),R.addTrack(oe.track),M.localStreams.length>0&&M.localStreams[0].getTracks().length>=U){var Ve=M.localStreams[0].getTracks()[U];ue=new RTCRtpSender(Ve,Pe.dtlsTransport)}M.transceivers[U]={iceGatherer:Pe.iceGatherer,iceTransport:Pe.iceTransport,dtlsTransport:Pe.dtlsTransport,localCapabilities:F,remoteCapabilities:H,rtpSender:ue,rtpReceiver:oe,kind:$,mid:_e,cname:He,sendSsrc:Ce,recvSsrc:we},M._transceive(M.transceivers[U],!1,"sendrecv"===ne||"sendonly"===ne)}else"answer"===m.type&&!W&&(de=(te=M.transceivers[U]).iceGatherer,ve=te.iceTransport,he=te.dtlsTransport,ue=te.rtpSender,oe=te.rtpReceiver,Ce=te.sendSsrc,F=te.localCapabilities,M.transceivers[U].recvSsrc=we,M.transceivers[U].remoteCapabilities=H,M.transceivers[U].cname=He,ve.start(de,Y,"controlling"),he.start(ce),M._transceive(te,"sendrecv"===ne||"recvonly"===ne,"sendrecv"===ne||"sendonly"===ne),!oe||"sendrecv"!==ne&&"sendonly"!==ne?delete te.rtpReceiver:R.addTrack(oe.track))}),this.remoteDescription=m,m.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+m.type+'"')}return window.setTimeout(function(){null!==M.onaddstream&&R.getTracks().length&&(M.remoteStreams.push(R),window.setTimeout(function(){M.onaddstream({stream:R})},0))},0),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(m){m.iceTransport&&m.iceTransport.stop(),m.dtlsTransport&&m.dtlsTransport.stop(),m.rtpSender&&m.rtpSender.stop(),m.rtpReceiver&&m.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(m){this.signalingState=m,null!==this.onsignalingstatechange&&this.onsignalingstatechange()},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){null!==this.onnegotiationneeded&&this.onnegotiationneeded()},window.RTCPeerConnection.prototype._updateConnectionState=function(){var M,R={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};this.transceivers.forEach(function(k){R[k.iceTransport.state]++,R[k.dtlsTransport.state]++}),R.connected+=R.completed,M="new",R.failed>0?M="failed":R.connecting>0||R.checking>0?M="connecting":R.disconnected>0?M="disconnected":R.new>0?M="new":(R.connecting>0||R.completed>0)&&(M="connected"),M!==this.iceConnectionState&&(this.iceConnectionState=M,null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange())},window.RTCPeerConnection.prototype.createOffer=function(){var M,m=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!=typeof arguments[0]?M=arguments[0]:3===arguments.length&&(M=arguments[2]);var R=[],k=0,V=0;if(this.localStreams.length&&(k=this.localStreams[0].getAudioTracks().length,V=this.localStreams[0].getVideoTracks().length),M){if(M.mandatory||M.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==M.offerToReceiveAudio&&(k=M.offerToReceiveAudio),void 0!==M.offerToReceiveVideo&&(V=M.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(fe){R.push({kind:fe.kind,track:fe,wantReceive:"audio"===fe.kind?k>0:V>0}),"audio"===fe.kind?k--:"video"===fe.kind&&V--});k>0||V>0;)k>0&&(R.push({kind:"audio",wantReceive:!0}),k--),V>0&&(R.push({kind:"video",wantReceive:!0}),V--);var q=S.writeSessionBoilerplate(),U=[];R.forEach(function(fe,$){var he,ue,W=fe.track,ne=fe.kind,te=h(),de=m._createIceAndDtlsTransports(te,$),ve=RTCRtpSender.getCapabilities(ne),oe=1001*(2*$+1);W&&(he=new RTCRtpSender(W,de.dtlsTransport)),fe.wantReceive&&(ue=new RTCRtpReceiver(de.dtlsTransport,ne)),U[$]={iceGatherer:de.iceGatherer,iceTransport:de.iceTransport,dtlsTransport:de.dtlsTransport,localCapabilities:ve,remoteCapabilities:null,rtpSender:he,rtpReceiver:ue,kind:ne,mid:te,sendSsrc:oe,recvSsrc:null};var Ce=U[$];q+=S.writeMediaSection(Ce,Ce.localCapabilities,"offer",m.localStreams[0])}),this._pendingOffer=U;var G=new j({type:"offer",sdp:q});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,G),Promise.resolve(G)},window.RTCPeerConnection.prototype.createAnswer=function(){var m=this,R=S.writeSessionBoilerplate();this.transceivers.forEach(function(V){var q=m._getCommonCapabilities(V.localCapabilities,V.remoteCapabilities);R+=S.writeMediaSection(V,q,"answer",m.localStreams[0])});var k=new j({type:"answer",sdp:R});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,k),Promise.resolve(k)},window.RTCPeerConnection.prototype.addIceCandidate=function(m){var M=m.sdpMLineIndex;if(m.sdpMid)for(var R=0;R<this.transceivers.length;R++)if(this.transceivers[R].mid===m.sdpMid){M=R;break}var k=this.transceivers[M];if(k){var V=Object.keys(m.candidate).length>0?S.parseCandidate(m.candidate):{};if("tcp"===V.protocol&&0===V.port||"1"!==V.component)return;"endOfCandidates"===V.type&&(V={}),k.iceTransport.addRemoteCandidate(V)}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var m=[];this.transceivers.forEach(function(R){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(k){R[k]&&m.push(R[k].getStats())})});var M=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(R){var k={};Promise.all(m).then(function(V){V.forEach(function(q){Object.keys(q).forEach(function(U){k[U]=q[U]})}),M&&window.setTimeout(M,0,k),R(k)})})}}}else g.log("Browser does not appear to be WebRTC-capable");function I(m){return new Promise(function(M,R){T(m,M,R)})}"object"==typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(m){var M=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=m),this.addEventListener("addstream",this._ontrackpoly=function(R){"chrome"===b&&R.stream.addEventListener("addtrack",function(k){var V=new Event("track");V.track=k.track,V.receiver={track:k.track},V.streams=[R.stream],M.dispatchEvent(V)}),R.stream.getTracks().forEach(function(k){var V=new Event("track");V.track=k,V.receiver={track:k},V.streams=[R.stream],this.dispatchEvent(V)}.bind(this))}.bind(this))}});var O,L,j,A={};try{Object.defineProperty(A,"version",{set:function(m){D=m}})}catch{}typeof window<"u"&&(O=window.RTCPeerConnection,L=window.RTCIceCandidate,j=window.RTCSessionDescription),N.exports={RTCPeerConnection:O,RTCIceCandidate:L,RTCSessionDescription:j,getUserMedia:T,attachMediaStream:w,reattachMediaStream:u,webrtcDetectedBrowser:b,webrtcDetectedVersion:D,webrtcMinimumVersion:y,webrtcTesting:A,webrtcUtils:g}},6868:(N,T,w)=>{"use strict";!function(){var u=w(6794).log,b=w(6794).browserDetails;N.exports.browserDetails=b,N.exports.extractVersion=w(6794).extractVersion,N.exports.disableLog=w(6794).disableLog,w(6794).disableLog(!0);var D=w(7587)||null,y=w(8943)||null,g=w(5188)||null,C=w(9681)||null;switch(b.browser){case"opera":case"chrome":if(!D||!D.shimPeerConnection)return void u("Chrome shim is not included in this adapter release.");u("adapter.js shimming chrome."),N.exports.browserShim=D,D.shimGetUserMedia(),D.shimMediaStream(),D.shimSourceObject(),D.shimPeerConnection(),D.shimOnTrack();break;case"firefox":if(!g||!g.shimPeerConnection)return void u("Firefox shim is not included in this adapter release.");u("adapter.js shimming firefox."),N.exports.browserShim=g,g.shimGetUserMedia(),g.shimSourceObject(),g.shimPeerConnection(),g.shimOnTrack();break;case"edge":if(!y||!y.shimPeerConnection)return void u("MS edge shim is not included in this adapter release.");u("adapter.js shimming edge."),N.exports.browserShim=y,y.shimGetUserMedia(),y.shimPeerConnection();break;case"safari":if(!C)return void u("Safari shim is not included in this adapter release.");u("adapter.js shimming safari."),N.exports.browserShim=C,C.shimGetUserMedia();break;default:u("Unsupported browser!")}}()},7587:(N,T,w)=>{"use strict";var u=w(6794).log,b=w(6794).browserDetails,D={shimMediaStream:function(){window.MediaStream=window.MediaStream||window.webkitMediaStream},shimOnTrack:function(){"object"==typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(y){var g=this;this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=y),this.addEventListener("addstream",this._ontrackpoly=function(C){C.stream.addEventListener("addtrack",function(v){var d=new Event("track");d.track=v.track,d.receiver={track:v.track},d.streams=[C.stream],g.dispatchEvent(d)}),C.stream.getTracks().forEach(function(v){var d=new Event("track");d.track=v,d.receiver={track:v},d.streams=[C.stream],this.dispatchEvent(d)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(y){var g=this;this._srcObject=y,this.src&&URL.revokeObjectURL(this.src),y?(this.src=URL.createObjectURL(y),y.addEventListener("addtrack",function(){g.src&&URL.revokeObjectURL(g.src),g.src=URL.createObjectURL(y)}),y.addEventListener("removetrack",function(){g.src&&URL.revokeObjectURL(g.src),g.src=URL.createObjectURL(y)})):this.src=""}})},shimPeerConnection:function(){window.RTCPeerConnection=function(y,g){u("PeerConnection"),y&&y.iceTransportPolicy&&(y.iceTransports=y.iceTransportPolicy);var C=new webkitRTCPeerConnection(y,g),v=C.getStats.bind(C);return C.getStats=function(d,f,h){var _=this,S=arguments;if(arguments.length>0&&"function"==typeof d)return v(d,f);var I=function(L){var j={};return L.result().forEach(function(M){var R={id:M.id,timestamp:M.timestamp,type:M.type};M.names().forEach(function(k){R[k]=M.stat(k)}),j[R.id]=R}),j},A=function(L,j){var m=new Map(Object.keys(L).map(function(M){return[M,L[M]]}));return j=j||L,Object.keys(j).forEach(function(M){m[M]=j[M]}),m};return arguments.length>=2?v.apply(this,[function(L){S[1](A(I(L)))},arguments[0]]):new Promise(function(L,j){v.apply(_,1===S.length&&"object"==typeof d?[function(m){L(A(I(m)))},j]:[function(m){L(A(I(m),m.result()))},j])}).then(f,h)},C},window.RTCPeerConnection.prototype=webkitRTCPeerConnection.prototype,webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return webkitRTCPeerConnection.generateCertificate}}),b.version<51&&(["createOffer","createAnswer"].forEach(function(y){var g=webkitRTCPeerConnection.prototype[y];webkitRTCPeerConnection.prototype[y]=function(){var C=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var v=1===arguments.length?arguments[0]:void 0;return new Promise(function(d,f){g.apply(C,[d,f,v])})}return g.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(y){var g=webkitRTCPeerConnection.prototype[y];webkitRTCPeerConnection.prototype[y]=function(){var C=arguments,v=this,d=new Promise(function(f,h){g.apply(v,[C[0],f,h])});return C.length<2?d:d.then(function(){C[1].apply(null,[])},function(f){C.length>=3&&C[2].apply(null,[f])})}})),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(y){var g=webkitRTCPeerConnection.prototype[y];webkitRTCPeerConnection.prototype[y]=function(){return arguments[0]=new("addIceCandidate"===y?RTCIceCandidate:RTCSessionDescription)(arguments[0]),g.apply(this,arguments)}})},attachMediaStream:function(y,g){u("DEPRECATED, attachMediaStream will soon be removed."),b.version>=43?y.srcObject=g:typeof y.src<"u"?y.src=URL.createObjectURL(g):u("Error attaching stream to element.")},reattachMediaStream:function(y,g){u("DEPRECATED, reattachMediaStream will soon be removed."),b.version>=43?y.srcObject=g.srcObject:y.src=g.src}};N.exports={shimMediaStream:D.shimMediaStream,shimOnTrack:D.shimOnTrack,shimSourceObject:D.shimSourceObject,shimPeerConnection:D.shimPeerConnection,shimGetUserMedia:w(4463),attachMediaStream:D.attachMediaStream,reattachMediaStream:D.reattachMediaStream}},4463:(N,T,w)=>{"use strict";var u=w(6794).log;N.exports=function(){var b=function(d){if("object"!=typeof d||d.mandatory||d.optional)return d;var f={};return Object.keys(d).forEach(function(h){if("require"!==h&&"advanced"!==h&&"mediaSource"!==h){var _="object"==typeof d[h]?d[h]:{ideal:d[h]};void 0!==_.exact&&"number"==typeof _.exact&&(_.min=_.max=_.exact);var S=function(A,O){return A?A+O.charAt(0).toUpperCase()+O.slice(1):"deviceId"===O?"sourceId":O};if(void 0!==_.ideal){f.optional=f.optional||[];var I={};"number"==typeof _.ideal?(I[S("min",h)]=_.ideal,f.optional.push(I),(I={})[S("max",h)]=_.ideal,f.optional.push(I)):(I[S("",h)]=_.ideal,f.optional.push(I))}void 0!==_.exact&&"number"!=typeof _.exact?(f.mandatory=f.mandatory||{},f.mandatory[S("",h)]=_.exact):["min","max"].forEach(function(A){void 0!==_[A]&&(f.mandatory=f.mandatory||{},f.mandatory[S(A,h)]=_[A])})}}),d.advanced&&(f.optional=(f.optional||[]).concat(d.advanced)),f},D=function(d,f){if((d=JSON.parse(JSON.stringify(d)))&&d.audio&&(d.audio=b(d.audio)),d&&"object"==typeof d.video){var h=d.video.facingMode;if((h=h&&("object"==typeof h?h:{ideal:h}))&&("user"===h.exact||"environment"===h.exact||"user"===h.ideal||"environment"===h.ideal)&&(!navigator.mediaDevices.getSupportedConstraints||!navigator.mediaDevices.getSupportedConstraints().facingMode)&&(delete d.video.facingMode,"environment"===h.exact||"environment"===h.ideal))return navigator.mediaDevices.enumerateDevices().then(function(_){var S=(_=_.filter(function(I){return"videoinput"===I.kind})).find(function(I){return-1!==I.label.toLowerCase().indexOf("back")})||_.length&&_[_.length-1];return S&&(d.video.deviceId=h.exact?{exact:S.deviceId}:{ideal:S.deviceId}),d.video=b(d.video),u("chrome: "+JSON.stringify(d)),f(d)});d.video=b(d.video)}return u("chrome: "+JSON.stringify(d)),f(d)},y=function(d){return{name:{PermissionDeniedError:"NotAllowedError",ConstraintNotSatisfiedError:"OverconstrainedError"}[d.name]||d.name,message:d.message,constraint:d.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};navigator.getUserMedia=function(d,f,h){D(d,function(_){navigator.webkitGetUserMedia(_,f,function(S){h(y(S))})})};var C=function(d){return new Promise(function(f,h){navigator.getUserMedia(d,f,h)})};if(navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:C,enumerateDevices:function(){return new Promise(function(d){var f={audio:"audioinput",video:"videoinput"};return MediaStreamTrack.getSources(function(h){d(h.map(function(_){return{label:_.label,kind:f[_.kind],deviceId:_.id,groupId:""}}))})})}}),navigator.mediaDevices.getUserMedia){var v=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(d){return D(d,function(f){return v(f).catch(function(h){return Promise.reject(y(h))})})}}else navigator.mediaDevices.getUserMedia=function(d){return C(d)};typeof navigator.mediaDevices.addEventListener>"u"&&(navigator.mediaDevices.addEventListener=function(){u("Dummy mediaDevices.addEventListener called.")}),typeof navigator.mediaDevices.removeEventListener>"u"&&(navigator.mediaDevices.removeEventListener=function(){u("Dummy mediaDevices.removeEventListener called.")})}},8943:(N,T,w)=>{"use strict";var u=w(7463),b=w(6794).log,D={shimPeerConnection:function(){window.RTCIceGatherer&&(window.RTCIceCandidate||(window.RTCIceCandidate=function(y){return y}),window.RTCSessionDescription||(window.RTCSessionDescription=function(y){return y})),window.RTCPeerConnection=function(y){var g=this,C=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(v){g[v]=C[v].bind(C)}),this.onicecandidate=null,this.onaddstream=null,this.ontrack=null,this.onremovestream=null,this.onsignalingstatechange=null,this.oniceconnectionstatechange=null,this.onnegotiationneeded=null,this.ondatachannel=null,this.localStreams=[],this.remoteStreams=[],this.getLocalStreams=function(){return g.localStreams},this.getRemoteStreams=function(){return g.remoteStreams},this.localDescription=new RTCSessionDescription({type:"",sdp:""}),this.remoteDescription=new RTCSessionDescription({type:"",sdp:""}),this.signalingState="stable",this.iceConnectionState="new",this.iceGatheringState="new",this.iceOptions={gatherPolicy:"all",iceServers:[]},y&&y.iceTransportPolicy)switch(y.iceTransportPolicy){case"all":case"relay":this.iceOptions.gatherPolicy=y.iceTransportPolicy;break;case"none":throw new TypeError('iceTransportPolicy "none" not supported')}y&&y.iceServers&&(this.iceOptions.iceServers=y.iceServers.filter(function(v){return!(!v||!v.urls||(v.urls=v.urls.filter(function(d){return 0===d.indexOf("turn:")&&-1!==d.indexOf("transport=udp")})[0],!v.urls))})),this.transceivers=[],this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype._emitBufferedCandidates=function(){var y=this,g=u.splitSections(y.localDescription.sdp);this._localIceCandidatesBuffer.forEach(function(C){if(C.candidate&&0!==Object.keys(C.candidate).length)-1===C.candidate.candidate.indexOf("typ endOfCandidates")&&(g[C.candidate.sdpMLineIndex+1]+="a="+C.candidate.candidate+"\r\n");else for(var d=1;d<g.length;d++)-1===g[d].indexOf("\r\na=end-of-candidates\r\n")&&(g[d]+="a=end-of-candidates\r\n");y.localDescription.sdp=g.join(""),y.dispatchEvent(C),null!==y.onicecandidate&&y.onicecandidate(C),C.candidate||"complete"===y.iceGatheringState||y.transceivers.every(function(h){return h.iceGatherer&&"completed"===h.iceGatherer.state})&&(y.iceGatheringState="complete")}),this._localIceCandidatesBuffer=[]},window.RTCPeerConnection.prototype.addStream=function(y){this.localStreams.push(y.clone()),this._maybeFireNegotiationNeeded()},window.RTCPeerConnection.prototype.removeStream=function(y){var g=this.localStreams.indexOf(y);g>-1&&(this.localStreams.splice(g,1),this._maybeFireNegotiationNeeded())},window.RTCPeerConnection.prototype.getSenders=function(){return this.transceivers.filter(function(y){return!!y.rtpSender}).map(function(y){return y.rtpSender})},window.RTCPeerConnection.prototype.getReceivers=function(){return this.transceivers.filter(function(y){return!!y.rtpReceiver}).map(function(y){return y.rtpReceiver})},window.RTCPeerConnection.prototype._getCommonCapabilities=function(y,g){var C={codecs:[],headerExtensions:[],fecMechanisms:[]};return y.codecs.forEach(function(v){for(var d=0;d<g.codecs.length;d++){var f=g.codecs[d];if(v.name.toLowerCase()===f.name.toLowerCase()&&v.clockRate===f.clockRate&&v.numChannels===f.numChannels){C.codecs.push(f);break}}}),y.headerExtensions.forEach(function(v){for(var d=0;d<g.headerExtensions.length;d++){var f=g.headerExtensions[d];if(v.uri===f.uri){C.headerExtensions.push(f);break}}}),C},window.RTCPeerConnection.prototype._createIceAndDtlsTransports=function(y,g){var C=this,v=new RTCIceGatherer(C.iceOptions),d=new RTCIceTransport(v);v.onlocalcandidate=function(h){var _=new Event("icecandidate");_.candidate={sdpMid:y,sdpMLineIndex:g};var S=h.candidate,I=!S||0===Object.keys(S).length;I?(void 0===v.state&&(v.state="completed"),_.candidate.candidate="candidate:1 1 udp 1 0.0.0.0 9 typ endOfCandidates"):(S.component="RTCP"===d.component?2:1,_.candidate.candidate=u.writeCandidate(S));var A=C.transceivers.every(function(O){return O.iceGatherer&&"completed"===O.iceGatherer.state});switch(C.iceGatheringState){case"new":C._localIceCandidatesBuffer.push(_),I&&A&&C._localIceCandidatesBuffer.push(new Event("icecandidate"));break;case"gathering":C._emitBufferedCandidates(),C.dispatchEvent(_),null!==C.onicecandidate&&C.onicecandidate(_),A&&(C.dispatchEvent(new Event("icecandidate")),null!==C.onicecandidate&&C.onicecandidate(new Event("icecandidate")),C.iceGatheringState="complete")}},d.onicestatechange=function(){C._updateConnectionState()};var f=new RTCDtlsTransport(d);return f.ondtlsstatechange=function(){C._updateConnectionState()},f.onerror=function(){f.state="failed",C._updateConnectionState()},{iceGatherer:v,iceTransport:d,dtlsTransport:f}},window.RTCPeerConnection.prototype._transceive=function(y,g,C){var v=this._getCommonCapabilities(y.localCapabilities,y.remoteCapabilities);g&&y.rtpSender&&(v.encodings=y.sendEncodingParameters,v.rtcp={cname:u.localCName},y.recvEncodingParameters.length&&(v.rtcp.ssrc=y.recvEncodingParameters[0].ssrc),y.rtpSender.send(v)),C&&y.rtpReceiver&&(v.encodings=y.recvEncodingParameters,v.rtcp={cname:y.cname},y.sendEncodingParameters.length&&(v.rtcp.ssrc=y.sendEncodingParameters[0].ssrc),y.rtpReceiver.receive(v))},window.RTCPeerConnection.prototype.setLocalDescription=function(y){var C,v,g=this;if("offer"===y.type)this._pendingOffer&&(C=u.splitSections(y.sdp),v=C.shift(),C.forEach(function(S,I){var A=u.parseRtpParameters(S);g._pendingOffer[I].localCapabilities=A}),this.transceivers=this._pendingOffer,delete this._pendingOffer);else if("answer"===y.type){C=u.splitSections(g.remoteDescription.sdp),v=C.shift();var d=u.matchPrefix(v,"a=ice-lite").length>0;C.forEach(function(S,I){var A=g.transceivers[I],O=A.iceGatherer,L=A.iceTransport,j=A.dtlsTransport,m=A.localCapabilities,M=A.remoteCapabilities;if("0"!==S.split("\n",1)[0].split(" ",2)[1]){var k=u.getIceParameters(S,v);if(d){var V=u.matchPrefix(S,"a=candidate:").map(function(G){return u.parseCandidate(G)}).filter(function(G){return"1"===G.component});L.setRemoteCandidates(V)}L.start(O,k,d?"controlling":"controlled");var q=u.getDtlsParameters(S,v);d&&(q.role="server"),j.start(q);var U=g._getCommonCapabilities(m,M);g._transceive(A,U.codecs.length>0,!1)}})}switch(this.localDescription={type:y.type,sdp:y.sdp},y.type){case"offer":this._updateSignalingState("have-local-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+y.type+'"')}var f=arguments.length>1&&"function"==typeof arguments[1];if(f){var h=arguments[1];window.setTimeout(function(){h(),"new"===g.iceGatheringState&&(g.iceGatheringState="gathering"),g._emitBufferedCandidates()},0)}var _=Promise.resolve();return _.then(function(){f||("new"===g.iceGatheringState&&(g.iceGatheringState="gathering"),window.setTimeout(g._emitBufferedCandidates.bind(g),500))}),_},window.RTCPeerConnection.prototype.setRemoteDescription=function(y){var g=this,C=new MediaStream,v=[],d=u.splitSections(y.sdp),f=d.shift(),h=u.matchPrefix(f,"a=ice-lite").length>0;switch(d.forEach(function(_,S){var m,M,R,k,V,q,U,G,fe,$,ne,te,A=u.splitLines(_)[0].substr(2).split(" "),O=A[0],L="0"===A[1],j=u.getDirection(_,f),W=u.parseRtpParameters(_);L||(ne=u.getIceParameters(_,f),(te=u.getDtlsParameters(_,f)).role="client"),G=u.parseRtpEncodingParameters(_);var de=u.matchPrefix(_,"a=mid:");de=de.length?de[0].substr(6):u.generateIdentifier();var ve,he=u.matchPrefix(_,"a=ssrc:").map(function(F){return u.parseSsrcMedia(F)}).filter(function(F){return"cname"===F.attribute})[0];he&&(ve=he.value);var ue=u.matchPrefix(_,"a=end-of-candidates").length>0,oe=u.matchPrefix(_,"a=candidate:").map(function(F){return u.parseCandidate(F)}).filter(function(F){return"1"===F.component});if("offer"!==y.type||L)"answer"===y.type&&!L&&(M=(m=g.transceivers[S]).iceGatherer,R=m.iceTransport,k=m.dtlsTransport,V=m.rtpSender,q=m.rtpReceiver,U=m.sendEncodingParameters,fe=m.localCapabilities,g.transceivers[S].recvEncodingParameters=G,g.transceivers[S].remoteCapabilities=W,g.transceivers[S].cname=ve,(h||ue)&&R.setRemoteCandidates(oe),R.start(M,ne,"controlling"),k.start(te),g._transceive(m,"sendrecv"===j||"recvonly"===j,"sendrecv"===j||"sendonly"===j),!q||"sendrecv"!==j&&"sendonly"!==j?delete m.rtpReceiver:(v.push([$=q.track,q]),C.addTrack($)));else{var Ce=g._createIceAndDtlsTransports(de,S);if(ue&&Ce.iceTransport.setRemoteCandidates(oe),fe=RTCRtpReceiver.getCapabilities(O),U=[{ssrc:1001*(2*S+2)}],q=new RTCRtpReceiver(Ce.dtlsTransport,O),v.push([$=q.track,q]),C.addTrack($),g.localStreams.length>0&&g.localStreams[0].getTracks().length>=S){var we=g.localStreams[0].getTracks()[S];V=new RTCRtpSender(we,Ce.dtlsTransport)}g.transceivers[S]={iceGatherer:Ce.iceGatherer,iceTransport:Ce.iceTransport,dtlsTransport:Ce.dtlsTransport,localCapabilities:fe,remoteCapabilities:W,rtpSender:V,rtpReceiver:q,kind:O,mid:de,cname:ve,sendEncodingParameters:U,recvEncodingParameters:G},g._transceive(g.transceivers[S],!1,"sendrecv"===j||"sendonly"===j)}}),this.remoteDescription={type:y.type,sdp:y.sdp},y.type){case"offer":this._updateSignalingState("have-remote-offer");break;case"answer":this._updateSignalingState("stable");break;default:throw new TypeError('unsupported type "'+y.type+'"')}return C.getTracks().length&&(g.remoteStreams.push(C),window.setTimeout(function(){var _=new Event("addstream");_.stream=C,g.dispatchEvent(_),null!==g.onaddstream&&window.setTimeout(function(){g.onaddstream(_)},0),v.forEach(function(S){var I=S[0],A=S[1],O=new Event("track");O.track=I,O.receiver=A,O.streams=[C],g.dispatchEvent(_),null!==g.ontrack&&window.setTimeout(function(){g.ontrack(O)},0)})},0)),arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.close=function(){this.transceivers.forEach(function(y){y.iceTransport&&y.iceTransport.stop(),y.dtlsTransport&&y.dtlsTransport.stop(),y.rtpSender&&y.rtpSender.stop(),y.rtpReceiver&&y.rtpReceiver.stop()}),this._updateSignalingState("closed")},window.RTCPeerConnection.prototype._updateSignalingState=function(y){this.signalingState=y;var g=new Event("signalingstatechange");this.dispatchEvent(g),null!==this.onsignalingstatechange&&this.onsignalingstatechange(g)},window.RTCPeerConnection.prototype._maybeFireNegotiationNeeded=function(){var y=new Event("negotiationneeded");this.dispatchEvent(y),null!==this.onnegotiationneeded&&this.onnegotiationneeded(y)},window.RTCPeerConnection.prototype._updateConnectionState=function(){var g,C={new:0,closed:0,connecting:0,checking:0,connected:0,completed:0,failed:0};if(this.transceivers.forEach(function(d){C[d.iceTransport.state]++,C[d.dtlsTransport.state]++}),C.connected+=C.completed,g="new",C.failed>0?g="failed":C.connecting>0||C.checking>0?g="connecting":C.disconnected>0?g="disconnected":C.new>0?g="new":(C.connected>0||C.completed>0)&&(g="connected"),g!==this.iceConnectionState){this.iceConnectionState=g;var v=new Event("iceconnectionstatechange");this.dispatchEvent(v),null!==this.oniceconnectionstatechange&&this.oniceconnectionstatechange(v)}},window.RTCPeerConnection.prototype.createOffer=function(){var g,y=this;if(this._pendingOffer)throw new Error("createOffer called while there is a pending offer.");1===arguments.length&&"function"!=typeof arguments[0]?g=arguments[0]:3===arguments.length&&(g=arguments[2]);var C=[],v=0,d=0;if(this.localStreams.length&&(v=this.localStreams[0].getAudioTracks().length,d=this.localStreams[0].getVideoTracks().length),g){if(g.mandatory||g.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==g.offerToReceiveAudio&&(v=g.offerToReceiveAudio),void 0!==g.offerToReceiveVideo&&(d=g.offerToReceiveVideo)}for(this.localStreams.length&&this.localStreams[0].getTracks().forEach(function(S){C.push({kind:S.kind,track:S,wantReceive:"audio"===S.kind?v>0:d>0}),"audio"===S.kind?v--:"video"===S.kind&&d--});v>0||d>0;)v>0&&(C.push({kind:"audio",wantReceive:!0}),v--),d>0&&(C.push({kind:"video",wantReceive:!0}),d--);var f=u.writeSessionBoilerplate(),h=[];C.forEach(function(S,I){var M,R,A=S.track,O=S.kind,L=u.generateIdentifier(),j=y._createIceAndDtlsTransports(L,I),m=RTCRtpSender.getCapabilities(O),k=[{ssrc:1001*(2*I+1)}];A&&(M=new RTCRtpSender(A,j.dtlsTransport)),S.wantReceive&&(R=new RTCRtpReceiver(j.dtlsTransport,O)),h[I]={iceGatherer:j.iceGatherer,iceTransport:j.iceTransport,dtlsTransport:j.dtlsTransport,localCapabilities:m,remoteCapabilities:null,rtpSender:M,rtpReceiver:R,kind:O,mid:L,sendEncodingParameters:k,recvEncodingParameters:null};var V=h[I];f+=u.writeMediaSection(V,V.localCapabilities,"offer",y.localStreams[0])}),this._pendingOffer=h;var _=new RTCSessionDescription({type:"offer",sdp:f});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,_),Promise.resolve(_)},window.RTCPeerConnection.prototype.createAnswer=function(){var y=this,g=u.writeSessionBoilerplate();this.transceivers.forEach(function(v){var d=y._getCommonCapabilities(v.localCapabilities,v.remoteCapabilities);g+=u.writeMediaSection(v,d,"answer",y.localStreams[0])});var C=new RTCSessionDescription({type:"answer",sdp:g});return arguments.length&&"function"==typeof arguments[0]&&window.setTimeout(arguments[0],0,C),Promise.resolve(C)},window.RTCPeerConnection.prototype.addIceCandidate=function(y){var g=y.sdpMLineIndex;if(y.sdpMid)for(var C=0;C<this.transceivers.length;C++)if(this.transceivers[C].mid===y.sdpMid){g=C;break}var v=this.transceivers[g];if(v){var d=Object.keys(y.candidate).length>0?u.parseCandidate(y.candidate):{};if("tcp"===d.protocol&&0===d.port||"1"!==d.component)return;"endOfCandidates"===d.type&&(d={}),v.iceTransport.addRemoteCandidate(d);var f=u.splitSections(this.remoteDescription.sdp);f[g+1]+=(d.type?y.candidate.trim():"a=end-of-candidates")+"\r\n",this.remoteDescription.sdp=f.join("")}return arguments.length>1&&"function"==typeof arguments[1]&&window.setTimeout(arguments[1],0),Promise.resolve()},window.RTCPeerConnection.prototype.getStats=function(){var y=[];this.transceivers.forEach(function(C){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(v){C[v]&&y.push(C[v].getStats())})});var g=arguments.length>1&&"function"==typeof arguments[1]&&arguments[1];return new Promise(function(C){var v=new Map;Promise.all(y).then(function(d){d.forEach(function(f){Object.keys(f).forEach(function(h){v.set(h,f[h]),v[h]=f[h]})}),g&&window.setTimeout(g,0,v),C(v)})})}},attachMediaStream:function(y,g){b("DEPRECATED, attachMediaStream will soon be removed."),y.srcObject=g},reattachMediaStream:function(y,g){b("DEPRECATED, reattachMediaStream will soon be removed."),y.srcObject=g.srcObject}};N.exports={shimPeerConnection:D.shimPeerConnection,shimGetUserMedia:w(142),attachMediaStream:D.attachMediaStream,reattachMediaStream:D.reattachMediaStream}},142:N=>{"use strict";N.exports=function(){var w=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=function(u){return w(u).catch(function(b){return Promise.reject(function(u){return{name:{PermissionDeniedError:"NotAllowedError"}[u.name]||u.name,message:u.message,constraint:u.constraint,toString:function(){return this.name}}}(b))})}}},5188:(N,T,w)=>{"use strict";var u=w(6794).log,b=w(6794).browserDetails,D={shimOnTrack:function(){"object"==typeof window&&window.RTCPeerConnection&&!("ontrack"in window.RTCPeerConnection.prototype)&&Object.defineProperty(window.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(y){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=y),this.addEventListener("addstream",this._ontrackpoly=function(g){g.stream.getTracks().forEach(function(C){var v=new Event("track");v.track=C,v.receiver={track:C},v.streams=[g.stream],this.dispatchEvent(v)}.bind(this))}.bind(this))}})},shimSourceObject:function(){"object"==typeof window&&window.HTMLMediaElement&&!("srcObject"in window.HTMLMediaElement.prototype)&&Object.defineProperty(window.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(y){this.mozSrcObject=y}})},shimPeerConnection:function(){if("object"==typeof window&&(window.RTCPeerConnection||window.mozRTCPeerConnection)){window.RTCPeerConnection||(window.RTCPeerConnection=function(C,v){if(b.version<38&&C&&C.iceServers){for(var d=[],f=0;f<C.iceServers.length;f++){var h=C.iceServers[f];if(h.hasOwnProperty("urls"))for(var _=0;_<h.urls.length;_++){var S={url:h.urls[_]};0===h.urls[_].indexOf("turn")&&(S.username=h.username,S.credential=h.credential),d.push(S)}else d.push(C.iceServers[f])}C.iceServers=d}return new mozRTCPeerConnection(C,v)},window.RTCPeerConnection.prototype=mozRTCPeerConnection.prototype,mozRTCPeerConnection.generateCertificate&&Object.defineProperty(window.RTCPeerConnection,"generateCertificate",{get:function(){return mozRTCPeerConnection.generateCertificate}}),window.RTCSessionDescription=mozRTCSessionDescription,window.RTCIceCandidate=mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(C){var v=RTCPeerConnection.prototype[C];RTCPeerConnection.prototype[C]=function(){return arguments[0]=new("addIceCandidate"===C?RTCIceCandidate:RTCSessionDescription)(arguments[0]),v.apply(this,arguments)}});var g=RTCPeerConnection.prototype.getStats;RTCPeerConnection.prototype.getStats=function(C,v,d){return g.apply(this,[C||null]).then(function(f){return function(C){var v=new Map;return Object.keys(C).forEach(function(d){v.set(d,C[d]),v[d]=C[d]}),v}(f)}).then(v,d)}}},shimGetUserMedia:function(){if(navigator.getUserMedia=function(v,d,f){var h=function(_){if("object"!=typeof _||_.require)return _;var S=[];return Object.keys(_).forEach(function(I){if("require"!==I&&"advanced"!==I&&"mediaSource"!==I){var A=_[I]="object"==typeof _[I]?_[I]:{ideal:_[I]};if((void 0!==A.min||void 0!==A.max||void 0!==A.exact)&&S.push(I),void 0!==A.exact&&("number"==typeof A.exact?A.min=A.max=A.exact:_[I]=A.exact,delete A.exact),void 0!==A.ideal){_.advanced=_.advanced||[];var O={};O[I]="number"==typeof A.ideal?{min:A.ideal,max:A.ideal}:A.ideal,_.advanced.push(O),delete A.ideal,Object.keys(A).length||delete _[I]}}}),S.length&&(_.require=S),_};return v=JSON.parse(JSON.stringify(v)),b.version<38&&(u("spec: "+JSON.stringify(v)),v.audio&&(v.audio=h(v.audio)),v.video&&(v.video=h(v.video)),u("ff37: "+JSON.stringify(v))),navigator.mozGetUserMedia(v,d,f)},navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(v){return new Promise(function(d,f){navigator.getUserMedia(v,d,f)})},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(v){v([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},b.version<41){var C=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return C().then(void 0,function(v){if("NotFoundError"===v.name)return[];throw v})}}},attachMediaStream:function(y,g){u("DEPRECATED, attachMediaStream will soon be removed."),y.srcObject=g},reattachMediaStream:function(y,g){u("DEPRECATED, reattachMediaStream will soon be removed."),y.srcObject=g.srcObject}};N.exports={shimOnTrack:D.shimOnTrack,shimSourceObject:D.shimSourceObject,shimPeerConnection:D.shimPeerConnection,shimGetUserMedia:w(8364),attachMediaStream:D.attachMediaStream,reattachMediaStream:D.reattachMediaStream}},8364:(N,T,w)=>{"use strict";var u=w(6794).log,b=w(6794).browserDetails;N.exports=function(){var D=d=>({name:{SecurityError:"NotAllowedError",PermissionDeniedError:"NotAllowedError"}[d.name]||d.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[d.message]||d.message,constraint:d.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}});if(navigator.getUserMedia=function(d,f,h){var _=function(S){if("object"!=typeof S||S.require)return S;var I=[];return Object.keys(S).forEach(function(A){if("require"!==A&&"advanced"!==A&&"mediaSource"!==A){var O=S[A]="object"==typeof S[A]?S[A]:{ideal:S[A]};if((void 0!==O.min||void 0!==O.max||void 0!==O.exact)&&I.push(A),void 0!==O.exact&&("number"==typeof O.exact?O.min=O.max=O.exact:S[A]=O.exact,delete O.exact),void 0!==O.ideal){S.advanced=S.advanced||[];var L={};L[A]="number"==typeof O.ideal?{min:O.ideal,max:O.ideal}:O.ideal,S.advanced.push(L),delete O.ideal,Object.keys(O).length||delete S[A]}}}),I.length&&(S.require=I),S};return d=JSON.parse(JSON.stringify(d)),b.version<38&&(u("spec: "+JSON.stringify(d)),d.audio&&(d.audio=_(d.audio)),d.video&&(d.video=_(d.video)),u("ff37: "+JSON.stringify(d))),navigator.mozGetUserMedia(d,f,S=>h(D(S)))},navigator.mediaDevices||(navigator.mediaDevices={getUserMedia:function(d){return new Promise(function(f,h){navigator.getUserMedia(d,f,h)})},addEventListener:function(){},removeEventListener:function(){}}),navigator.mediaDevices.enumerateDevices=navigator.mediaDevices.enumerateDevices||function(){return new Promise(function(d){d([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},b.version<41){var C=navigator.mediaDevices.enumerateDevices.bind(navigator.mediaDevices);navigator.mediaDevices.enumerateDevices=function(){return C().then(void 0,function(d){if("NotFoundError"===d.name)return[];throw d})}}if(b.version<49){var v=navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);navigator.mediaDevices.getUserMedia=d=>v(d).catch(f=>Promise.reject(D(f)))}}},9681:N=>{"use strict";N.exports={shimGetUserMedia:function(){navigator.getUserMedia=navigator.webkitGetUserMedia}}},6794:N=>{"use strict";var T=!1,w={disableLog:function(u){return"boolean"!=typeof u?new Error("Argument type: "+typeof u+". Please use a boolean."):(T=u,u?"adapter.js logging disabled":"adapter.js logging enabled")},log:function(){if("object"==typeof window){if(T)return;typeof console<"u"&&"function"==typeof console.log&&console.log.apply(console,arguments)}},extractVersion:function(u,b,D){var y=u.match(b);return y&&y.length>=D&&parseInt(y[D],10)},detectBrowser:function(){var u={browser:null,version:null,minVersion:null};if(typeof window>"u"||!window.navigator)return u.browser="Not a browser.",u;if(navigator.mozGetUserMedia)u.browser="firefox",u.version=this.extractVersion(navigator.userAgent,/Firefox\/([0-9]+)\./,1),u.minVersion=31;else if(navigator.webkitGetUserMedia)if(window.webkitRTCPeerConnection)u.browser="chrome",u.version=this.extractVersion(navigator.userAgent,/Chrom(e|ium)\/([0-9]+)\./,2),u.minVersion=38;else{if(!navigator.userAgent.match(/Version\/(\d+).(\d+)/))return u.browser="Unsupported webkit-based browser with GUM support but no WebRTC support.",u;u.browser="safari",u.version=this.extractVersion(navigator.userAgent,/AppleWebKit\/([0-9]+)\./,1),u.minVersion=602}else{if(!navigator.mediaDevices||!navigator.userAgent.match(/Edge\/(\d+).(\d+)$/))return u.browser="Not a supported browser.",u;u.browser="edge",u.version=this.extractVersion(navigator.userAgent,/Edge\/(\d+).(\d+)$/,2),u.minVersion=10547}return u.version<u.minVersion&&w.log("Browser: "+u.browser+" Version: "+u.version+" < minimum supported version: "+u.minVersion+"\n some things might not work!"),u}};N.exports={log:w.log,disableLog:w.disableLog,browserDetails:w.detectBrowser(),extractVersion:w.extractVersion}},7688:(N,T,w)=>{var u=w(6788),b=w(9627),D=w(1393),y=w(2069),g=w(3375),C="https://simplewebrtc.com/protocol/filetransfer#inband-v1";function v(d){var f=this;this.id=d.id,this.parent=d.parent,this.type=d.type||"video",this.oneway=d.oneway||!1,this.sharemyscreen=d.sharemyscreen||!1,this.browserPrefix=d.prefix,this.stream=d.stream,this.enableDataChannels=void 0===d.enableDataChannels?this.parent.config.enableDataChannels:d.enableDataChannels,this.receiveMedia=d.receiveMedia||this.parent.config.receiveMedia,this.channels={},this.sid=d.sid||Date.now().toString(),this.pc=new D(this.parent.config.peerConnectionConfig,this.parent.config.peerConnectionConstraints),this.pc.on("ice",this.onIceCandidate.bind(this)),this.pc.on("offer",function(h){f.send("offer",h)}),this.pc.on("answer",function(h){f.send("answer",h)}),this.pc.on("addStream",this.handleRemoteStreamAdded.bind(this)),this.pc.on("addChannel",this.handleDataChannelAdded.bind(this)),this.pc.on("removeStream",this.handleStreamRemoved.bind(this)),this.pc.on("negotiationNeeded",this.emit.bind(this,"negotiationNeeded")),this.pc.on("iceConnectionStateChange",this.emit.bind(this,"iceConnectionStateChange")),this.pc.on("iceConnectionStateChange",function(){"failed"===f.pc.iceConnectionState&&"offer"===f.pc.pc.peerconnection.localDescription.type&&(f.parent.emit("iceFailed",f),f.send("connectivityError"))}),this.pc.on("signalingStateChange",this.emit.bind(this,"signalingStateChange")),this.logger=this.parent.logger,"screen"===d.type?this.parent.localScreen&&this.sharemyscreen&&(this.logger.log("adding local screen stream to peer connection"),this.pc.addStream(this.parent.localScreen),this.broadcaster=d.broadcaster):this.parent.localStreams.forEach(function(h){f.pc.addStream(h)}),y.call(this),this.on("channelOpen",function(h){h.protocol===C&&(h.onmessage=function(_){var S=JSON.parse(_.data),I=new g.Receiver;I.receive(S,h),f.emit("fileTransfer",S,I),I.on("receivedFile",function(A,O){I.channel.close()})})}),this.on("*",function(){f.parent.emit.apply(f.parent,arguments)})}u.inherits(v,y),v.prototype.handleMessage=function(d){var f=this;this.logger.log("getting",d.type,d),d.prefix&&(this.browserPrefix=d.prefix),"offer"===d.type?(d.payload.sdp=d.payload.sdp.replace("a=fmtp:0 profile-level-id=0x42e00c;packetization-mode=1\r\n",""),this.pc.handleOffer(d.payload,function(h){h||f.pc.answer(f.receiveMedia,function(_,S){})})):"answer"===d.type?this.pc.handleAnswer(d.payload):"candidate"===d.type?this.pc.processIce(d.payload):"connectivityError"===d.type?this.parent.emit("connectivityError",f):"mute"===d.type?this.parent.emit("mute",{id:d.from,name:d.payload.name}):"unmute"===d.type&&this.parent.emit("unmute",{id:d.from,name:d.payload.name})},v.prototype.send=function(d,f){var h={to:this.id,sid:this.sid,broadcaster:this.broadcaster,roomType:this.type,type:d,payload:f,prefix:b.prefix};this.logger.log("sending",d,h),this.parent.emit("message",h)},v.prototype.sendDirectly=function(d,f,h){var _={type:f,payload:h};this.logger.log("sending via datachannel",d,f,_);var S=this.getDataChannel(d);return"open"==S.readyState&&(S.send(JSON.stringify(_)),!0)},v.prototype._observeDataChannel=function(d){var f=this;d.onclose=this.emit.bind(this,"channelClose",d),d.onerror=this.emit.bind(this,"channelError",d),d.onmessage=function(h){f.emit("channelMessage",f,d.label,JSON.parse(h.data),d,h)},d.onopen=this.emit.bind(this,"channelOpen",d)},v.prototype.getDataChannel=function(d,f){if(!b.supportDataChannel)return this.emit("error",new Error("createDataChannel not supported"));var h=this.channels[d];return f||(f={}),h||(h=this.channels[d]=this.pc.createDataChannel(d,f),this._observeDataChannel(h),h)},v.prototype.onIceCandidate=function(d){this.closed||(d?this.send("candidate",d):this.logger.log("End of candidates."))},v.prototype.start=function(){this.enableDataChannels&&this.getDataChannel("simplewebrtc"),this.pc.offer(this.receiveMedia,function(f,h){})},v.prototype.icerestart=function(){var d=this.receiveMedia;d.mandatory.IceRestart=!0,this.pc.offer(d,function(f,h){})},v.prototype.end=function(){this.closed||(this.pc.close(),this.handleStreamRemoved())},v.prototype.handleRemoteStreamAdded=function(d){var f=this;this.stream?this.logger.warn("Already have a remote stream"):(this.stream=d.stream,this.stream.onended=function(){f.end()},this.parent.emit("peerStreamAdded",this))},v.prototype.handleStreamRemoved=function(){this.parent.peers.splice(this.parent.peers.indexOf(this),1),this.closed=!0,this.parent.emit("peerStreamRemoved",this)},v.prototype.handleDataChannelAdded=function(d){this.channels[d.label]=d,this._observeDataChannel(d)},v.prototype.sendFile=function(d){var f=new g.Sender,h=this.getDataChannel("filetransfer"+(new Date).getTime(),{protocol:C});return h.onopen=function(){h.send(JSON.stringify({size:d.size,name:d.name})),f.send(d,h)},h.onclose=function(){console.log("sender received transfer"),f.emit("complete")},f},N.exports=v},7746:(N,T,w)=>{var u=w(6788),b=w(9627),y=(w(2069),w(2957)),g=w(530),C=w(7688);function v(d){var S,f=this,h=d||{};for(S in this.config={debug:!1,peerConnectionConfig:{iceServers:[{url:"stun:stun.l.google.com:19302"}]},peerConnectionConstraints:{optional:[{DtlsSrtpKeyAgreement:!0}]},receiveMedia:{mandatory:{OfferToReceiveAudio:!0,OfferToReceiveVideo:!0}},enableDataChannels:!0},this.screenSharingSupport=b.screenSharing,this.logger=d.debug?d.logger||console:d.logger||y,h)this.config[S]=h[S];b.support||this.logger.error("Your browser doesn't seem to support WebRTC"),this.peers=[],g.call(this,this.config),this.on("speaking",function(){f.hardMuted||f.peers.forEach(function(I){if(I.enableDataChannels){var A=I.getDataChannel("hark");if("open"!=A.readyState)return;A.send(JSON.stringify({type:"speaking"}))}})}),this.on("stoppedSpeaking",function(){f.hardMuted||f.peers.forEach(function(I){if(I.enableDataChannels){var A=I.getDataChannel("hark");if("open"!=A.readyState)return;A.send(JSON.stringify({type:"stoppedSpeaking"}))}})}),this.on("volumeChange",function(I,A){f.hardMuted||f.peers.forEach(function(O){if(O.enableDataChannels){var L=O.getDataChannel("hark");if("open"!=L.readyState)return;L.send(JSON.stringify({type:"volume",volume:I}))}})}),this.config.debug&&this.on("*",function(I,A,O){(f.config.logger===y?console:f.logger).log("event:",I,A,O)})}u.inherits(v,g),v.prototype.createPeer=function(d){var f;return d.parent=this,f=new C(d),this.peers.push(f),f},v.prototype.removePeers=function(d,f){this.getPeers(d,f).forEach(function(h){h.end()})},v.prototype.getPeers=function(d,f){return this.peers.filter(function(h){return!(d&&h.id!==d||f&&h.type!==f)})},v.prototype.sendToAll=function(d,f){this.peers.forEach(function(h){h.send(d,f)})},v.prototype.sendDirectlyToAll=function(d,f,h){this.peers.forEach(function(_){_.enableDataChannels&&_.sendDirectly(d,f,h)})},N.exports=v},9627:N=>{var T,w;window.mozRTCPeerConnection||navigator.mozGetUserMedia?(T="moz",w=parseInt(navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1],10)):(window.webkitRTCPeerConnection||navigator.webkitGetUserMedia)&&(T="webkit",w=navigator.userAgent.match(/Chrom(e|ium)/)&&parseInt(navigator.userAgent.match(/Chrom(e|ium)\/([0-9]+)\./)[2],10));var u=window.mozRTCPeerConnection||window.webkitRTCPeerConnection,b=window.mozRTCIceCandidate||window.RTCIceCandidate,D=window.mozRTCSessionDescription||window.RTCSessionDescription,y=window.webkitMediaStream||window.MediaStream,g="https:"===window.location.protocol&&("webkit"===T&&w>=26||"moz"===T&&w>=33),C=window.AudioContext||window.webkitAudioContext,v=document.createElement("video"),d=v&&v.canPlayType&&"probably"===v.canPlayType('video/webm; codecs="vp8", vorbis'),f=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.msGetUserMedia||navigator.mozGetUserMedia;N.exports={prefix:T,browserVersion:w,support:!!u&&d&&!!f,supportRTCPeerConnection:!!u,supportVp8:d,supportGetUserMedia:!!f,supportDataChannel:!!(u&&u.prototype&&u.prototype.createDataChannel),supportWebAudio:!(!C||!C.prototype.createMediaStreamSource),supportMediaStream:!(!y||!y.prototype.removeTrack),supportScreenSharing:!!g,dataChannel:!!(u&&u.prototype&&u.prototype.createDataChannel),webAudio:!(!C||!C.prototype.createMediaStreamSource),mediaStream:!(!y||!y.prototype.removeTrack),screenSharing:!!g,AudioContext:C,PeerConnection:u,SessionDescription:D,IceCandidate:b,MediaStream:y,getUserMedia:f}},2031:(N,T,w)=>{"use strict";var u=w(9435),b=w(7029),D=w(5685),y=w(5834),g=w(7378),C=y("Object.prototype.toString"),v=w(6259)(),d=typeof globalThis>"u"?global:globalThis,f=b(),h=y("String.prototype.slice"),_=Object.getPrototypeOf,S=y("Array.prototype.indexOf",!0)||function(j,m){for(var M=0;M<j.length;M+=1)if(j[M]===m)return M;return-1},I={__proto__:null};u(f,v&&g&&_?function(L){var j=new d[L];if(Symbol.toStringTag in j){var m=_(j),M=g(m,Symbol.toStringTag);if(!M){var R=_(m);M=g(R,Symbol.toStringTag)}I["$"+L]=D(M.get)}}:function(L){var j=new d[L],m=j.slice||j.set;m&&(I["$"+L]=D(m))}),N.exports=function(j){if(!j||"object"!=typeof j)return!1;if(!v){var m=h(C(j),8,-1);return S(f,m)>-1?m:"Object"===m&&function(j){var m=!1;return u(I,function(M,R){if(!m)try{M(j),m=h(R,1)}catch{}}),m}(j)}return g?function(j){var m=!1;return u(I,function(M,R){if(!m)try{"$"+M(j)===R&&(m=h(R,1))}catch{}}),m}(j):null}},2069:N=>{function T(){}N.exports=T,T.mixin=function(w){var u=w.prototype||w;u.isWildEmitter=!0,u.on=function(b,D,y){this.callbacks=this.callbacks||{};var g=3===arguments.length,v=g?arguments[2]:arguments[1];return v._groupName=g?arguments[1]:void 0,(this.callbacks[b]=this.callbacks[b]||[]).push(v),this},u.once=function(b,D,y){var g=this,C=3===arguments.length,d=C?arguments[2]:arguments[1];return this.on(b,C?arguments[1]:void 0,function f(){g.off(b,f),d.apply(this,arguments)}),this},u.releaseGroup=function(b){var D,y,g,C;for(D in this.callbacks=this.callbacks||{},this.callbacks)for(y=0,g=(C=this.callbacks[D]).length;y<g;y++)C[y]._groupName===b&&(C.splice(y,1),y--,g--);return this},u.off=function(b,D){this.callbacks=this.callbacks||{};var g,y=this.callbacks[b];return y?1===arguments.length?(delete this.callbacks[b],this):(-1!==(g=y.indexOf(D))&&(y.splice(g,1),0===y.length&&delete this.callbacks[b]),this):this},u.emit=function(b){this.callbacks=this.callbacks||{};var C,v,f,D=[].slice.call(arguments,1),y=this.callbacks[b],g=this.getWildcardCallbacks(b);if(y)for(C=0,v=(f=y.slice()).length;C<v&&f[C];++C)f[C].apply(this,D);if(g)for(v=g.length,C=0,v=(f=g.slice()).length;C<v&&f[C];++C)f[C].apply(this,[b].concat(D));return this},u.getWildcardCallbacks=function(b){this.callbacks=this.callbacks||{};var D,y,g=[];for(D in this.callbacks)y=D.split("*"),("*"===D||2===y.length&&b.slice(0,y[0].length)===y[0])&&(g=g.concat(this.callbacks[D]));return g}},T.mixin(T)},6771:()=>{},8022:()=>{},6045:()=>{},8190:()=>{},7333:()=>{},6139:()=>{},7029:(N,T,w)=>{"use strict";var u=w(3846),b=typeof globalThis>"u"?global:globalThis;N.exports=function(){for(var y=[],g=0;g<u.length;g++)"function"==typeof b[u[g]]&&(y[y.length]=u[g]);return y}}},N=>{N(N.s=1629)}]);